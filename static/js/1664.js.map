{"version":3,"sources":["webpack://my_webpack/./src/_some_function/getWidthTransform.js","webpack://my_webpack/./src/_some_function/observerAppearance.js","webpack://my_webpack/./src/pages/phone_laptop/pages/home/_main/PhoneLaptop.js","webpack://my_webpack/./src/pages/phone_laptop/pages/home/products_animate/ProductsAnimate.js","webpack://my_webpack/./src/pages/phone_laptop/pages/home/products_spec/SpecProducts.js"],"names":["class_row","class_item","total_item","width_row","document","getElementsByClassName","getBoundingClientRect","width","width_item","width_total","width_transform","Math","floor","max_width_transform","elm","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","target","dataset","appearance","unobserve","threshold","observe","skeleton_arr","Array","fill","hot_products","initial_params","pk","gte_price","lte_price","in_stock","page","PhoneLaptop","props","params","setState","API_PhoneLaptop_L","res","mounted","data","console","log","useState","hot_product_arr","setHotProductArr","phone_arr","setPhoneArr","laptop_arr","setLaptopArr","ref_hot","useRef","ref_phone","ref_lap","useMounted","useEffect","title","current","callback","getPhonesLaptops","is_hot","size","type_product","className","ref","products","link","propTypes","TIME_TRANS","IS_MOBILE","ProductsAnimate","state","translateX","refProductAnimate","ref_product_animate","makeBtnDisabled","stop_auto","just_click","setTimeout","handleNextPrev","length","nextPhones","prevPhones","autoNext","this","data-appearance","style","transform","transition","map","product_obj","index","key","id","handleNext","handlePrev","Component","PropTypes","array","SpecProducts","Link","to"],"mappings":"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","file":"static/js/1664.js","sourcesContent":["/**\r\n * get width to transform and max width transform base on row and item\r\n */\r\nfunction getWidthTransform(class_row='', class_item='', total_item=0){\r\n    const width_row = document.getElementsByClassName(class_row)[0].getBoundingClientRect().width\r\n    const width_item = document.getElementsByClassName(class_item)[0].getBoundingClientRect().width\r\n    const width_total = width_item * total_item\r\n    //\r\n    const width_transform = Math.floor(width_row / width_item) * width_item\r\n    const max_width_transform = width_total - width_row\r\n    // \r\n    return [width_transform, max_width_transform]\r\n}\r\n\r\nexport default getWidthTransform;","// \r\nconst observerAppearance = (elm) => {\r\n    const observer = new IntersectionObserver((entries, observer) => {\r\n        entries.forEach((entry) => {\r\n            if (entry.isIntersecting) {\r\n                entry.target.dataset.appearance = true\r\n                observer.unobserve(entry.target)\r\n            } else {\r\n                if (entry.target.dataset.appearance) {\r\n                    entry.target.dataset.appearance = false\r\n                    observer.unobserve(entry.target)\r\n                }\r\n            }\r\n        });\r\n    }, {\r\n        threshold: 0.9\r\n    });\r\n    //\r\n    observer.observe(elm);\r\n};\r\n\r\nexport default observerAppearance;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { API_PhoneLaptop_L } from '../../../../../api/api_django_no_token/phone_laptop/PhoneLaptopAPI';\r\n//\r\nimport { useMounted } from '../../../../../_hooks/useMounted';\r\n//\r\nimport observeToDo from '../../../../../_some_function/observerToDo';\r\n//\r\nimport ProductsAnimate from '../products_animate/ProductsAnimate';\r\nimport SpecProducts from '../products_spec/SpecProducts';\r\n//\r\nimport './PhoneLaptop.scss';\r\n\r\n// const\r\nconst skeleton_arr = Array(5).fill({});\r\nconst hot_products = Array(12).fill({});\r\nconst initial_params = {\r\n    pk: -1,\r\n    gte_price: 0,\r\n    lte_price: 100000000,\r\n    in_stock: '',\r\n    page: 1,\r\n};\r\n\r\n//\r\nPhoneLaptop.propTypes = {};\r\n\r\n//\r\nfunction PhoneLaptop(props) {\r\n    //\r\n    const [hot_product_arr, setHotProductArr] = useState(hot_products);\r\n    const [phone_arr, setPhoneArr] = useState(skeleton_arr);\r\n    const [laptop_arr, setLaptopArr] = useState(skeleton_arr);\r\n\r\n    //\r\n    const ref_hot = useRef(null);\r\n    const ref_phone = useRef(null);\r\n    const ref_lap = useRef(null);\r\n\r\n    //\r\n    const mounted = useMounted();\r\n\r\n    //\r\n    useEffect(() => {\r\n        document.title = 'Phone Laptop';\r\n        getAPIWhenCDM();\r\n    }, []);\r\n\r\n    // -------- API\r\n\r\n    async function getPhonesLaptops(params, setState) {\r\n        try {\r\n            const res = await API_PhoneLaptop_L({\r\n                ...initial_params,\r\n                ...params,\r\n            });\r\n\r\n            mounted && setState(res.data.data);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    // -----\r\n\r\n    //\r\n    function getAPIWhenCDM() {\r\n        observeToDo({\r\n            elm: ref_hot.current,\r\n            callback: () =>\r\n                getPhonesLaptops(\r\n                    {\r\n                        is_hot: 1,\r\n                        size: 12,\r\n                    },\r\n                    setHotProductArr\r\n                ),\r\n        });\r\n\r\n        observeToDo({\r\n            elm: ref_phone.current,\r\n            callback: () =>\r\n                getPhonesLaptops(\r\n                    {\r\n                        type_product: 'phone',\r\n                        size: 15,\r\n                    },\r\n                    setPhoneArr\r\n                ),\r\n        });\r\n\r\n        observeToDo({\r\n            elm: ref_lap.current,\r\n            callback: () =>\r\n                getPhonesLaptops(\r\n                    {\r\n                        type_product: 'laptop',\r\n                        size: 15,\r\n                    },\r\n                    setLaptopArr\r\n                ),\r\n        });\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"PhoneLaptop fashion-width padding-top-20px\">\r\n            <div\r\n                ref={ref_hot}\r\n                className=\"PhoneLaptop_banner margin-bottom-20px\"\r\n            >\r\n                <ProductsAnimate products={hot_product_arr} />\r\n            </div>\r\n\r\n            <div\r\n                ref={ref_phone}\r\n                className=\"PhoneLaptop_phone margin-bottom-20px\"\r\n            >\r\n                <SpecProducts\r\n                    products={phone_arr}\r\n                    title=\"Phone\"\r\n                    link=\"/phone-laptop-phones\"\r\n                />\r\n            </div>\r\n\r\n            <div ref={ref_lap} className=\"PhoneLaptop_laptop\">\r\n                <SpecProducts\r\n                    products={laptop_arr}\r\n                    title=\"Laptop\"\r\n                    link=\"/phone-laptop-laptops\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PhoneLaptop;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { IS_MOBILE } from '../../../../../_constant/Constant';\r\n// \r\nimport getWidthTransform from '../../../../../_some_function/getWidthTransform';\r\nimport observerAppearance from '../../../../../_some_function/observerAppearance';\r\n//\r\nimport NextPrevDiv from '../../../../../component/some_div/next_prev_div/NextPrevDiv';\r\n//\r\nimport ProductItem from '../../../../../component/pl_product/_main/PLProduct';\r\n//\r\nimport './ProductsAnimate.scss';\r\nimport './ProductsAnimateRes.scss';\r\n\r\n//\r\nconst TIME_TRANS = IS_MOBILE ? 500 : 750;\r\n\r\n//\r\nclass ProductsAnimate extends Component {\r\n    state = {\r\n        translateX: 0,\r\n    };\r\n\r\n    //\r\n    refProductAnimate = (elm) => {\r\n        if (elm != null) {\r\n            this.ref_product_animate = elm;\r\n        }\r\n    };\r\n\r\n    //\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n        this.just_click = false;\r\n        this.stop_auto = true;\r\n\r\n        this.autoNext();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    // --------- COMMON\r\n\r\n    //\r\n    makeBtnDisabled = () => {\r\n        this.stop_auto = true;\r\n        this.just_click = true;\r\n\r\n        setTimeout(() => {\r\n            this.just_click = false;\r\n        }, TIME_TRANS);\r\n    };\r\n\r\n    //\r\n    handleNextPrev = (callback) => {\r\n        if (this.just_click) {\r\n            return;\r\n        }\r\n\r\n        const [width_transform, max_width_transform] = getWidthTransform(\r\n            'ProductsAnimate_row',\r\n            'ProductsAnimate_item_0',\r\n            this.props.products.length\r\n        );\r\n\r\n        callback(this.state.translateX, width_transform, max_width_transform);\r\n\r\n        this.makeBtnDisabled();\r\n    };\r\n\r\n    // --------- NEXT PREV\r\n\r\n    //\r\n    nextPhones = () => {\r\n        this.handleNextPrev(\r\n            (translateX, width_transform, max_width_transform) => {\r\n                this.setState({\r\n                    translateX:\r\n                        translateX >= max_width_transform\r\n                            ? 0\r\n                            : translateX + width_transform < max_width_transform\r\n                            ? translateX + width_transform\r\n                            : max_width_transform,\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    //\r\n    prevPhones = () => {\r\n        this.handleNextPrev(\r\n            (translateX, width_transform, max_width_transform) => {\r\n                this.setState({\r\n                    translateX:\r\n                        translateX == 0\r\n                            ? max_width_transform\r\n                            : translateX - width_transform < 0\r\n                            ? 0\r\n                            : translateX - width_transform,\r\n                });\r\n            }\r\n        );\r\n    };\r\n\r\n    //\r\n    autoNext = () => {\r\n        if (!this.mounted) {\r\n            return;\r\n        }\r\n\r\n        if (this.ref_product_animate.dataset.appearance != 'false') {\r\n            if (!this.stop_auto) {\r\n                this.nextPhones();\r\n                this.stop_auto = false;\r\n            } else {\r\n                this.stop_auto = false;\r\n            }\r\n        }\r\n\r\n        setTimeout(() => {\r\n            observerAppearance(this.ref_product_animate);\r\n            setTimeout(() => {\r\n                this.autoNext();\r\n            }, TIME_TRANS);\r\n        }, 7000);\r\n    };\r\n\r\n    //\r\n    render() {\r\n        const { translateX } = this.state;\r\n        const { products } = this.props;\r\n\r\n        //\r\n        return (\r\n            <div className=\"ProductsAnimate\">\r\n                <h2 className=\"ProductsAnimate_title padding-y-10px text-align-center text-white font-16px font-500 text-upper\">\r\n                    Sản phẩm nổi bật\r\n                </h2>\r\n\r\n                <div className=\"padding-y-20px\">\r\n                    <div\r\n                        ref={this.refProductAnimate}\r\n                        className=\"ProductsAnimate_contain brs-5px box-shadow-1\"\r\n                        data-appearance=\"false\"\r\n                    >\r\n                        <div\r\n                            className=\"ProductsAnimate_row display-flex\"\r\n                            style={{\r\n                                transform: `translateX(${-translateX}px)`,\r\n                                transition: `transform ${TIME_TRANS}ms`,\r\n                            }}\r\n                        >\r\n                            {products.map((product_obj, index) => (\r\n                                <div\r\n                                    key={product_obj.id || index}\r\n                                    className={`ProductsAnimate_item flex-shrink-0 ProductsAnimate_item_${index}`}\r\n                                >\r\n                                    <ProductItem product_obj={product_obj} />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"text-light\">\r\n                            <NextPrevDiv\r\n                                handleNext={this.nextPhones}\r\n                                handlePrev={this.prevPhones}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nProductsAnimate.propTypes = {\r\n    products: PropTypes.array,\r\n};\r\n\r\nexport default ProductsAnimate;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport ProductContent from '../../../components/content/ProductContent';\r\n//\r\nimport './SpecProducts.scss';\r\n\r\n//\r\nSpecProducts.propTypes = {\r\n    products: PropTypes.array,\r\n};\r\n\r\n//\r\nfunction SpecProducts({ products, title, link }) {\r\n    //\r\n    return (\r\n        <div className=\"SpecProducts\">\r\n            <div className=\"bg-gold\">\r\n                <h2 className=\"padding-y-10px text-align-center text-upper font-500 font-16px\">\r\n                    <Link className=\"SpecProducts_text text-white\" to={link}>\r\n                        {title}\r\n                    </Link>\r\n                </h2>\r\n            </div>\r\n\r\n            <div className=\"SpecProducts_list\">\r\n                <ProductContent products={products} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SpecProducts;\r\n"],"sourceRoot":""}