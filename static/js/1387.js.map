{"version":3,"sources":["webpack://my_webpack/./src/pages/fashion/pages/personal/right/account/address/_main/FsPersonalAddress.js","webpack://my_webpack/./src/pages/fashion/pages/personal/right/account/address/head/FsPAddressHead.js","webpack://my_webpack/./src/pages/fashion/pages/personal/right/account/address/item/FsPAddressItem.js"],"names":["FsPersonalAddress","props","handle_API_FsUserInfoBuy_L","c_count","data","is_default","setStateObj","state_obj","address_arr","has_fetched","useContext","context_api","openScreenFloor","closeScreenFloor","useState","handleAddFix","address_ix","new_address_obj","id","name","user_name","phone","address","specific","address_str_arr","join","type","checked_default","new_address_arr","find","item","push","setDefault","openFix","address_obj","first_comma_ix","indexOf","openScreenWithElm","elm","title","old_user_name","old_phone","old_specific","slice","old_type","old_current_address","handleBack","handleComplete","openDelete","openScreenConfirm","notification","handleConfirm","splice","handleDelete","useEffect","getData_Address","className","openAddNewAddress","map","ix","key","is_last","length","handleFix","propTypes","FsPAddressHead","onClick","size_icon","stroke","FsPAddressItem"],"mappings":"kUAAA,W,OAGA,G,EAFA,UAEA,UAEA,UAEA,WACA,W,GAEA,S,EAEA,W,IACA,U,IACA,U,2KASA,SAASA,EAAkBC,GAAO,I,EAAA,K,EAAA,yBAoB9B,sHAC2B,IAAAC,4BAA2B,CAAEC,QAAS,IADjE,iBACYC,EADZ,EACYA,MACH,GAAGC,YAAa,EAErBC,OACOC,EADP,CAEIC,YAAaJ,EACbK,aAAa,KAPrB,+CApB8B,E,4QAAA,+CAEgB,IAAAC,YAAWC,eAAjDC,EAFsB,EAEtBA,gBAAiBC,EAFK,EAELA,iBAFK,E,2YAAA,EAKG,IAAAC,UAAS,CACtCN,YAAa,IAAM,EACnBC,aAAa,IAPa,GAKvBF,EALuB,KAKZD,EALY,KAUtBE,EAA6BD,EAA7BC,YAwBR,SAASO,EAAaX,EAAMY,GACxB,IAAMC,EAAkB,CACpBC,GAAIF,GAAc,EAAIR,EAAYQ,GAAYE,IAAM,EACpDC,KAAMf,EAAKgB,UACXC,MAAOjB,EAAKiB,MACZC,QAAS,CAAClB,EAAKmB,UAAN,SAAmBnB,EAAKoB,kBAAiBC,KAAK,MACvDC,KAAMtB,EAAKsB,KACXrB,WAAYD,EAAKuB,iBAGfC,EAAkB,GAAlBA,SAAsBpB,IAExBJ,EAAKuB,kBACLC,EAAgBC,MAAK,SAACC,GAAD,OAAUA,EAAKzB,cAAYA,YAAa,GAG7DW,GAAc,EACdY,EAAgBZ,GAAcC,EAE9BW,EAAgBG,KAAKd,GAGzBX,OACOC,EADP,CAEIC,YAAaoB,KAGjBf,IAoBJ,SAASmB,EAAWhB,GAChB,IAAMY,EAAkB,GAAlBA,SAAsBpB,IAE5BoB,EAAgBC,MAAK,SAACC,GAAD,OAAUA,EAAKzB,cAAYA,YAAa,EAC7DuB,EAAgBZ,GAAYX,YAAa,EAEzCC,OACOC,EADP,CAEIC,YAAaoB,KAKrB,SAASK,EAAQjB,GACb,IAAMkB,EAAc1B,EAAYQ,GAC1BmB,EAAiBD,EAAYZ,QAAQc,QAAQ,MAEnD,IAAAC,mBAAkB,CACdzB,gBAAiBA,EACjB0B,IACI,wBAAC,UAAD,CACIC,MAAM,oBACNC,cAAeN,EAAYf,KAC3BsB,UAAWP,EAAYb,MACvBqB,aAAcR,EAAYZ,QAAQqB,MAAM,EAAGR,GAC3CS,SAAUV,EAAYR,KACtBmB,oBAAqBX,EAAYZ,QAAQqB,MACrCR,EAAiB,GAErB9B,WAAY6B,EAAY7B,WACxByC,WAAYjC,EACZkC,eAAgB,SAAC3C,GAAD,OAAUW,EAAaX,EAAMY,QAO7D,SAASgC,EAAWhC,IAChB,IAAAiC,mBAAkB,CACdrC,gBAAiBA,EACjB2B,MAAO,cACPW,aAAc,kCACdC,cAAe,YAOvB,SAAsBnC,GAClB,IAAMY,EAAkB,GAAlBA,SAAsBpB,IAC5BoB,EAAgBwB,OAAOpC,EAAY,GAEnCV,OACOC,EADP,CAEIC,YAAaoB,KAZTyB,CAAarC,MAiBzB,OApIqCT,EAAhBE,aAGrB,IAAA6C,YAAU,WACNC,MACD,IAgIC,+BACIC,UAAU,gCAEV,mCACI,wBAAC,UAAD,CAAgBC,kBAhF5B,YACI,IAAApB,mBAAkB,CACdzB,gBAAiBA,EACjB0B,IACI,wBAAC,UAAD,CACIC,MAAM,cACNO,WAAYjC,EACZkC,eAAgB,SAAC3C,GAAD,OAAUW,EAAaX,GAAO,YA4EtD,mCACKI,EAAYkD,KAAI,SAAC5B,EAAM6B,GAAP,OACb,+BAAKC,IAAK9B,EAAKZ,IACX,wBAAC,UAAD,CACIyC,GAAIA,EACJE,QAASF,GAAMnD,EAAYsD,OAAS,EACpC3C,KAAMW,EAAKX,KACXE,MAAOS,EAAKT,MACZC,QAASQ,EAAKR,QACdjB,WAAYyB,EAAKzB,WAEjB2B,WAAYA,EACZ+B,UAAW9B,EACXoB,aAAcL,UA1K1C,SACA,SAGAhD,EAAkBgE,UAAY,G,UA+KfhE,G,8ECnMf,I,IAAA,U,KACA,U,EAEA,W,mDAQA,SAASiE,EAAT,GAA+C,IAArBR,EAAqB,EAArBA,kBAEtB,OACI,+BAAKD,UAAU,iCACX,+BAAKA,UAAU,0CACX,+BAAKA,UAAU,0CAAf,mBAIA,kCACIA,UAAU,iMACV9B,KAAK,SACLwC,QAAST,GAET,wBAAC,UAAD,CAAkBU,UAAU,OAAOC,OAAO,iBAE1C,gCAAMZ,UAAU,6CAAhB,uBAtBpB,SAGAS,EAAeD,UAAY,G,UA4BZC,G,8ECpCf,I,IAAA,U,mDASA,SAASI,EAAT,GAYG,IAXCV,EAWD,EAXCA,GACAE,EAUD,EAVCA,QAEA1C,EAQD,EARCA,KACAE,EAOD,EAPCA,MACAC,EAMD,EANCA,QACAjB,EAKD,EALCA,WAEA2B,EAGD,EAHCA,WACA+B,EAED,EAFCA,UACAV,EACD,EADCA,aAkBA,OACI,+BACIG,UAAA,4BACIK,EAAU,GAAK,uBAGnB,+BAAKL,UAAU,iDACX,+BAAKA,UAAU,mCACX,+BAAKA,UAAU,8EACX,+BAAKA,UAAU,wBAAf,aAEA,+BAAKA,UAAU,gBACX,+BAAKA,UAAU,2CACVrC,GAGJd,EACG,mCACI,+BAAKmD,UAAU,8GAAf,aAIJ,OAIZ,+BAAKA,UAAU,2DACX,+BAAKA,UAAU,wBAAf,iBAIA,+BAAKA,UAAU,aAAanC,IAGhC,+BAAKmC,UAAU,wCACX,+BAAKA,UAAU,wBAAf,WAEA,+BAAKA,UAAU,yCACVlC,KAKb,+BAAKkC,UAAU,kCACX,+BAAKA,UAAU,2DACX,kCACIA,UAAU,gFACV9B,KAAK,SACLwC,QA1DxB,WACIH,EAAUJ,KAsDM,OAQCtD,EAAa,KACV,kCACImD,UAAU,iGACV9B,KAAK,SACLwC,QA9D5B,WACIb,EAAaM,KA0DO,QAUPtD,EAAa,KACV,+BAAKmD,UAAU,6CACX,kCACIA,UAAU,2HACV9B,KAAK,SACLwC,QApF5B,WACIlC,EAAW2B,KAgFS,0B,EAvG5B,UAEA,SAGAU,EAAeL,UAAY,G,UAiHZK,G","file":"static/js/1387.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../../../../_context/ContextAPI';;\r\n//\r\nimport { handle_API_FsUserInfoBuy_L } from '../../../../../../../../_handle_api/fashion/user_info';\r\n//\r\nimport { openScreenWithElm } from '../../../../../../../../component/_screen/type/with_elm/ScreenWithElm';\r\nimport { openScreenConfirm } from '../../../../../../../../component/_screen/type/confirm/ScreenConfirm';\r\n//\r\nimport { initial_user_info_buy_obj } from '../../../../../../../../_initial/fashion/user_info';\r\n//\r\nimport FsAddAddressScreen from '../../../../../../components/add_address/_screen/FsAddAddressScreen';\r\nimport FsPAddressHead from '../head/FsPAddressHead';\r\nimport FsPAddressItem from '../item/FsPAddressItem';\r\n//\r\nimport './FsPersonalAddress.scss';\r\nimport '../_mobile_css/FsPersonalAddressMb.scss';\r\n\r\n//\r\nFsPersonalAddress.propTypes = {};\r\n\r\n//\r\nfunction FsPersonalAddress(props) {\r\n    //\r\n    const { openScreenFloor, closeScreenFloor } = useContext(context_api);\r\n\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        address_arr: [] || [initial_user_info_buy_obj()],\r\n        has_fetched: false,\r\n    });\r\n\r\n    const { address_arr, has_fetched } = state_obj;\r\n\r\n    //\r\n    useEffect(() => {\r\n        getData_Address();\r\n    }, []);\r\n\r\n    // ----- API\r\n\r\n    //\r\n    async function getData_Address() {\r\n        const { data } = await handle_API_FsUserInfoBuy_L({ c_count: 0 });\r\n        data[0].is_default = true;\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            address_arr: data,\r\n            has_fetched: true,\r\n        });\r\n    }\r\n\r\n    // -----\r\n\r\n    //\r\n    function handleAddFix(data, address_ix) {\r\n        const new_address_obj = {\r\n            id: address_ix >= 0 ? address_arr[address_ix].id : -1,\r\n            name: data.user_name,\r\n            phone: data.phone,\r\n            address: [data.specific, ...data.address_str_arr].join(', '),\r\n            type: data.type,\r\n            is_default: data.checked_default,\r\n        };\r\n\r\n        const new_address_arr = [...address_arr];\r\n\r\n        if (data.checked_default) {\r\n            new_address_arr.find((item) => item.is_default).is_default = false;\r\n        }\r\n\r\n        if (address_ix >= 0) {\r\n            new_address_arr[address_ix] = new_address_obj;\r\n        } else {\r\n            new_address_arr.push(new_address_obj);\r\n        }\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            address_arr: new_address_arr,\r\n        });\r\n\r\n        closeScreenFloor();\r\n    }\r\n\r\n    // -----\r\n\r\n    //\r\n    function openAddNewAddress() {\r\n        openScreenWithElm({\r\n            openScreenFloor: openScreenFloor,\r\n            elm: (\r\n                <FsAddAddressScreen\r\n                    title=\"Địa chỉ mới\"\r\n                    handleBack={closeScreenFloor}\r\n                    handleComplete={(data) => handleAddFix(data, -1)}\r\n                />\r\n            ),\r\n        });\r\n    }\r\n\r\n    //\r\n    function setDefault(address_ix) {\r\n        const new_address_arr = [...address_arr];\r\n\r\n        new_address_arr.find((item) => item.is_default).is_default = false;\r\n        new_address_arr[address_ix].is_default = true;\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            address_arr: new_address_arr,\r\n        });\r\n    }\r\n\r\n    //\r\n    function openFix(address_ix) {\r\n        const address_obj = address_arr[address_ix];\r\n        const first_comma_ix = address_obj.address.indexOf(',');\r\n\r\n        openScreenWithElm({\r\n            openScreenFloor: openScreenFloor,\r\n            elm: (\r\n                <FsAddAddressScreen\r\n                    title=\"Chỉnh sửa địa chỉ\"\r\n                    old_user_name={address_obj.name}\r\n                    old_phone={address_obj.phone}\r\n                    old_specific={address_obj.address.slice(0, first_comma_ix)}\r\n                    old_type={address_obj.type}\r\n                    old_current_address={address_obj.address.slice(\r\n                        first_comma_ix + 2\r\n                    )}\r\n                    is_default={address_obj.is_default}\r\n                    handleBack={closeScreenFloor}\r\n                    handleComplete={(data) => handleAddFix(data, address_ix)}\r\n                />\r\n            ),\r\n        });\r\n    }\r\n\r\n    //\r\n    function openDelete(address_ix) {\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Xóa địa chỉ',\r\n            notification: 'Bạn muốn xóa địa chỉ này không?',\r\n            handleConfirm: () => {\r\n                handleDelete(address_ix);\r\n            },\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleDelete(address_ix) {\r\n        const new_address_arr = [...address_arr];\r\n        new_address_arr.splice(address_ix, 1);\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            address_arr: new_address_arr,\r\n        });\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className=\"FsPersonalAddress bg-primary\"\r\n        >\r\n            <div>\r\n                <FsPAddressHead openAddNewAddress={openAddNewAddress} />\r\n            </div>\r\n\r\n            <div>\r\n                {address_arr.map((item, ix) => (\r\n                    <div key={item.id}>\r\n                        <FsPAddressItem\r\n                            ix={ix}\r\n                            is_last={ix == address_arr.length - 1}\r\n                            name={item.name}\r\n                            phone={item.phone}\r\n                            address={item.address}\r\n                            is_default={item.is_default}\r\n                            //\r\n                            setDefault={setDefault}\r\n                            handleFix={openFix}\r\n                            handleDelete={openDelete}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FsPersonalAddress;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconPlusSubtract from '../../../../../../../../_icons_svg/_icon_plus_subtract/IconPlusSubtract';\r\n//\r\nimport './FsPAddressHead.scss';\r\n\r\n//\r\nFsPAddressHead.propTypes = {};\r\n\r\n//\r\nfunction FsPAddressHead({ openAddNewAddress }) {\r\n    //\r\n    return (\r\n        <div className=\"FsPAddressHead padding-y-20px\">\r\n            <div className=\"FsPAddressHead_row flex-between-center\">\r\n                <div className=\"FsPAddressHead_left font-18px font-500\">\r\n                    Địa chỉ của tôi\r\n                </div>\r\n\r\n                <button\r\n                    className=\"FsPAddressHead_right inline-flex align-items-center btn btn-active btn-hv padding-x-15px padding-y-12px brs-3px bg-fashion-red line-16px text-white text-cap font-14px font-400 cursor-pointer\"\r\n                    type=\"button\"\r\n                    onClick={openAddNewAddress}\r\n                >\r\n                    <IconPlusSubtract size_icon=\"16px\" stroke=\"currentColor\" />\r\n\r\n                    <span className=\"FsPAddressHead_right_text margin-left-8px\">\r\n                        Thêm địa chỉ mới\r\n                    </span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FsPAddressHead;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport './FsPAddressItem.scss';\r\n\r\n//\r\nFsPAddressItem.propTypes = {};\r\n\r\n//\r\nfunction FsPAddressItem({\r\n    ix,\r\n    is_last,\r\n\r\n    name,\r\n    phone,\r\n    address,\r\n    is_default,\r\n\r\n    setDefault,\r\n    handleFix,\r\n    handleDelete,\r\n}) {\r\n    //\r\n    function onSetDefault() {\r\n        setDefault(ix);\r\n    }\r\n\r\n    //\r\n    function onFix() {\r\n        handleFix(ix);\r\n    }\r\n\r\n    //\r\n    function onDelete() {\r\n        handleDelete(ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className={`FsPAddressItem text-555 ${\r\n                is_last ? '' : 'FsPAddressItem-nth'\r\n            }`}\r\n        >\r\n            <div className=\"FsPAddressItem_row display-flex space-between\">\r\n                <div className=\"FsPAddressItem_left flex-grow-1\">\r\n                    <div className=\"FsPAddressItem_left_row display-flex align-items-center margin-bottom-10px\">\r\n                        <div className=\"FsPAddressItem_label\">Họ và tên</div>\r\n\r\n                        <div className=\"display-flex\">\r\n                            <div className=\"FsPAddressItem_name font-16px line-22px\">\r\n                                {name}\r\n                            </div>\r\n\r\n                            {is_default ? (\r\n                                <div>\r\n                                    <div className=\"FsPAddressItem_default margin-left-10px padding-x-6px padding-y-3px brs-3px text-white font-13px line-15px\">\r\n                                        Mặc định\r\n                                    </div>\r\n                                </div>\r\n                            ) : null}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"FsPAddressItem_left_row display-flex margin-bottom-10px\">\r\n                        <div className=\"FsPAddressItem_label\">\r\n                            Số điện thoại\r\n                        </div>\r\n\r\n                        <div className=\"font-14px\">{phone}</div>\r\n                    </div>\r\n\r\n                    <div className=\"FsPAddressItem_left_row display-flex\">\r\n                        <div className=\"FsPAddressItem_label\">Địa chỉ</div>\r\n\r\n                        <div className=\"FsPAddressItem_address_item font-14px\">\r\n                            {address}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"FsPAddressItem_right font-14px\">\r\n                    <div className=\"FsPAddressItem_right_head padding-y-10px text-align-end\">\r\n                        <button\r\n                            className=\"FsPAddressItem_btn_fix_del border-none bg-transparent text-555 cursor-pointer\"\r\n                            type=\"button\"\r\n                            onClick={onFix}\r\n                        >\r\n                            Sửa\r\n                        </button>\r\n\r\n                        {is_default ? null : (\r\n                            <button\r\n                                className=\"FsPAddressItem_btn_fix_del margin-left-10px border-none bg-transparent text-555 cursor-pointer\"\r\n                                type=\"button\"\r\n                                onClick={onDelete}\r\n                            >\r\n                                Xóa\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {is_default ? null : (\r\n                        <div className=\"FsPAddressItem_right_foot margin-top-15px\">\r\n                            <button\r\n                                className=\"FsPAddressItem_set_default btn-hv btn-active padding-y-5px padding-x-10px border-blur text-cap text-third cursor-pointer\"\r\n                                type=\"button\"\r\n                                onClick={onSetDefault}\r\n                            >\r\n                                Thiết lập mặc định\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FsPAddressItem;\r\n"],"sourceRoot":""}