{"version":3,"sources":["webpack://my_webpack/./src/_initial/story/InitialStory.js","webpack://my_webpack/./src/component/_screen/type/story/pc/create/ScreenStoryCreatePc.js","webpack://my_webpack/./src/component/story_fb/_components/menu/pc/_main/StoryMenuPartPc.js","webpack://my_webpack/./src/component/story_fb/_components/menu/pc/action/StoryMenuPcAction.js","webpack://my_webpack/./src/component/story_fb/_components/menu/pc/btn_create/StoryBtnCreatePc.js","webpack://my_webpack/./src/component/story_fb/pc/home/_main/StoryHomePc.js","webpack://my_webpack/./src/component/story_fb/pc/home/item/StoryItemPc.js","webpack://my_webpack/./src/component/story_fb/pc/home/menu/StoryMenuPc.js"],"names":["initial_story_obj","user","initial_user","list","id","vid_pic","created_time","text","top_text","left_text","color_text_ix","scale_text","count_new","count","initial_story_menu_obj","active_step","active_item_ix","openScreenFloor","has_history","hidden_before","FloorComponent","ScreenStoryCreate","closeScreen","useMakeBodyHidden","hidden_app","hidden_header","show_fav","propTypes","StoryMenuPartPc","heading","story_menu_obj","is_active_type","active_ix","ref_fake_elm","handleChangeStory","has_fetched","story_arr","count_story","className","length","map","item","ix","key","onClick","content","Date","getTime","slice","ref","component","num","StoryMenuPcAction","is_show","has_close","handleClose","handleToggle","title","y","size_icon","StoryBtnCreatePc","props","useContext","context_api","openScreenCreateStoryPc","history","pushState","StoryHomePc","new_story_type","story_type","new_active_ix","ref_is_fetching","current","handle_API_FeedStory_L","ref_c_count","data","setStateObj","state_obj","new_count_story","new_story_arr","ref_is_max","story_arr_followed","count_story_followed","has_fetched_followed","story_arr_yours","count_story_yours","has_fetched_yours","old_active_ix","old_story_type","useState","is_show_menu","followed","yours","useRef","ref_menu","ref_fake_elm_followed","observerShowMore","useObserverGetData","getData_API","getData_Story","getIsMax","getIsFetching","back","useEffect","fake_elm_end","root","rootMargin","way_scroll","margin","story_followed_obj","story_your_obj","handleChangeUserStory","handleChangeYourStory","handleToggleMenu","handleNextStoryUser","handlePrevStoryUser","PropTypes","array","number","bool","string","func","defaultProps","StoryItemPc","StoryMenuPc","Fragment"],"mappings":"8MAAA,eAGiCA,oBAAA,iBAAO,CACpCC,MAAM,IAAAC,gBACNC,KAAM,CACF,CACIC,GAAI,EACJC,QAAS,GACTC,aAAc,IAEdC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXC,cAAe,EACfC,WAAY,IAGpBC,UAAW,EACXC,MAAO,IAI2BC,yBAAA,iBAAO,CACzCb,MAAM,IAAAC,gBACNC,KAAM,CACF,CACIC,GAAI,EACJC,QAAS,GACTC,aAAc,IAEdC,KAAM,GACNC,SAAU,GACVC,UAAW,GACXC,cAAe,EACfC,WAAY,IAGpBC,UAAW,EACXC,MAAO,EAEPE,YAAa,EACbC,eAAgB,K,wGClCb,YAIJ,QAHCC,uBAGD,MAHmB,aAGnB,MAFCC,mBAED,aADCC,cAEAF,EAAgB,CACZG,eAAgBC,EAChBH,YAAaA,EACbC,mBAJL,YAZH,I,IAAA,UAGA,G,EAFA,UAEA,U,IAEA,U,mDAmBA,SAASE,EAAT,GAA4C,IAAfC,EAAe,EAAfA,YASzB,OAPA,IAAAC,mBAAkB,CACdC,YAAY,EACZC,eAAe,IAKZ,wBAAC,UAAD,CAAeC,UAAU,EAAMJ,YAAaA,IAZvDD,EAAkBM,UAAY,G,UAefN,G,8ECpCf,I,IAAA,U,KACA,U,EAEA,W,IAEA,U,IACA,U,IACA,U,mDAQA,SAASO,EAAT,GAQG,IAPCC,EAOD,EAPCA,QACAC,EAMD,EANCA,eACAC,EAKD,EALCA,eACAC,EAID,EAJCA,UACAC,EAGD,EAHCA,aAEAC,EACD,EADCA,kBAGQC,EAAwCL,EAAxCK,YAAaC,EAA2BN,EAA3BM,UAAWC,EAAgBP,EAAhBO,YAGhC,OACI,+BAAKC,UAAU,mBACVF,EAAUG,OACP,8BAAID,UAAU,mCAAmCT,GACjD,KAEJ,+BAAKS,UAAcH,EAAc,GAAK,gBACjCC,EAAUI,KAAI,SAACC,EAAMC,GAAP,OACX,+BACIC,IAAKF,EAAKxC,KAAKG,GACfkC,UAAA,wBACIP,GAAkBC,GAAaU,EACzB,mCACA,6BAEVE,QAAS,kBAAMV,EAAkBQ,KAEjC,wBAAC,UAAD,CACIzC,KAAMwC,EAAKxC,KACX4C,QACI,gCAAMP,UAAU,mCACX,cACG,IAAIQ,MAAOC,UACP,IAAID,KACAL,EAAKtC,KAAK6C,OACL,GACH,GAAG1C,uBAUzC,+BAAK2C,IAAKhB,EAAcK,UAAU,gBAElC,wBAAC,UAAD,CACIH,YAAaA,GAAeE,GAAeD,EAAUG,OACrDW,UAAW,wBAAC,UAAD,MACXC,IAAK,KA5DrB,SAGAvB,EAAgBD,UAAY,G,UA+DbC,G,8EC3Ef,I,IAAA,U,KACA,U,EAEA,W,mDAQA,SAASwB,EAAT,GAA8E,IAAjDC,EAAiD,EAAjDA,QAASC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,YAAaC,EAAgB,EAAhBA,aAE1D,OACI,+BAAKlB,UAAU,WACX,+BAAKA,UAAU,mCACVgB,EACG,+BAAKhB,UAAU,2BACX,+BACIA,UAAU,iDACVM,QAASW,EACTE,MAAM,iBAEN,wBAAC,UAAD,CAAYC,EAAG,QAGvB,KAEJ,+BAAKpB,UAAU,4BACX,+BACIA,UAAA,wEACIe,EACM,wCACA,yCAEVT,QAASY,EACTC,MAAOJ,EAAU,YAAc,aAE/B,wBAAC,UAAD,CAAYK,EAAG,IAAKC,UAAU,aAjCtD,SAGAP,EAAkBzB,UAAY,G,UAsCfyB,G,8EC9Cf,e,OAGA,G,EAFA,UAEA,UAEA,W,IAEA,U,mDAQA,SAASQ,EAAiBC,GAAO,IAErB5C,GAAoB,IAAA6C,YAAWC,eAA/B9C,gBAcR,OACI,+BACIqB,UAAU,8CACVM,QAdR,YACI,IAAAoB,yBAAwB,CACpB/C,gBAAiBA,EACjBS,UAAU,EACVP,eAAe,IAGnB8C,QAAQC,UAAU,GAAI,GAAtB,mBASI,+BAAK5B,UAAU,mCACX,+BAAKA,UAAU,yBACX,+BAAKA,UAAU,mEACX,wBAAC,UAAD,CAAYoB,EAAG,IAAKC,UAAU,cAItC,+BAAKrB,UAAU,0BACX,mCACI,gCAAMA,UAAU,YAAhB,mBAKJ,mCACI,gCAAMA,UAAU,aAAhB,yCA1CxB,SAGAsB,EAAiBjC,UAAY,G,UA+CdiC,G,sPC3Df,W,WACA,UAEA,WAEA,WAEA,W,IAEA,U,KAEA,U,EACA,W,IACA,U,2KAmCA,SAASO,EAAT,GAaG,I,EAAA,K,EAAA,yBA+DC,4BACIC,sBADJ,MACqBC,EADrB,MAEIC,qBAFJ,MAEoBtC,EAFpB,sFAIQuC,EAAgBC,QAAQJ,GAJhC,wDAQIG,EAAgBC,QAAQJ,IAAkB,EAR9C,UAiBkC,IAAAK,wBAC1BC,EAAYF,QAAQJ,GACpBA,GAnBR,gBAiBYO,EAjBZ,EAiBYA,KAAM9D,EAjBlB,EAiBkBA,MAKd0D,EAAgBC,QAAQJ,IAAkB,EAE1CQ,GAAY,SAACC,GAAc,I,MAAA,EAEnBA,EAAUT,GADNhC,EADe,EACfA,UAAWC,EADI,EACJA,YAGbyC,EAJiB,EACS3C,YAGME,EAAcxB,EAC9CkE,EAAgB,YAAI3C,GAAJ,EAAkBuC,IAAM3B,MAC1C,EACA8B,GAOJ,OAJAJ,EAAYF,QAAQJ,GAAkBW,EAAcxC,OACpDyC,EAAWR,QAAQJ,GACfU,GAAmB1C,EAAUG,OAEjC,KACOsC,G,EAEe,CACdzC,UAAW2C,EACX1C,YAAayC,EACb3C,aAAa,I,EAHhBiC,K,EAHL,CAEIpC,UAAWsC,I,6FAxCvB,gDA/DD,E,4QAAA,6CAZCW,EAYD,EAZCA,mBACAC,EAWD,EAXCA,qBACAC,EAUD,EAVCA,qBAEAC,EAQD,EARCA,gBACAC,EAOD,EAPCA,kBACAC,EAMD,EANCA,kBAEAC,EAID,EAJCA,cACAC,EAGD,EAHCA,eACAlC,EAED,EAFCA,UAED,E,2YAAA,IADChC,aAGiC,IAAAmE,UAAS,CACtCzD,UAAWuD,EACXlB,WAAYmB,EACZE,cAAc,EAEdC,SAAU,CACNvD,UAAW6C,GAAsB,EAAC,IAAAnE,2BAClCuB,YAAa6C,EACb/C,YAAagD,GAEjBS,MAAO,CACHxD,UAAWgD,GAAmB,EAAC,IAAAtE,2BAC/BuB,YAAagD,EACblD,YAAamD,MAftB,GAEQT,EAFR,KAEmBD,EAFnB,KAmBS5C,EAAyD6C,EAAzD7C,UAAWqC,EAA8CQ,EAA9CR,WAAYqB,EAAkCb,EAAlCa,aAAcC,EAAoBd,EAApBc,SAAUC,EAAUf,EAAVe,MAnBxD,EAoBiDf,EAAUR,GAAlDjC,EApBT,EAoBSA,UAAWC,EApBpB,EAoBoBA,YAAaF,EApBjC,EAoBiCA,YAG1BoC,GAAkB,IAAAsB,QAAO,CAAEF,UAAU,EAAOC,OAAO,IACnDlB,GAAc,IAAAmB,QAAO,CAAEF,SAAU,EAAGC,MAAO,IAC3CZ,GAAa,IAAAa,QAAO,CACtBF,UAAU,EACVC,OAAO,IAGLE,GAAW,IAAAD,QAAO,MAClBE,GAAwB,IAAAF,QAAO,MAG7BG,GAAqB,IAAAC,oBAAmB,CAC5CC,YAAa,kBAAMC,EAAc,KACjCC,SAAU,kBAAMpB,EAAWR,QAAQmB,UACnCU,cAAe,kBAAM9B,EAAgBC,QAAQmB,YAHzCK,iBA4GR,SAAS9D,EAAkBoC,EAAeF,GAClCE,GAAiBtC,GAAaqC,GAAcD,GAIhDQ,OACOC,EADP,CAEI7C,UAAWsC,EACXD,WAAYD,KAiBpB,SAASb,IACLU,QAAQqC,OAYZ,OA3IA,IAAAC,YAAU,YACLjB,GAAqBa,EAAc,CAAE/B,eAAgB,UAEtD4B,EAAiB,CACbQ,aAAcT,EAAsBvB,QACpCiC,KAAMX,EAAStB,QACfkC,WAAY,MACZC,WAAY,YACZC,OAAQ,MAEb,KAGH,IAAAL,YAAU,WACF7B,EAAYF,QAAZ,UAAmC,IACnC2B,EAAc,CAAE/B,eAAgB,eAErC,CAACM,EAAYF,QAAZ,WA2HA,+BACIlC,UAAA,gBACIgB,EAAY,UAAY,yBAG5B,+BAAKhB,UAAU,yBACX,+BACIA,UAAA,6BACIoD,EACM,wBACA,0BAGV,wBAAC,UAAD,CACIrB,WAAYA,EACZrC,UAAWA,EACX0D,aAAcA,EACdpC,UAAWA,EAEXuD,mBAAoBlB,EACpBmB,eAAgBlB,EAEhBE,SAAUA,EACVC,sBAAuBA,EAEvBgB,sBAnDpB,SAA+BzC,GAC3BpC,EAAkBoC,EAAe,aAmDjB0C,sBA/CpB,SAA+B1C,GAC3BpC,EAAkBoC,EAAe,UA+CjBf,YAAaA,EACb0D,iBArCpB,WACIrC,GAAY,SAACC,GAAD,YACLA,EADK,CAERa,cAAeA,WAsCX,+BAAKpD,UAAU,uBACVH,GAAeC,EAAUG,OAAS,EAC/B,wBAAC,UAAD,CACIF,YAAaA,EACbD,UAAWA,EACXJ,UAAWA,EACXqC,WAAYA,EACZ6C,oBAxGxB,WACI,IAAM5C,EAAgBtC,EAAY,EAE9BsC,GAAiBlC,EAAUG,OAC3B4D,EAAc,CACV7B,cAAeA,IAGnBM,OACOC,EADP,CAEI7C,UAAWsC,MA+FC6C,oBAzFxB,WACIvC,OACOC,EADP,CAEI7C,UAAWA,EAAY,QAwFX,OAIZ,+BAAKM,UAAU,kCACX,+BAAKA,UAAU,iBAAiBM,QAASW,GACrC,wBAAC,UAAD,CAAYG,EAAG,SAnRnC,SAGAS,EAAYxC,UAAY,CACpBsD,mBAAoBmC,UAAUC,MAC9BnC,qBAAsBkC,UAAUE,OAChCnC,qBAAsBiC,UAAUG,KAEhCnC,gBAAiBgC,UAAUC,MAC3BhC,kBAAmB+B,UAAUE,OAC7BhC,kBAAmB8B,UAAUG,KAE7BhC,cAAe6B,UAAUE,OACzB9B,eAAgB4B,UAAUI,OAC1BlE,UAAW8D,UAAUG,KACrBjG,YAAa8F,UAAUK,MAG3BtD,EAAYuD,aAAe,CACvBzC,mBAAoB,GACpBC,qBAAsB,EACtBC,sBAAsB,EAEtBC,gBAAiB,GACjBC,kBAAmB,EACnBC,mBAAmB,EAEnBC,cAAe,EACfC,eAAgB,WAChBlC,WAAW,G,UA6PAa,G,8ECzSf,I,IAAA,U,KACA,U,EAEA,W,mDAQA,SAASwD,EAAT,GAQG,IAPCvF,EAOD,EAPCA,UACAC,EAMD,EANCA,YACAL,EAKD,EALCA,UACAqC,EAID,EAJCA,WAEA6C,EAED,EAFCA,oBACAC,EACD,EADCA,oBAGA,OACI,+BAAK7E,UAAU,4CACX,wBAAC,UAAD,CACIF,UAAWA,EACXC,YAAaA,EACbL,UAAWA,EACXqC,WAAYA,EAEZ6C,oBAAqBA,EACrBC,oBAAqBA,KAzBrC,QAGAQ,EAAYhG,UAAY,G,UA4BTgG,G,8ECpCf,I,IAAA,U,KACA,U,EAEA,W,IACA,U,IACA,U,mDAQA,SAASC,EAAT,GAiBG,IAhBCvD,EAgBD,EAhBCA,WACArC,EAeD,EAfCA,UACA0D,EAcD,EAdCA,aACApC,EAaD,EAbCA,UAEAuD,EAWD,EAXCA,mBACAC,EAUD,EAVCA,eAEAhB,EAQD,EARCA,SACAC,EAOD,EAPCA,sBAEAgB,EAKD,EALCA,sBACAC,EAID,EAJCA,sBAEAzD,EAED,EAFCA,YACA0D,EACD,EADCA,iBAEA,OACI,wBAAC,UAAMY,SAAP,KACI,+BACIvF,UAAA,uBACIoD,EACM,0BACA,4BAGV,wBAAC,UAAD,CACIrC,QAASqC,EACTpC,UAAWA,EACXC,YAAaA,EACbC,aAAcyD,KAItB,+BACIhE,IAAK6C,EACLxD,UAAA,oDACIoD,EAAe,mBAAqB,qBAGxC,8BAAIpD,UAAU,2FAAd,WAIA,+BAAKA,UAAU,eACX,wBAAC,UAAD,CACIT,QAAQ,eACRE,eAA8B,SAAdsC,EAChBrC,UAAWA,EACXF,eAAgBgF,EAChB5E,kBAAmB8E,IAGvB,wBAAC,UAAD,OAGJ,+BAAK1E,UAAU,eACX,wBAAC,UAAD,CACIT,QAAQ,cACRC,eAAgB+E,EAChB9E,eAA8B,YAAdsC,EAChBrC,UAAWA,EACXC,aAAc8D,EACd7D,kBAAmB6E,OAtE3C,SAGAa,EAAYjG,UAAY,G,UA2ETiG,G","file":"static/js/2654.js","sourcesContent":["import { initial_user } from '../user/initialUser';\r\n\r\n//\r\nexport const initial_story_obj = () => ({\r\n    user: initial_user(),\r\n    list: [\r\n        {\r\n            id: 0,\r\n            vid_pic: '',\r\n            created_time: '0' || 0,\r\n\r\n            text: '',\r\n            top_text: '',\r\n            left_text: '',\r\n            color_text_ix: 0,\r\n            scale_text: 1,\r\n        },\r\n    ],\r\n    count_new: 0,\r\n    count: 0,\r\n});\r\n\r\n//\r\nexport const initial_story_menu_obj = () => ({\r\n    user: initial_user(),\r\n    list: [\r\n        {\r\n            id: 0,\r\n            vid_pic: '',\r\n            created_time: '0' || 0,\r\n\r\n            text: '',\r\n            top_text: '',\r\n            left_text: '',\r\n            color_text_ix: 0,\r\n            scale_text: 1,\r\n        },\r\n    ],\r\n    count_new: 0,\r\n    count: 0,\r\n\r\n    active_step: 0,\r\n    active_item_ix: 0,\r\n});\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// \r\nimport { useMakeBodyHidden } from '../../../../../../_hooks/useMakeBodyHidden';\r\n// \r\nimport StoryCreatePc from '../../../../../story_fb/pc/create/_main/StoryCreatePc';\r\n\r\n//\r\nexport function openScreenCreateStoryPc({\r\n    openScreenFloor = () => {},\r\n    has_history = true,\r\n    hidden_before = false,\r\n}) {\r\n    openScreenFloor({\r\n        FloorComponent: ScreenStoryCreate,\r\n        has_history: has_history,\r\n        hidden_before: hidden_before,\r\n    });\r\n}\r\n\r\n//\r\nScreenStoryCreate.propTypes = {};\r\n\r\n//\r\nfunction ScreenStoryCreate({ closeScreen }) {\r\n    //\r\n    useMakeBodyHidden({\r\n        hidden_app: true,\r\n        hidden_header: true,\r\n        // blur_header: true,\r\n    });\r\n\r\n    //\r\n    return <StoryCreatePc show_fav={true} closeScreen={closeScreen} />;\r\n}\r\n\r\nexport default ScreenStoryCreate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport UnitTime from '../../../../../../_some_function/UnitTime';\r\n//\r\nimport ComponentSkeleton from '../../../../../skeleton/component_skeleton/ComponentSkeleton';\r\nimport SkeletonPicContent from '../../../../../skeleton/some_skeleton/pic_content/SkeletonPicContent';\r\nimport PicNameContent from '../../../../../picture_name/pic_name_content/PicNameContent';\r\n//\r\nimport './StoryMenuPartPc.scss';\r\n\r\n//\r\nStoryMenuPartPc.propTypes = {};\r\n\r\n//\r\nfunction StoryMenuPartPc({\r\n    heading,\r\n    story_menu_obj,\r\n    is_active_type,\r\n    active_ix,\r\n    ref_fake_elm,\r\n\r\n    handleChangeStory,\r\n}) {\r\n    //\r\n    const { has_fetched, story_arr, count_story } = story_menu_obj;\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryMenuPartPc\">\r\n            {story_arr.length ? (\r\n                <h2 className=\"margin-0 font-20px padding-10px\">{heading}</h2>\r\n            ) : null}\r\n\r\n            <div className={`${has_fetched ? '' : 'display-none'}`}>\r\n                {story_arr.map((item, ix) => (\r\n                    <div\r\n                        key={item.user.id}\r\n                        className={`padding-5px brs-6px ${\r\n                            is_active_type && active_ix == ix\r\n                                ? 'bg-fb-active pointer-events-none'\r\n                                : 'hv-bg-blur cursor-pointer'\r\n                        }`}\r\n                        onClick={() => handleChangeStory(ix)}\r\n                    >\r\n                        <PicNameContent\r\n                            user={item.user}\r\n                            content={\r\n                                <span className=\"line-14px font-12px text-third\">\r\n                                    {UnitTime(\r\n                                        new Date().getTime() -\r\n                                            new Date(\r\n                                                item.list.slice(\r\n                                                    -1\r\n                                                )[0].created_time\r\n                                            )\r\n                                    )}\r\n                                </span>\r\n                            }\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div ref={ref_fake_elm} className=\"padding-1px\"></div>\r\n\r\n            <ComponentSkeleton\r\n                has_fetched={has_fetched && count_story <= story_arr.length}\r\n                component={<SkeletonPicContent />}\r\n                num={2}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryMenuPartPc;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsArrow from '../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport './StoryMenuPcAction.scss';\r\n\r\n//\r\nStoryMenuPcAction.propTypes = {};\r\n\r\n//\r\nfunction StoryMenuPcAction({ is_show, has_close, handleClose, handleToggle }) {\r\n    //\r\n    return (\r\n        <div className=\"pos-rel\">\r\n            <div className=\"display-flex align-items-center\">\r\n                {has_close ? (\r\n                    <div className=\"StoryMenuPcAction_close\">\r\n                        <div\r\n                            className=\"StoryMenuPcAction_close_contain cursor-pointer\"\r\n                            onClick={handleClose}\r\n                            title=\"Close stories\"\r\n                        >\r\n                            <IconsArrow y={400} />\r\n                        </div>\r\n                    </div>\r\n                ) : null}\r\n\r\n                <div className=\"StoryMenuPcAction_toggle\">\r\n                    <div\r\n                        className={`StoryMenuPcAction_toggle_contain display-flex-center cursor-pointer ${\r\n                            is_show\r\n                                ? 'StoryMenuPcAction_toggle_contain-show'\r\n                                : 'StoryMenuPcAction_toggle_contain-hide'\r\n                        }`}\r\n                        onClick={handleToggle}\r\n                        title={is_show ? 'Hide menu' : 'Show menu'}\r\n                    >\r\n                        <IconsArrow y={200} size_icon=\"1rem\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryMenuPcAction;\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../../_context/ContextAPI';\r\n//\r\nimport { openScreenCreateStoryPc } from '../../../../../_screen/type/story/pc/create/ScreenStoryCreatePc';\r\n// \r\nimport IconsArrow from '../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport './StoryBtnCreatePc.scss';\r\n\r\n//\r\nStoryBtnCreatePc.propTypes = {};\r\n\r\n//\r\nfunction StoryBtnCreatePc(props) {\r\n    //\r\n    const { openScreenFloor } = useContext(context_api);\r\n\r\n    // \r\n    function openScreenCreateStory() {\r\n        openScreenCreateStoryPc({\r\n            openScreenFloor: openScreenFloor,\r\n            show_fav: true,\r\n            hidden_before: true,\r\n        });\r\n\r\n        history.pushState('', '', `/story/create`);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryBtnCreatePc padding-8px cursor-pointer\"\r\n            onClick={openScreenCreateStory}\r\n        >\r\n            <div className=\"display-flex align-items-center\">\r\n                <div className=\"StoryBtnCreatePc_left\">\r\n                    <div className=\"StoryBtnCreatePc_left_contain display-flex-center bg-ccc brs-50\">\r\n                        <IconsArrow y={400} size_icon=\"1.25rem\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"StoryBtnCreatePc_right\">\r\n                    <div>\r\n                        <span className=\"font-500\">\r\n                            Create a story\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <span className=\"font-12px\">Share a photo or write something.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryBtnCreatePc;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { initial_story_menu_obj } from '../../../../../_initial/story/InitialStory';\r\n//\r\nimport { handle_API_FeedStory_L } from '../../../../../_handle_api/feed/HandleAPIStory';\r\n//\r\nimport { useObserverGetData } from '../../../../../_hooks/useObserverGetData';\r\n//\r\nimport IconsArrow from '../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport CircleLoading from '../../../../waiting/circle_loading/CircleLoading';\r\nimport StoryMenuPc from '../menu/StoryMenuPc';\r\nimport StoryItemPc from '../item/StoryItemPc';\r\n//\r\nimport './StoryHomePc.scss';\r\n\r\n//\r\nStoryHomePc.propTypes = {\r\n    story_arr_followed: PropTypes.array,\r\n    count_story_followed: PropTypes.number,\r\n    has_fetched_followed: PropTypes.bool,\r\n\r\n    story_arr_yours: PropTypes.array,\r\n    count_story_yours: PropTypes.number,\r\n    has_fetched_yours: PropTypes.bool,\r\n\r\n    old_active_ix: PropTypes.number,\r\n    old_story_type: PropTypes.string,\r\n    has_close: PropTypes.bool,\r\n    closeScreen: PropTypes.func,\r\n};\r\n\r\nStoryHomePc.defaultProps = {\r\n    story_arr_followed: [],\r\n    count_story_followed: 0,\r\n    has_fetched_followed: false,\r\n\r\n    story_arr_yours: [],\r\n    count_story_yours: 0,\r\n    has_fetched_yours: false,\r\n\r\n    old_active_ix: 0,\r\n    old_story_type: 'followed',\r\n    has_close: false,\r\n};\r\n\r\n//\r\nfunction StoryHomePc({\r\n    story_arr_followed,\r\n    count_story_followed,\r\n    has_fetched_followed,\r\n\r\n    story_arr_yours,\r\n    count_story_yours,\r\n    has_fetched_yours,\r\n\r\n    old_active_ix,\r\n    old_story_type,\r\n    has_close,\r\n    closeScreen,\r\n}) {\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        active_ix: old_active_ix,\r\n        story_type: old_story_type,\r\n        is_show_menu: true,\r\n\r\n        followed: {\r\n            story_arr: story_arr_followed || [initial_story_menu_obj()],\r\n            count_story: count_story_followed,\r\n            has_fetched: has_fetched_followed,\r\n        },\r\n        yours: {\r\n            story_arr: story_arr_yours || [initial_story_menu_obj()],\r\n            count_story: count_story_yours,\r\n            has_fetched: has_fetched_yours,\r\n        },\r\n    });\r\n\r\n    const { active_ix, story_type, is_show_menu, followed, yours } = state_obj;\r\n    const { story_arr, count_story, has_fetched } = state_obj[story_type];\r\n\r\n    //\r\n    const ref_is_fetching = useRef({ followed: false, yours: false });\r\n    const ref_c_count = useRef({ followed: 0, yours: 0 });\r\n    const ref_is_max = useRef({\r\n        followed: false,\r\n        yours: false,\r\n    });\r\n\r\n    const ref_menu = useRef(null);\r\n    const ref_fake_elm_followed = useRef(null);\r\n\r\n    //\r\n    const { observerShowMore } = useObserverGetData({\r\n        getData_API: () => getData_Story({}),\r\n        getIsMax: () => ref_is_max.current.followed,\r\n        getIsFetching: () => ref_is_fetching.current.followed,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        !has_fetched_yours && getData_Story({ new_story_type: 'yours' });\r\n\r\n        observerShowMore({\r\n            fake_elm_end: ref_fake_elm_followed.current,\r\n            root: ref_menu.current,\r\n            rootMargin: '0px',\r\n            way_scroll: 'to_bottom',\r\n            margin: 0,\r\n        });\r\n    }, []);\r\n\r\n    //\r\n    useEffect(() => {\r\n        if (ref_c_count.current['followed'] <= 10) {\r\n            getData_Story({ new_story_type: 'followed' });\r\n        }\r\n    }, [ref_c_count.current['followed']]);\r\n\r\n    /* ----------- */\r\n\r\n    //\r\n    async function getData_Story({\r\n        new_story_type = story_type,\r\n        new_active_ix = active_ix,\r\n    }) {\r\n        if (ref_is_fetching.current[new_story_type]) {\r\n            return;\r\n        }\r\n\r\n        ref_is_fetching.current[new_story_type] = true;\r\n\r\n        // setStateObj((state_obj) => {\r\n        //     return {\r\n        //         ...state_obj,\r\n        //         active_ix: new_active_ix,\r\n        //     };\r\n        // });\r\n\r\n        const { data, count } = await handle_API_FeedStory_L(\r\n            ref_c_count.current[new_story_type],\r\n            new_story_type\r\n        );\r\n\r\n        ref_is_fetching.current[new_story_type] = false;\r\n\r\n        setStateObj((state_obj) => {\r\n            const { story_arr, count_story, has_fetched } =\r\n                state_obj[new_story_type];\r\n\r\n            const new_count_story = has_fetched ? count_story : count;\r\n            const new_story_arr = [...story_arr, ...data].slice(\r\n                0,\r\n                new_count_story\r\n            );\r\n\r\n            ref_c_count.current[new_story_type] = new_story_arr.length;\r\n            ref_is_max.current[new_story_type] =\r\n                new_count_story <= story_arr.length;\r\n\r\n            return {\r\n                ...state_obj,\r\n                active_ix: new_active_ix,\r\n                [new_story_type]: {\r\n                    story_arr: new_story_arr,\r\n                    count_story: new_count_story,\r\n                    has_fetched: true,\r\n                },\r\n            };\r\n        });\r\n    }\r\n\r\n    // ----- NEXT PREV\r\n\r\n    //\r\n    function handleNextStoryUser() {\r\n        const new_active_ix = active_ix + 1;\r\n\r\n        if (new_active_ix >= story_arr.length) {\r\n            getData_Story({\r\n                new_active_ix: new_active_ix,\r\n            });\r\n        } else {\r\n            setStateObj({\r\n                ...state_obj,\r\n                active_ix: new_active_ix,\r\n            });\r\n        }\r\n    }\r\n\r\n    //\r\n    function handlePrevStoryUser() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            active_ix: active_ix - 1,\r\n        });\r\n    }\r\n\r\n    /* ---------- */\r\n\r\n    //\r\n    function handleChangeStory(new_active_ix, new_story_type) {\r\n        if (new_active_ix == active_ix && story_type == new_story_type) {\r\n            return;\r\n        }\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            active_ix: new_active_ix,\r\n            story_type: new_story_type,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleChangeUserStory(new_active_ix) {\r\n        handleChangeStory(new_active_ix, 'followed');\r\n    }\r\n\r\n    //\r\n    function handleChangeYourStory(new_active_ix) {\r\n        handleChangeStory(new_active_ix, 'yours');\r\n    }\r\n\r\n    /* ---------- */\r\n\r\n    //\r\n    function handleClose() {\r\n        history.back();\r\n    }\r\n\r\n    //\r\n    function handleToggleMenu() {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            is_show_menu: !is_show_menu,\r\n        }));\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className={`StoryHomePc ${\r\n                has_close ? 'wh-100v' : 'StoryHomePc-has_head'\r\n            }`}\r\n        >\r\n            <div className=\"display-flex h-100per\">\r\n                <div\r\n                    className={`StoryHomePc_left pos-rel ${\r\n                        is_show_menu\r\n                            ? 'StoryHomePc_left-show'\r\n                            : 'StoryHomePc_left-hide'\r\n                    }`}\r\n                >\r\n                    <StoryMenuPc\r\n                        story_type={story_type}\r\n                        active_ix={active_ix}\r\n                        is_show_menu={is_show_menu}\r\n                        has_close={has_close}\r\n                        //\r\n                        story_followed_obj={followed}\r\n                        story_your_obj={yours}\r\n                        //\r\n                        ref_menu={ref_menu}\r\n                        ref_fake_elm_followed={ref_fake_elm_followed}\r\n                        //\r\n                        handleChangeUserStory={handleChangeUserStory}\r\n                        handleChangeYourStory={handleChangeYourStory}\r\n                        handleClose={handleClose}\r\n                        handleToggleMenu={handleToggleMenu}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"flex-grow-1 pos-rel\">\r\n                    {has_fetched && story_arr.length > 0 ? (\r\n                        <StoryItemPc\r\n                            count_story={count_story}\r\n                            story_arr={story_arr}\r\n                            active_ix={active_ix}\r\n                            story_type={story_type}\r\n                            handleNextStoryUser={handleNextStoryUser}\r\n                            handlePrevStoryUser={handlePrevStoryUser}\r\n                        />\r\n                    ) : null}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"StoryHomePc_close display-none\">\r\n                <div className=\"cursor-pointer\" onClick={handleClose}>\r\n                    <IconsArrow y={400} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryHomePc;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryItem from '../../../_components/item/_main/StoryItem';\r\n//\r\nimport './StoryItemPc.scss';\r\n\r\n//\r\nStoryItemPc.propTypes = {};\r\n\r\n//\r\nfunction StoryItemPc({\r\n    story_arr,\r\n    count_story,\r\n    active_ix,\r\n    story_type,\r\n\r\n    handleNextStoryUser,\r\n    handlePrevStoryUser,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryItemPc h-100per bg-shadow-9 pos-rel\">\r\n            <StoryItem\r\n                story_arr={story_arr}\r\n                count_story={count_story}\r\n                active_ix={active_ix}\r\n                story_type={story_type}\r\n                // \r\n                handleNextStoryUser={handleNextStoryUser}\r\n                handlePrevStoryUser={handlePrevStoryUser}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryItemPc;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryMenuPartPc from '../../../_components/menu/pc/_main/StoryMenuPartPc';\r\nimport StoryMenuPcAction from '../../../_components/menu/pc/action/StoryMenuPcAction';\r\nimport StoryBtnCreatePc from '../../../_components/menu/pc/btn_create/StoryBtnCreatePc';\r\n//\r\nimport './StoryMenuPc.scss';\r\n\r\n//\r\nStoryMenuPc.propTypes = {};\r\n\r\n//\r\nfunction StoryMenuPc({\r\n    story_type,\r\n    active_ix,\r\n    is_show_menu,\r\n    has_close,\r\n\r\n    story_followed_obj,\r\n    story_your_obj,\r\n\r\n    ref_menu,\r\n    ref_fake_elm_followed,\r\n\r\n    handleChangeUserStory,\r\n    handleChangeYourStory,\r\n\r\n    handleClose,\r\n    handleToggleMenu,\r\n}) {\r\n    return (\r\n        <React.Fragment>\r\n            <div\r\n                className={`StoryMenuPc_action ${\r\n                    is_show_menu\r\n                        ? 'StoryMenuPc_action-show'\r\n                        : 'StoryMenuPc_action-hide'\r\n                }`}\r\n            >\r\n                <StoryMenuPcAction\r\n                    is_show={is_show_menu}\r\n                    has_close={has_close}\r\n                    handleClose={handleClose}\r\n                    handleToggle={handleToggleMenu}\r\n                />\r\n            </div>\r\n\r\n            <div\r\n                ref={ref_menu}\r\n                className={`StoryMenuPc h-100per overflow-y-auto bg-primary ${\r\n                    is_show_menu ? 'StoryMenuPc_show' : 'StoryMenuPc_hide'\r\n                }`}\r\n            >\r\n                <h1 className=\"StoryMenuPc_head pos-sticky top-0 z-index-lv1 padding-8px bg-primary font-22px font-600\">\r\n                    Stories\r\n                </h1>\r\n\r\n                <div className=\"padding-8px\">\r\n                    <StoryMenuPartPc\r\n                        heading=\"Your stories\"\r\n                        is_active_type={story_type == 'yours'}\r\n                        active_ix={active_ix}\r\n                        story_menu_obj={story_your_obj}\r\n                        handleChangeStory={handleChangeYourStory}\r\n                    />\r\n\r\n                    <StoryBtnCreatePc />\r\n                </div>\r\n\r\n                <div className=\"padding-8px\">\r\n                    <StoryMenuPartPc\r\n                        heading=\"All stories\"\r\n                        story_menu_obj={story_followed_obj}\r\n                        is_active_type={story_type == 'followed'}\r\n                        active_ix={active_ix}\r\n                        ref_fake_elm={ref_fake_elm_followed}\r\n                        handleChangeStory={handleChangeUserStory}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default StoryMenuPc;\r\n"],"sourceRoot":""}