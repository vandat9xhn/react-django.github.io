(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[422],{5306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useObserveVidPic=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)("vid_pic-observe opacity-0"),2),r=t[0],n=t[1];return(0,a.useEffect)((function(){e.current&&(0,o.default)({elements:[e.current],callback:function(){n("vid_pic-observe opacity-1")}})}),[e]),r};var n,a=r(67294),o=(n=r(66810))&&n.__esModule?n:{default:n}},66810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elements,r=e.threshold,n=void 0===r?0:r,a=e.callback,o=void 0===a?function(){}:a,s=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.src=e.target.dataset.src,e.target.removeAttribute("data-src"),t.unobserve(e.target),o())}))}),{threshold:n});t.forEach((function(e){s.observe(e)}))}},50664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.openScreenStoryItemMobile=function(e){var t=e.openScreenFloor,r=e.story_arr,n=e.count,a=e.active_ix,o=e.story_type;t({FloorComponent:d,story_arr:r,old_active_ix:a,count:n||r.length,story_type:o})};var a=r(67294),o=i(a),s=(i(r(45697)),r(30796)),u=i(r(18872));r(57087);var c=r(22387);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e){var t,r,i=(t=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h((function(e){return n({},e,{is_fetching:!0})})),e.next=3,(0,c.handle_API_FeedStory_L)(d.length,y);case 3:t=e.sent,r=t.data,d.push.apply(d,l(r)),h((function(e){return n({},e,{active_ix:g+1,is_fetching:!1})}));case 7:case"end":return e.stop()}}),e,this)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(u).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(u)}("next")}))},function(){return r.apply(this,arguments)}),d=e.story_arr,f=e.count,_=e.old_active_ix,y=e.story_type,p=e.closeScreen,m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)({active_ix:_,is_fetching:!1}),2),v=m[0],h=m[1],g=v.active_ix,b=v.is_fetching;return(0,s.useMakeBodyHidden)(),o.default.createElement("div",{className:"ScreenStoryItemMobile wh-100v padding-8px bg-loader"},o.default.createElement(u.default,{story_arr:d,count_story:f,active_ix:g,story_type:y,is_fetching_story:b,handleNextStoryUser:function(){g<d.length?h(n({},v,{active_ix:g+1})):i()},handlePrevStoryUser:function(){h(n({},v,{active_ix:g-1}))},closeScreen:p}))}d.propTypes={},t.default=d},422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openScreenStoryMenuMobile=function(e){var t=e.story_arr_yours,r=e.story_arr_followed,n=e.story_arr_suggested,a=e.count_story_followed,o=e.count_story_yours,s=e.count_story_suggested;(0,e.openScreenFloor)({FloorComponent:c,story_arr_yours:t,story_arr_followed:r,story_arr_suggested:n,count_story_followed:a,count_story_yours:o,count_story_suggested:s})};var n=u(r(67294)),a=(u(r(45697)),r(30796)),o=u(r(55147)),s=u(r(72788));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.story_arr_yours,r=e.story_arr_friends,u=e.story_arr_followed,c=e.story_arr_suggested,i=e.count_story_yours,l=e.count_story_friend,d=e.count_story_followed,f=e.count_story_suggested;return e.closeScreen,(0,a.useMakeBodyHidden)({hidden_app:!0,hidden_header:!0}),n.default.createElement("div",{className:"bg-primary"},n.default.createElement("div",null,n.default.createElement("div",{className:"ScreenStoryMenuMobile_create margin-auto padding-8px"},n.default.createElement(o.default,null)),n.default.createElement("div",{className:"ScreenStoryMenuMobile_item"},n.default.createElement(s.default,{story_arr:t,count_story:i,story_type:"yours",heading:"Your stories"})),n.default.createElement("div",{className:"ScreenStoryMenuMobile_item"},n.default.createElement(s.default,{story_arr:r,count_story:l,story_type:"friends",heading:"Friend's stories"})),n.default.createElement("div",{className:"ScreenStoryMenuMobile_item"},n.default.createElement(s.default,{story_arr:u,count_story:d,story_type:"followed",heading:"Followed stories"})),n.default.createElement("div",{className:"ScreenStoryMenuMobile_item"},n.default.createElement(s.default,{story_arr:c,count_story:f,story_type:"suggested",heading:"Suggested for you"}))))}r(59346),c.propTypes={},t.default=c},22405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67294),a=d(n),o=(d(r(45697)),r(15130)),s=d(r(19400)),u=d(r(47022)),c=d(r(46054)),i=d(r(98703)),l=d(r(57612));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.user,r=e.count_new,d=e.vid_pic,f=e.text,_=e.top_text,y=e.left_text,p=e.color_text_ix,m=e.scale_text,v=(0,n.useContext)(o.context_api).user,h=t.id,g=t.first_name,b=t.last_name,x=t.picture;return a.default.createElement("div",{className:"StoryFace position-rel h-100per story-active font-13px"},a.default.createElement("div",{className:"StoryFace_img h-100per story-transition"},a.default.createElement(s.default,{vid_pic:d,img_props:{className:"wh-100 object-fit-cover"},video_props:{className:"wh-100 object-fit-cover"}})),a.default.createElement(c.default,{text:f,top_text:_,left_text:y,color_text_ix:p,scale_text:m}),a.default.createElement("div",{className:"StoryFace_pic"},a.default.createElement(i.default,{count_new:r,picture:x})),a.default.createElement("div",{className:"StoryFace_name"},a.default.createElement(l.default,{name:v.id==h?"Your story":g+" "+b})),a.default.createElement("div",{className:"story-bg"}),a.default.createElement("div",{className:"story-bg-hv"}),a.default.createElement("div",{className:"StoryFace_count_new"},a.default.createElement(u.default,{num:r})))}r(60923),f.propTypes={},t.default=f},57612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(67294));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.name;return n.default.createElement("div",{className:"StoryFaceName_contain"},n.default.createElement("span",{className:"StoryFaceName_item label-field text-white"},t))}a(r(45697)),r(78605),o.propTypes={},t.default=o},98703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(67294));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.count_new,r=e.picture;return n.default.createElement("div",{className:"StoryFaceUserPic_contain brs-50"},n.default.createElement("div",{className:"brs-50 "+(t>0?"StoryFaceUserPic_border-new":"StoryFaceUserPic_border-old")},n.default.createElement("img",{src:r,alt:"",className:"StoryFaceUserPic_item brs-50",width:"35",height:"35"})))}a(r(45697)),r(87656),o.propTypes={},t.default=o},72788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(67294),o=d(a),s=d(r(45697)),u=r(15130),c=r(22387),i=r(50664),l=d(r(22405));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _(e){var t,r,s=(t=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.handle_API_FeedStory_L)(0,y);case 2:t=e.sent,(r=t.data).map((function(e){return e.active_step=0==e.count_new?0:e.count-e.count_new,e.active_item_ix=0,e.has_fetched=!1,e})),g((function(e){return n({},e,{story_arr:[].concat(f(e.story_arr),f(r)),has_fetched:!0})}));case 6:case"end":return e.stop()}}),e,this)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(u).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(u)}("next")}))},function(){return r.apply(this,arguments)}),d=e.story_arr,_=e.count_story,y=e.story_type,p=e.heading,m=(0,a.useContext)(u.context_api).openScreenFloor,v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)({story_arr:d||[initial_story_menu_obj()],count_story:_,has_fetched:d.length>0}),2),h=v[0],g=v[1],b=h.story_arr,x=h.has_fetched;return(0,a.useEffect)((function(){!x&&s(y)}),[]),o.default.createElement("div",null,o.default.createElement("h2",{className:"margin-0 font-20px padding-8px"},p),o.default.createElement("div",{className:x?"":"display-none"},o.default.createElement("ul",{className:"list-none display-flex flex-wrap"},b.map((function(e,t){return o.default.createElement("li",{key:""+e.user.id,className:"cursor-pointer hv-bg-ccc story-face",onClick:function(){return function(e){(0,i.openScreenStoryItemMobile)({openScreenFloor:m,story_arr:b,active_ix:e,story_type:y})}(t)}},o.default.createElement("div",{className:"StoryMenuMobile_item"},o.default.createElement(l.default,{user:e.user,count_new:e.count_new,vid_pic:e.list[0].vid_pic,text:e.list[0].text,top_text:e.list[0].top_text,left_text:e.list[0].left_text,color_text_ix:e.list[0].color_text_ix,scale_text:e.list[0].scale_text})))})))),o.default.createElement("div",{className:x?"display-none":"StoryMenuMobile_skeleton"}))}r(6911),_.propTypes={story_arr:s.default.array,count_story:s.default.number,story_type:s.default.string,heading:s.default.string},_.defaultProps={story_arr:[],count_story:0},t.default=_},55147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67294),a=u(n),o=(u(r(45697)),r(15130)),s=u(r(37930));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=(0,n.useContext)(o.context_api).openScreenCreateStory;return a.default.createElement("button",{className:"StoryCreate btn btn-hv btn-active padding-8px brs-8px cursor-pointer",onClick:t},a.default.createElement("div",{className:"flex-between-center"},a.default.createElement("div",{className:"StoryCreate_left"},a.default.createElement("span",{className:"label-field font-18px text-white"},"Create story")),a.default.createElement("div",{className:"StoryCreate_right"},a.default.createElement(s.default,{y:400}))))}r(78954),c.propTypes={},t.default=c},19400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(67294),o=i(a),s=i(r(45697)),u=r(5306),c=r(32006);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.vid_pic,r=e.type,s=e.video_props,i=e.img_props,l=(0,c.type_video_or_img)(t,r),d=(0,a.useRef)(null),f=(0,u.useObserveVidPic)(d);return"img"==l?o.default.createElement("img",n({ref:d,className:""+f,"data-src":t,alt:""},i)):"video"==l?o.default.createElement("video",n({ref:d,className:""+f,"data-src":t},s)):null}l.propTypes={vid_pic:s.default.string,type:s.default.string,video_props:s.default.object,img_props:s.default.object},l.defaultProps={video_props:{},img_props:{}},t.default=l},57087:(e,t,r)=>{"use strict";r.r(t)},59346:(e,t,r)=>{"use strict";r.r(t)},60923:(e,t,r)=>{"use strict";r.r(t)},78605:(e,t,r)=>{"use strict";r.r(t)},87656:(e,t,r)=>{"use strict";r.r(t)},6911:(e,t,r)=>{"use strict";r.r(t)},78954:(e,t,r)=>{"use strict";r.r(t)}}]);
//# sourceMappingURL=422.js.map