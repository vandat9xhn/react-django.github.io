(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[422],{50664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openScreenStoryItemMobile=function(e){var t=e.openScreenFloor,r=void 0===t?function(){}:t,n=e.story_arr,a=void 0===n?[]:n,o=e.count,u=void 0===o?0:o,l=e.active_ix,c=void 0===l?0:l,i=e.story_type,d=void 0===i?"":i;r({FloorComponent:s,story_arr:a,old_active_ix:c,count:u||a.length,story_type:d})};var n=u(r(67294)),a=(u(r(45697)),r(30796)),o=u(r(21278));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,a.useMakeBodyHidden)(),n.default.createElement(o.default,e)}s.propTypes={},t.default=s},422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openScreenStoryMenuMobile=s;var n=r(67294),a=(u(n),u(r(45697)),r(15130)),o=u(r(44452));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.openScreenFloor,r=void 0===t?function(){}:t,n=e.has_history,a=void 0===n||n,u=e.story_arr_yours,s=void 0===u?[]:u,l=e.story_arr_friends,c=void 0===l?[]:l,i=e.story_arr_followed,d=void 0===i?[]:i,f=e.story_arr_suggested,_=void 0===f?[]:f,y=e.count_story_friends,p=void 0===y?0:y,m=e.count_story_yours,v=void 0===m?0:m,h=e.count_story_followed,b=void 0===h?0:h,g=e.count_story_suggested,x=void 0===g?0:g;r({FloorComponent:o.default,has_history:a,story_arr_yours:s,story_arr_friends:c,story_arr_followed:d,story_arr_suggested:_,count_story_yours:v,count_story_friends:p,count_story_followed:b,count_story_suggested:x})}function l(e){var t=(0,n.useContext)(a.context_api).openScreenFloor;return(0,n.useEffect)((function(){s({openScreenFloor:t})}),[]),null}l.propTypes={},t.default=l},40883:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67294),a=i(n),o=(i(r(45697)),r(15130)),u=i(r(47022)),s=i(r(98321)),l=i(r(25115)),c=i(r(67136));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.user,r=e.count_new,i=e.type_story,d=e.vid_pic_obj,f=e.text_arr,_=(0,n.useContext)(o.context_api).user,y=t.id,p=t.first_name,m=t.last_name,v=t.picture;return a.default.createElement("div",{className:"StoryFace pos-rel h-100per story-active font-13px"},a.default.createElement("div",{className:"StoryFace_content wh-100"},a.default.createElement(s.default,{type_story:i,vid_pic_obj:d,text_arr:f})),a.default.createElement("div",{className:"StoryFace_pic pos-abs-0"},a.default.createElement(l.default,{count_new:r,picture:v})),a.default.createElement("div",{className:"StoryFace_name pos-abs left-0 bottom-0 w-100per"},a.default.createElement(c.default,{name:_.id==y?"Your story":p+" "+m})),a.default.createElement("div",{className:"story-bg"}),a.default.createElement("div",{className:"story-bg-hv"}),a.default.createElement("div",{className:"StoryFace_count_new"},a.default.createElement(u.default,{num:r})))}r(65124),d.propTypes={},t.default=d},98321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(67294)),a=(u(r(45697)),u(r(6485))),o=u(r(2547));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.type_story,r=e.vid_pic_obj,u=e.text_arr;return"text"==t?n.default.createElement(a.default,{vid_pic:r.vid_pic,text:u[0].text,font_family:u[0].font_family,scale:u[0].scale}):"pic"==t?n.default.createElement(o.default,{vid_pic_obj:r,text_arr:u}):null}s.propTypes={},t.default=s},2547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(67294)),a=(u(r(45697)),u(r(84110))),o=u(r(58140));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.vid_pic_obj,r=e.text_arr;return n.default.createElement("div",{className:"wh-100 pos-rel"},n.default.createElement(a.default,t),r.map((function(e,t){return n.default.createElement(o.default,{key:""+t,text_obj:e})})))}s.propTypes={},t.default=s},6485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(67294)),a=(o(r(45697)),o(r(42888)));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.vid_pic,r=e.text,o=e.font_family,u=e.scale;return n.default.createElement("div",{className:"StoryFaceContentStoryText wh-100 pos-rel"},n.default.createElement("img",{src:t,alt:"",className:"wh-100"}),n.default.createElement(a.default,{text:r,font_family:o,scale:u}))}u.propTypes={},t.default=u},67136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(67294));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.name;return n.default.createElement("div",{className:"StoryFaceName_contain"},n.default.createElement("span",{className:"StoryFaceName_item font-500 text-white"},t))}a(r(45697)),r(90113),o.propTypes={},t.default=o},25115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(67294));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.count_new,r=e.picture;return n.default.createElement("div",{className:"StoryFaceUserPic_contain brs-50"},n.default.createElement("div",{className:"brs-50 "+(t>0?"StoryFaceUserPic_border-new":"StoryFaceUserPic_border-old")},n.default.createElement("img",{src:r,alt:"",className:"StoryFaceUserPic_item brs-50",width:"35",height:"35"})))}a(r(45697)),r(59461),o.propTypes={},t.default=o},13440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(67294),o=_(a),u=_(r(45697)),s=r(15130),l=_(r(37824)),c=r(50664),i=r(22387),d=r(31297),f=_(r(40883));function _(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e){var t,r,u=(t=regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.current){e.next=2;break}return e.abrupt("return");case 2:return N.current=!0,e.next=5,(0,i.handle_API_FeedStory_L)(0,m);case 5:t=e.sent,r=t.data,a=t.count,r.map((function(e){return e.active_step=0==e.count_new?0:e.count-e.count_new,e.active_item_ix=0,e.has_fetched=!1,e})),N.current=!1,x((function(e){return P.current=a<=e.story_arr.length+r.length,n({},e,{story_arr:[].concat(y(e.story_arr),y(r)).slice(0,a),has_fetched:!0})}));case 11:case"end":return e.stop()}}),e,this)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var u=e[a](o),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(s)}("next")}))},function(){return r.apply(this,arguments)}),_=e.story_arr,p=e.count_story,m=e.story_type,v=e.heading,h=(0,a.useContext)(s.context_api).openScreenFloor,b=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)({story_arr:_||[initial_story_menu_obj()],count_story:p,has_fetched:_.length>0}),2),g=b[0],x=b[1],E=g.story_arr,S=g.has_fetched,M=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(!1),P=(0,a.useRef)(!1),j=(0,d.useObserverGetData)({getData_API:u,getIsFetching:function(){return N.current},getIsMax:function(){return P.current}}).observerShowMore;return(0,a.useEffect)((function(){(0,l.default)({elm:M.current,callback:function(){!S&&u(m)}}),(!S||_.length<p)&&j({fake_elm_end:w.current,rootMargin:"0px 0px 0px 0px",way_scroll:"to_bottom",margin:0})}),[]),S&&0==E.length?null:o.default.createElement("div",{ref:M,className:"screen-story-menu-mobile"},E.length?o.default.createElement("h2",{className:"font-18px padding-8px"},v):null,o.default.createElement("div",{className:S?"":"display-none"},o.default.createElement("ul",{className:"list-none display-flex flex-wrap"},E.map((function(e,t){return o.default.createElement("li",{key:""+e.user.id,className:"cursor-pointer hv-bg-ccc story-face",onClick:function(){return function(e){(0,c.openScreenStoryItemMobile)({openScreenFloor:h,story_arr:E,active_ix:e,story_type:m})}(t)}},o.default.createElement("div",{className:"StoryMenuPartMobile_item"},o.default.createElement(f.default,{user:e.user,count_new:e.count_new,type_story:e.list[0].type_story,vid_pic_obj:e.list[0].vid_pic_obj,text_arr:e.list[0].text_arr})))}))),o.default.createElement("div",{ref:w,className:"padding-1px"})),o.default.createElement("div",{className:S?"display-none":"StoryMenuPartMobile_skeleton"}))}r(47346),p.propTypes={story_arr:u.default.array,count_story:u.default.number,story_type:u.default.string,heading:u.default.string},p.defaultProps={story_arr:[],count_story:0},t.default=p},6149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(67294),a=l(n),o=(l(r(45697)),r(15130)),u=l(r(37930)),s=r(73685);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=(0,n.useContext)(o.context_api).openScreenFloor;return a.default.createElement("button",{className:"StoryBtnCreateMb btn btn-hv btn-active brs-8px cursor-pointer",onClick:function(){(0,s.openScreenCreateStoryMb)({openScreenFloor:t}),history.pushState("","","/story/create")}},a.default.createElement("div",{className:"flex-between-center"},a.default.createElement("div",{className:"StoryBtnCreateMb_left"},a.default.createElement("span",{className:"font-500 font-18px text-white"},"Create story")),a.default.createElement("div",{className:"StoryBtnCreateMb_right"},a.default.createElement(u.default,{y:400}))))}r(72423),c.propTypes={},t.default=c},21278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(67294),o=l(a),u=(l(r(45697)),r(22387)),s=l(r(19113));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e){var t,r,l=(t=regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v((function(e){return n({},e,{is_fetching:!0})})),e.next=3,(0,u.handle_API_FeedStory_L)(i.length,_);case 3:t=e.sent,r=t.data,i.push.apply(i,c(r)),v((function(e){return n({},e,{active_ix:h+1,is_fetching:!1})}));case 7:case"end":return e.stop()}}),e,this)})),r=function(){var e=t.apply(this,arguments);return new Promise((function(t,r){return function n(a,o){try{var u=e[a](o),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(s)}("next")}))},function(){return r.apply(this,arguments)}),i=e.story_arr,d=e.count,f=e.old_active_ix,_=e.story_type,y=e.closeScreen,p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)({active_ix:f,is_fetching:!1}),2),m=p[0],v=p[1],h=m.active_ix,b=m.is_fetching;return o.default.createElement("div",{className:"StoryItemMobile wh-100v bg-shadow-9"},o.default.createElement(s.default,{story_arr:i,count_story:d,active_ix:h,story_type:_,is_fetching_story:b,handleNextStoryUser:function(){h<i.length?v(n({},m,{active_ix:h+1})):l()},handlePrevStoryUser:function(){v(n({},m,{active_ix:h-1}))},closeScreen:y}))}r(79953),i.propTypes={},t.default=i},44452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(67294)),a=(s(r(45697)),r(30796)),o=s(r(13440)),u=s(r(6149));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.story_arr_yours,r=e.story_arr_friends,s=e.story_arr_followed,l=e.story_arr_suggested,c=e.count_story_yours,i=e.count_story_friend,d=e.count_story_followed,f=e.count_story_suggested;return e.closeScreen,(0,a.useMakeBodyHidden)({hidden_app:!0,hidden_header:!0}),n.default.createElement("div",{className:"bg-primary padding-4px"},n.default.createElement("div",{className:"StoryMenuMobile_create"},n.default.createElement(u.default,null)),n.default.createElement("div",{className:"StoryMenuMobile_item"},n.default.createElement(o.default,{story_arr:t,count_story:c,story_type:"yours",heading:"Your stories"})),n.default.createElement("div",{className:"StoryMenuMobile_item"},n.default.createElement(o.default,{story_arr:r,count_story:i,story_type:"friends",heading:"Friend's stories"})),n.default.createElement("div",{className:"StoryMenuMobile_item"},n.default.createElement(o.default,{story_arr:s,count_story:d,story_type:"followed",heading:"Followed stories"})),n.default.createElement("div",{className:"StoryMenuMobile_item"},n.default.createElement(o.default,{story_arr:l,count_story:f,story_type:"suggested",heading:"Suggested for you"})))}r(80027),l.propTypes={},t.default=l},65124:(e,t,r)=>{"use strict";r.r(t)},90113:(e,t,r)=>{"use strict";r.r(t)},59461:(e,t,r)=>{"use strict";r.r(t)},47346:(e,t,r)=>{"use strict";r.r(t)},72423:(e,t,r)=>{"use strict";r.r(t)},79953:(e,t,r)=>{"use strict";r.r(t)},80027:(e,t,r)=>{"use strict";r.r(t)}}]);
//# sourceMappingURL=422.js.map