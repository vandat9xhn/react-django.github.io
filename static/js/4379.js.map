{"version":3,"sources":["webpack://my_webpack/./src/_default/short_video/item.js","webpack://my_webpack/./src/_handle_api/short_video/list.js","webpack://my_webpack/./src/_hooks/useMouseDownToWindowUp.js","webpack://my_webpack/./src/_hooks/useMouseMoveOneAxis.js","webpack://my_webpack/./src/_hooks/useMouseMoveY.js","webpack://my_webpack/./src/component/short_video_fb/_hooks/useShortVideoMainMb.js","webpack://my_webpack/./src/component/short_video_fb/full/_common/interact/ShortVideoInteract.js","webpack://my_webpack/./src/component/short_video_fb/full/mb/_main/ShortVideoFullMb.js","webpack://my_webpack/./src/component/short_video_fb/full/mb/video/ShortVideoFullMainMb.js","webpack://my_webpack/./src/component/swipe/_hooks/useSwipeYFull.js","webpack://my_webpack/./src/component/swipe/y/_main/SwipeYFull.js","webpack://my_webpack/./src/pages/short_video_full/mobile/ShortVideoFullPgMb.js"],"names":["default_short_video_obj","id","getRandomId","video","getRandomVideo","thumb","getRandomImg","content","getRandomContent","name","getRandomName","picture","link_to","getRandomNumber","interacts","icon_name","count_str","default_short_video_arr","getDefaultArr","handle_API_ShortVideo_L","Promise","res","setTimeout","data","next_id","handleDown","handleMove","handleEnd","detectEndTouch","detectNoTouch","detectStartTouch","detectHasTouch","ref_func_move","useRef","ref_func_up","onMove","e","onUp","IS_MOBILE","window","removeEventListener","current","onDown","addEventListener","touches","length","axis","handleMouseDown","handleMouseMove","handleMouseEnd","is_run","first_orientation","client_x","client_y","useMouseDownToWindowUp","getClientXY","new_client_x","new_client_y","client_change_x","client_change_y","Math","abs","handleStart","stopPropagation","useMouseMoveOneAxis","paused","initial_ref_main","initial_ref_video","time_show_btn_play","useState","is_play","setIsPlay","is_loaded","setIsLoaded","ref_video","ref_main","useBool","is_true","toggleBool","setIsTrue","useEffect","timeout","clearTimeout","play","pause","togglePlay","handleLoadedMetadata","IconObj","like","share","y","comment","x","ShortVideoInteract","propTypes","ShortVideoInteractBtn","handleAction","className","Icon","handleClick","map","item","ix","key","ShortVideoFullMb","currentTime","ShortVideoFullMainMb","useShortVideoMainMb","ref","src","loop","onClick","onLoadedMetadata","Link","to","alt","width","height","title","size_icon","needed_change_y","swipe_up","handleChangeIx","callbackTouchMove","_ref_main","ref_item_height","ref_y_change","useMouseMoveY","_client_change_y","handleScrollY","scrollTop","m","i","scroll_y","new_ix","handleScrollSmooth","detectItemHeight","clientHeight","SwipeYFull","children","useSwipeYFull","onTouchStart","onMouseDown","undefined","ShortVideoFullPgMb","show_screen_title","useParams","list","temp_ix","is_fetching","has_fetched","state_obj","setStateObj","useMakeBodyHidden","hidden_header","getData","console","log","history","replaceState","per_y_change","Fragment","item_ix","is_has_next","is_has_prev"],"mappings":"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","file":"static/js/4379.js","sourcesContent":["import { getRandomContent } from \"../../_default/_common/default_content\";\r\nimport {\r\n    getRandomId,\r\n    getRandomNumber,\r\n} from \"../../_default/_common/default_id\";\r\nimport { getRandomName } from \"../../_default/_common/default_name\";\r\nimport {\r\n    getRandomImg,\r\n    getRandomVideo,\r\n} from \"../../_default/_common/default_image\";\r\nimport { getDefaultArr } from \"../../_default/_common/getDefaultArr\";\r\n\r\n//\r\nexport const default_short_video_obj = (id) => {\r\n    return {\r\n        id: id ? id : getRandomId(),\r\n        video: getRandomVideo(),\r\n        thumb: getRandomImg(),\r\n        content: getRandomContent(),\r\n\r\n        name: getRandomName(),\r\n        picture: getRandomImg(),\r\n        link_to: `/profile/${getRandomNumber()}`,\r\n\r\n        interacts: [\r\n            {\r\n                icon_name: \"like\",\r\n                count_str: \"20K\",\r\n            },\r\n            {\r\n                icon_name: \"comment\",\r\n                count_str: \"500\",\r\n            },\r\n            {\r\n                icon_name: \"share\",\r\n                count_str: \"1K\",\r\n            },\r\n        ],\r\n    };\r\n};\r\n\r\n//\r\nexport const default_short_video_arr = (id) => {\r\n    return [\r\n        default_short_video_obj(id),\r\n        ...getDefaultArr(default_short_video_obj, 5, 5),\r\n    ];\r\n};\r\n","import { getRandomId } from \"../../_default/_common/default_id\";\r\nimport { default_short_video_arr } from \"../../_default/short_video/item\";\r\n\r\n//\r\nexport const handle_API_ShortVideo_L = (id) =>\r\n    new Promise((res) => {\r\n        setTimeout(() => {\r\n            res({\r\n                data: default_short_video_arr(id),\r\n                next_id: getRandomId(),\r\n            });\r\n        }, 250);\r\n    });\r\n","// import { useMouseDownToWindowUp } from 'react-commons-ts';\r\n\r\n// //\r\n// export { useMouseDownToWindowUp };\r\n\r\nimport { useRef } from 'react';\r\n//\r\nimport { IS_MOBILE } from '../_constant/Constant';\r\n\r\n//\r\nfunction detectNoTouch(e) {\r\n    return e.touches.length == 0;\r\n}\r\n\r\n//\r\nfunction detectHasTouch(e) {\r\n    return e.touches.length > 0;\r\n}\r\n\r\n//\r\nexport function useMouseDownToWindowUp({\r\n    handleDown = () => {},\r\n    handleMove = () => {},\r\n    handleEnd = () => {},\r\n\r\n    detectEndTouch = detectNoTouch,\r\n    detectStartTouch = detectHasTouch,\r\n}) {\r\n    //\r\n    const ref_func_move = useRef(null);\r\n    const ref_func_up = useRef(null);\r\n\r\n    //\r\n    function onDown(e) {\r\n        handleDown(e);\r\n\r\n        if (!ref_func_move.current) {\r\n            ref_func_move.current = onMove;\r\n        }\r\n        if (!ref_func_up.current) {\r\n            ref_func_up.current = onUp;\r\n        }\r\n\r\n        if (IS_MOBILE) {\r\n            if (detectStartTouch(e)) {\r\n                window.addEventListener('touchmove', ref_func_move.current);\r\n                window.addEventListener('touchend', ref_func_up.current);\r\n            }\r\n        } else {\r\n            window.addEventListener('mousemove', ref_func_move.current);\r\n            window.addEventListener('mouseup', ref_func_up.current);\r\n        }\r\n    }\r\n\r\n    //\r\n    function onMove(e) {\r\n        handleMove(e);\r\n    }\r\n\r\n    //\r\n    function onUp(e) {\r\n        handleEnd(e);\r\n\r\n        if (IS_MOBILE) {\r\n            if (detectEndTouch(e)) {\r\n                window.removeEventListener('touchmove', ref_func_move.current);\r\n                window.removeEventListener('touchend', ref_func_up.current);\r\n            }\r\n        } else {\r\n            window.removeEventListener('mousemove', ref_func_move.current);\r\n            window.removeEventListener('mouseup', ref_func_up.current);\r\n        }\r\n\r\n        ref_func_move.current = null;\r\n        ref_func_up.current = null;\r\n    }\r\n\r\n    //\r\n    return {\r\n        onDown,\r\n    };\r\n}\r\n","import { useRef } from \"react\";\r\n//\r\nimport { getClientXY } from \"../_some_function/getClientXY\";\r\n//\r\nimport { useMouseDownToWindowUp } from \"./useMouseDownToWindowUp\";\r\n\r\n//\r\nexport function useMouseMoveOneAxis({\r\n    axis = \"x\" || \"y\",\r\n    handleMouseDown = () => {},\r\n    handleMouseMove = () => {},\r\n    handleMouseEnd = () => {},\r\n}) {\r\n    //\r\n    const is_run = useRef(false);\r\n    const first_orientation = useRef(\"\");\r\n\r\n    const client_x = useRef(0);\r\n    const client_y = useRef(0);\r\n\r\n    //\r\n    const { onDown } = useMouseDownToWindowUp({\r\n        handleDown: handleMouseDown,\r\n        handleMove: handleMove,\r\n        handleEnd: handleEnd,\r\n    });\r\n\r\n    // -----\r\n\r\n    //\r\n    function handleStart(e) {\r\n        e.stopPropagation();\r\n\r\n        is_run.current = true;\r\n        const { client_x: new_client_x, client_y: new_client_y } =\r\n            getClientXY(e);\r\n        client_x.current = new_client_x;\r\n        client_y.current = new_client_y;\r\n\r\n        onDown(e);\r\n    }\r\n\r\n    //\r\n    function handleMove(e) {\r\n        if (!is_run.current) {\r\n            return;\r\n        }\r\n\r\n        const { client_x: new_client_x, client_y: new_client_y } =\r\n            getClientXY(e);\r\n        const client_change_x = new_client_x - client_x.current;\r\n        const client_change_y = new_client_y - client_y.current;\r\n\r\n        if (first_orientation.current == \"\") {\r\n            first_orientation.current =\r\n                Math.abs(client_change_x) >= Math.abs(client_change_y)\r\n                    ? \"x\"\r\n                    : \"y\";\r\n        }\r\n\r\n        handleMouseMove(axis === \"x\" ? client_change_x : client_change_y);\r\n\r\n        client_x.current = new_client_x;\r\n        client_y.current = new_client_y;\r\n    }\r\n\r\n    //\r\n    function handleEnd() {\r\n        is_run.current = false;\r\n        handleMouseEnd();\r\n        first_orientation.current = \"\";\r\n    }\r\n\r\n    //\r\n    return {\r\n        is_run,\r\n        client_x,\r\n        client_y,\r\n        first_orientation,\r\n\r\n        handleStart,\r\n        handleMove,\r\n        handleEnd,\r\n    };\r\n}\r\n","import { useMouseMoveOneAxis } from \"../_hooks/useMouseMoveOneAxis\";\r\n\r\n//\r\nexport function useMouseMoveY({\r\n    handleMouseDown = () => {},\r\n    handleMouseMove = () => {},\r\n    handleMouseEnd = () => {},\r\n}) {\r\n    return useMouseMoveOneAxis({\r\n        axis: \"y\",\r\n        handleMouseDown: handleMouseDown,\r\n        handleMouseMove: handleMouseMove,\r\n        handleMouseEnd: handleMouseEnd,\r\n    });\r\n}\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { useBool } from \"react-commons-ts\";\r\n\r\n//\r\nexport function useShortVideoMainMb({\r\n    paused = true,\r\n    initial_ref_main = { current: null },\r\n    initial_ref_video = { current: null },\r\n    time_show_btn_play = 2500,\r\n}) {\r\n    //\r\n    const [is_play, setIsPlay] = useState(true);\r\n    const [is_loaded, setIsLoaded] = useState(false);\r\n\r\n    //\r\n    const ref_video = initial_ref_video || useRef(null);\r\n    const ref_main = initial_ref_main || useRef(null);\r\n\r\n    //\r\n    const { is_true, toggleBool, setIsTrue } = useBool(false);\r\n\r\n    //\r\n    useEffect(() => {\r\n        let timeout = null;\r\n\r\n        if (is_true) {\r\n            timeout = setTimeout(() => {\r\n                setIsTrue(false);\r\n            }, time_show_btn_play);\r\n        } else {\r\n            timeout && clearTimeout(timeout);\r\n        }\r\n\r\n        return () => {\r\n            timeout && clearTimeout(timeout);\r\n        };\r\n    }, [is_true, is_play]);\r\n\r\n    //\r\n    useEffect(() => {\r\n        if (is_loaded) {\r\n            if (!paused && is_play) {\r\n                ref_video.current.play();\r\n            } else {\r\n                ref_video.current.pause();\r\n            }\r\n        }\r\n    }, [is_loaded, !paused && is_play]);\r\n\r\n    // ----\r\n\r\n    const togglePlay = () => {\r\n        setIsPlay((is_play) => !is_play);\r\n    };\r\n\r\n    const handleLoadedMetadata = () => {\r\n        setIsLoaded(true);\r\n    };\r\n\r\n    // ---\r\n\r\n    return {\r\n        ref_main,\r\n        ref_video,\r\n        is_play,\r\n        is_true,\r\n\r\n        togglePlay,\r\n        toggleBool,\r\n        handleLoadedMetadata,\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport BtnActions from \"../../../../../component/button/actions/BtnActions\";\r\n\r\nimport IconLike from \"../../../../../_icons_svg/icons_like/icon_like/IconLike\";\r\nimport IconsPost from \"../../../../../_icons_svg/icons_post/IconsPost\";\r\n\r\nimport \"./ShortVideoInteract.scss\";\r\n\r\n//\r\nconst IconObj = {\r\n    like: <IconLike />,\r\n    share: <IconsPost y={200} />,\r\n    comment: <IconsPost x={200} />,\r\n};\r\n\r\n//\r\nShortVideoInteract.propTypes = {};\r\n\r\n//\r\nconst ShortVideoInteractBtn = ({ icon_name, handleAction }) => {\r\n    //\r\n    const handleClick = () => {\r\n        handleAction(icon_name);\r\n    };\r\n\r\n    //\r\n    return (\r\n        <BtnActions\r\n            className=\"ShortVideoInteract_item_btn\"\r\n            Icon={IconObj[icon_name]}\r\n            handleClick={handleClick}\r\n        />\r\n    );\r\n};\r\n\r\n//\r\nfunction ShortVideoInteract({ interacts, handleAction }) {\r\n    return (\r\n        <div className=\"ShortVideoInteract display-flex flex-end flex-col padding-10px h-100per font-14px font-500\">\r\n            {interacts.map((item, ix) => (\r\n                <div key={item.icon_name} className=\"padding-y-5px\">\r\n                    <div>\r\n                        <ShortVideoInteractBtn\r\n                            icon_name={item.icon_name}\r\n                            handleAction={handleAction}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"text-align-center\">{item.count_str}</div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShortVideoInteract;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ShortVideoFullMainMb from \"../video/ShortVideoFullMainMb\";\r\nimport ShortVideoInteract from \"../../_common/interact/ShortVideoInteract\";\r\n\r\nimport './ShortVideoFullMb.scss';\r\n\r\n//\r\nShortVideoFullMb.propTypes = {};\r\n\r\n//\r\nfunction ShortVideoFullMb({\r\n    video,\r\n    paused,\r\n    currentTime,\r\n\r\n    name,\r\n    picture,\r\n    link_to,\r\n    content,\r\n    interacts,\r\n\r\n    handleAction,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"ShortVideoFullMb pos-rel wh-100 text-white\">\r\n            <ShortVideoFullMainMb\r\n                video={video}\r\n                paused={paused}\r\n                currentTime={currentTime}\r\n                name={name}\r\n                picture={picture}\r\n                link_to={link_to}\r\n                content={content}\r\n            />\r\n\r\n            <div className=\"pos-abs right-0 bottom-0\">\r\n                <ShortVideoInteract\r\n                    interacts={interacts}\r\n                    handleAction={handleAction}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShortVideoFullMb;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { useShortVideoMainMb } from \"../../../../../component/short_video_fb/_hooks/useShortVideoMainMb\";\r\n\r\nimport VidPicObserve from \"../../../../../component/vid_pic/observe/VidPicObserve\";\r\nimport IconsPlayPause from \"../../../../../_icons_svg/icon_play_pause/IconsPlayPause\";\r\n\r\nimport \"./ShortVideoFullMainMb.scss\";\r\n\r\n//\r\nShortVideoFullMainMb.propTypes = {};\r\n\r\n//\r\nfunction ShortVideoFullMainMb({\r\n    video,\r\n    paused = true,\r\n    currentTime,\r\n\r\n    name,\r\n    picture,\r\n    link_to,\r\n    content,\r\n}) {\r\n    //\r\n    const {\r\n        ref_main,\r\n        ref_video,\r\n        is_play,\r\n        is_true,\r\n\r\n        togglePlay,\r\n        toggleBool,\r\n        handleLoadedMetadata,\r\n    } = useShortVideoMainMb({\r\n        paused: paused,\r\n        currentTime: currentTime,\r\n    });\r\n\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_main}\r\n            className=\"ShortVideoFullMainMb pos-rel wh-100 font-13px bg-black\"\r\n        >\r\n            <div className=\"display-flex align-items-center wh-100\">\r\n                {/* <VidPicObserve\r\n                    vid_pic={video}\r\n                    type=\"video\"\r\n                    video_props={{\r\n                        ref: ref_video,\r\n                        className: \"w-100per max-h-100per object-fit-cover\",\r\n                        src: video,\r\n                        autoPlay: initial_is_play,\r\n                        loop: true,\r\n                        onClick: toggleBool,\r\n                        onLoadedMetadata: handleLoadedMetadata,\r\n                    }}\r\n                /> */}\r\n                <video\r\n                    ref={ref_video}\r\n                    className=\"w-100per max-h-100per object-fit-cover\"\r\n                    src={video}\r\n                    // autoPlay={!paused}\r\n                    loop\r\n                    onClick={toggleBool}\r\n                    onLoadedMetadata={handleLoadedMetadata}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"ShortVideoFullMainMb_user pos-abs-0 w-100per\">\r\n                <div className=\"display-flex align-items-center padding-12px bg-shadow-05\">\r\n                    <Link\r\n                        to={link_to}\r\n                        className=\"display-block hv-after-shadow-05\"\r\n                    >\r\n                        <img\r\n                            className=\"brs-50 object-fit-cover\"\r\n                            src={picture}\r\n                            alt=\"\"\r\n                            width={42}\r\n                            height={42}\r\n                        />\r\n                    </Link>\r\n\r\n                    <div className=\"margin-left-12px\">\r\n                        <Link to={link_to} className=\"text-white\">\r\n                            {name}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                className={`pos-abs-center ${\r\n                    is_true\r\n                        ? \"\"\r\n                        : \"opacity-0 visibility-hidden transition-all-250ms\"\r\n                }`}\r\n                onClick={togglePlay}\r\n                title={is_play ? \"Pause\" : \"Play\"}\r\n            >\r\n                <IconsPlayPause x={is_play ? 200 : 0} size_icon=\"36px\" />\r\n            </div>\r\n\r\n            <div className=\"ShortVideoFullMainMb_content pos-abs left-0 bottom-0 padding-12px bg-shadow-05 min-w-100per\">\r\n                <div className=\"wk-box-vertical line-clamp-2 overflow-hidden\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShortVideoFullMainMb;\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nimport { useMouseMoveY } from \"../../../_hooks/useMouseMoveY\";\r\nimport { handleScrollSmooth } from \"../../../_some_function/handleScrollSmooth\";\r\n\r\n//\r\nexport function useSwipeYFull({\r\n    initial_ref_main,\r\n    needed_change_y = 20,\r\n    swipe_up = true,\r\n\r\n    handleChangeIx = (new_ix = 0) => {},\r\n    callbackTouchMove = (per_y_change = 0) => {},\r\n}) {\r\n    //\r\n    const _ref_main = useRef(null);\r\n    const ref_main = initial_ref_main || _ref_main;\r\n    const ref_item_height = useRef(0);\r\n    const ref_y_change = useRef(0);\r\n\r\n    //\r\n    const { handleStart } = useMouseMoveY({\r\n        // handleMouseDown: () => console.log(1),\r\n        handleMouseMove: handleTouchMove,\r\n        handleMouseEnd: handleTouchEnd,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        detectItemHeight();\r\n        window.addEventListener(\"resize\", detectItemHeight);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", detectItemHeight);\r\n        };\r\n    }, []);\r\n\r\n    // ----\r\n\r\n    const detectItemHeight = () => {\r\n        ref_item_height.current = ref_main.current.clientHeight;\r\n    };\r\n\r\n    const handleScrollY = (scroll_y) => {\r\n        ref_main.current.scrollTop = scroll_y;\r\n    };\r\n\r\n    const handleScrollYSmooth = (scroll_y) => {\r\n        handleScrollSmooth(() => {\r\n            handleScrollY(scroll_y);\r\n        }, ref_main.current);\r\n    };\r\n\r\n    const getNewIx = () => {\r\n        const m = ref_main.current.scrollTop % ref_item_height.current;\r\n        const i = (ref_main.current.scrollTop - m) / ref_item_height.current;\r\n        const is_up = ref_y_change.current * (swipe_up ? -1 : 1) > 0;\r\n\r\n        if (is_up) {\r\n            return i + (m < ref_item_height.current - needed_change_y ? 0 : 1);\r\n        }\r\n\r\n        return i + (m < needed_change_y ? 0 : 1);\r\n    };\r\n\r\n    // -----\r\n\r\n    // move\r\n    function handleTouchMove(client_change_y = 0) {\r\n        const _client_change_y = swipe_up ? -client_change_y : client_change_y;\r\n        ref_y_change.current += _client_change_y;\r\n        handleScrollY(ref_main.current.scrollTop + _client_change_y);\r\n        callbackTouchMove(ref_y_change.current / ref_item_height.current);\r\n    }\r\n\r\n    //\r\n    function handleTouchEnd() {\r\n        if (ref_y_change.current === 0) {\r\n            return;\r\n        }\r\n\r\n        const new_ix = getNewIx();\r\n        handleChangeIx(new_ix);\r\n        handleScrollYSmooth(ref_item_height.current * new_ix);\r\n        ref_y_change.current = 0;\r\n    }\r\n\r\n    // ----\r\n\r\n    return {\r\n        ref_main,\r\n        handleStart,\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { IS_MOBILE } from \"../../../../_constant/Constant\";\r\n\r\nimport { useSwipeYFull } from \"../../_hooks/useSwipeYFull\";\r\n\r\nimport \"./SwipeYFull.scss\";\r\n\r\n//\r\nSwipeYFull.propTypes = {};\r\n\r\n//\r\nfunction SwipeYFull({\r\n    initial_ref_main,\r\n    needed_change_y,\r\n    swipe_up,\r\n\r\n    className,\r\n    children,\r\n\r\n    handleChangeIx,\r\n    callbackTouchMove,\r\n}) {\r\n    //\r\n    const { ref_main, handleStart } = useSwipeYFull({\r\n        initial_ref_main: initial_ref_main,\r\n        needed_change_y: needed_change_y,\r\n        swipe_up: swipe_up,\r\n\r\n        handleChangeIx: handleChangeIx,\r\n        callbackTouchMove: callbackTouchMove,\r\n    });\r\n\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_main}\r\n            className={`SwipeYFull wh-100 touch-action-none overflow-y-auto scroll-width-0 ${className}`}\r\n            onTouchStart={handleStart}\r\n            onMouseDown={IS_MOBILE ? undefined : handleStart}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SwipeYFull;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { handle_API_ShortVideo_L } from \"../../../_handle_api/short_video/list\";\r\n\r\nimport { useMakeBodyHidden } from \"../../../_hooks/useMakeBodyHidden\";\r\n\r\nimport VirtualScroll from \"../../../component/virtual_scroll/VirtualScroll\";\r\nimport SwipeYFull from \"../../../component/swipe/y/_main/SwipeYFull\";\r\nimport ShortVideoFullMb from \"../../../component/short_video_fb/full/mb/_main/ShortVideoFullMb\";\r\n\r\nimport \"./ShortVideoFullPgMb.scss\";\r\n\r\n//\r\nShortVideoFullPgMb.propTypes = {};\r\n\r\n//\r\nfunction ShortVideoFullPgMb({ show_screen_title = false }) {\r\n    //\r\n    const { id } = useParams();\r\n\r\n    const [state_obj, setStateObj] = useState({\r\n        list: [],\r\n        ix: 0,\r\n        temp_ix: 0,\r\n        next_id: 0,\r\n        is_fetching: false,\r\n        has_fetched: false,\r\n    });\r\n\r\n    const { list, ix, temp_ix, next_id, is_fetching, has_fetched } = state_obj;\r\n\r\n    //\r\n    !show_screen_title &&\r\n        useMakeBodyHidden({\r\n            hidden_header: true,\r\n        });\r\n\r\n    //\r\n    useEffect(() => {\r\n        getData(id);\r\n    }, []);\r\n\r\n    // -----\r\n\r\n    //\r\n    const getData = async (id = 0) => {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            is_fetching: true,\r\n        }));\r\n\r\n        const { data, next_id } = await handle_API_ShortVideo_L(id);\r\n\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            list: [...state_obj.list, ...data],\r\n            next_id: next_id,\r\n            is_fetching: false,\r\n            has_fetched: true,\r\n        }));\r\n    };\r\n\r\n    // -----\r\n\r\n    const handleChangeIx = (new_ix = 0) => {\r\n        setStateObj((state_obj) => {\r\n            history.replaceState(\"\", \"\", `/short-video/${list[new_ix].id}`);\r\n\r\n            return {\r\n                ...state_obj,\r\n                ix: new_ix,\r\n                temp_ix: new_ix,\r\n            };\r\n        });\r\n\r\n        if (list.length - 2 === new_ix) {\r\n            getData(next_id);\r\n        }\r\n    };\r\n\r\n    const callbackTouchMove = (per_y_change = 0) => {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            temp_ix:\r\n                state_obj.ix +\r\n                (per_y_change >= 0.5 ? 1 : per_y_change <= -0.5 ? -1 : 0),\r\n        }));\r\n    };\r\n\r\n    //\r\n    const handleAction = (icon_name = \"\") => {\r\n        console.log(icon_name);\r\n    };\r\n\r\n    // ---\r\n\r\n    if (!has_fetched) {\r\n        return null;\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"ShortVideoFullPgMb\">\r\n            <SwipeYFull\r\n                handleChangeIx={handleChangeIx}\r\n                callbackTouchMove={callbackTouchMove}\r\n            >\r\n                <React.Fragment>\r\n                    {list.map((item, item_ix) => (\r\n                        <div className=\"SwipeYFull_item\" key={item.id}>\r\n                            <VirtualScroll>\r\n                                <ShortVideoFullMb\r\n                                    video={item.video}\r\n                                    paused={item_ix !== temp_ix}\r\n                                    interacts={item.interacts}\r\n                                    //\r\n                                    name={item.name}\r\n                                    picture={item.picture}\r\n                                    content={item.content}\r\n                                    link_to={item.link_to}\r\n                                    //\r\n                                    is_fetching={is_fetching}\r\n                                    is_has_next={true}\r\n                                    is_has_prev={ix > 0}\r\n                                    //\r\n                                    handleAction={handleAction}\r\n                                />\r\n                            </VirtualScroll>\r\n                        </div>\r\n                    ))}\r\n                </React.Fragment>\r\n            </SwipeYFull>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShortVideoFullPgMb;\r\n"],"sourceRoot":""}