{"version":3,"sources":["webpack://my_webpack/./src/_hooks/useCount.js","webpack://my_webpack/./src/_params/fashion/FashionParams.js","webpack://my_webpack/./src/_some_function/FormatNum.js","webpack://my_webpack/./src/component/some_div/no_item/NoItemHasFetched.js","webpack://my_webpack/./src/pages/fashion/components/head/_main/FashionH.js","webpack://my_webpack/./src/pages/fashion/components/product_cart_buy/ProductCartBuy.js","webpack://my_webpack/./src/pages/fashion/components/shop_cart_buy/ShopCartBuy.js","webpack://my_webpack/./src/pages/fashion/pages/cart/_main/FashionCart.js","webpack://my_webpack/./src/pages/fashion/pages/cart/cart_head/CartHead.js","webpack://my_webpack/./src/pages/fashion/pages/cart/cart_shop/CartShop.js","webpack://my_webpack/./src/pages/fashion/pages/cart/item/CartItem.js","webpack://my_webpack/./image/image_loading.svg"],"names":["useNewCount","initial_count","initial_min","initial_max","callback","useState","count","setCount","min","useRef","max","value_before","handleSetCount","value","changeMax","new_max","current","changeMin","new_min","handleInitialCount","new_count","countUp","countDown","beforeCountNum","countNum","countNumDone","params_cart","params_buy","checked","params_cancel","params_fashion_search_l","size","formatNum","num","Intl","NumberFormat","format","NoItemHasFetched","has_fetched","no_item","title","propTypes","PropTypes","bool","NoItem","FashionH","props","search","setSearch","Redirect","to","push","className","handled","handleSearchFashion","new_search","trim","ProductCartBuy","product","quantity","children","id","name","vid_pics","new_price","Link","src","vid_pic","alt","width","height","shape","oneOfType","number","string","arrayOf","element","defaultProps","image_loading","ShopCartBuy","picture","API_FashionCart_LC","res","setCartState","carts","data","count_checked","reduce","a","b","count_checked_product","console","log","cart_ix","cart_product_ix","cart_product","products","cur_checked","cart_state","formData","cart_product_model","API_FashionCart_UD","all_checked","count_cart","map","item","is_checked_all","cart_product_id","handleScreenFetching","count_del","i","cart_action","is_del","count_product","dispatch","actionFashionChangeCountCart","mounted","openScreenFloor","useContext","context_api","useSelector","state","count_cart_obj","useDispatch","useMounted","useScreenFetching","handleCount","product_ix","doAPI_handleCount","useEffect","document","getAPI_ActionCart","is_empty_cart","openConfirmDel","openScreenConfirm","notification","handleConfirm","handleDeleteCart","onCheckAll","cart","key","shop","handleCheckItem","is_fetching","CartHead","onClick","type","onChange","func","CartShop","ix","array","object","CartItem","handleWaitingLastAction","useWaitingLastAction","time_waiting","total","onFocus","e","target","onBlur"],"mappings":"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","file":"static/js/8761.js","sourcesContent":["import { useRef, useState } from 'react';\r\n\r\n//\r\nexport const useNewCount = (\r\n    initial_count,\r\n    initial_min,\r\n    initial_max,\r\n    callback = () => {}\r\n) => {\r\n    // state\r\n    const [count, setCount] = useState(initial_count);\r\n\r\n    // ref\r\n    const min = useRef(initial_min);\r\n    const max = useRef(initial_max);\r\n    const value_before = useRef(count);\r\n\r\n    /* ---------------- COMMON FUNC ------------------ */\r\n    //\r\n    function handleSetCount(value) {\r\n        setCount(value);\r\n        callback && callback(value);\r\n    }\r\n\r\n    //\r\n    function changeMax(new_max) {\r\n        max.current = new_max;\r\n        if (new_max < count) {\r\n            handleSetCount(new_max);\r\n        }\r\n    }\r\n\r\n    //\r\n    function changeMin(new_min) {\r\n        min.current = new_min;\r\n        if (new_min > count) {\r\n            handleSetCount(new_min);\r\n        }\r\n    }\r\n\r\n    // \r\n    function handleInitialCount(new_max, new_min, new_count) {\r\n        max.current = new_max\r\n        min.current = new_min\r\n        handleSetCount(new_count)\r\n    }\r\n\r\n    /* ---------------- COUNT ------------------ */\r\n\r\n    //\r\n    function countUp() {\r\n        if (count < max.current) {\r\n            handleSetCount(+count + 1);\r\n        }\r\n    }\r\n\r\n    //\r\n    function countDown() {\r\n        if (count > min.current) {\r\n            handleSetCount(count - 1);\r\n        }\r\n    }\r\n\r\n    //\r\n    function beforeCountNum(value) {\r\n        value_before.current = value;\r\n    }\r\n\r\n    //\r\n    function countNum(value) {\r\n        if ((value >= min.current && value <= max.current) || value == '') {\r\n            setCount(value);\r\n        }\r\n    }\r\n\r\n    //\r\n    function countNumDone(value) {\r\n        if (value_before.current == value) {\r\n            return;\r\n        }\r\n\r\n        if (value < min.current) {\r\n            handleSetCount(min.current);\r\n        }\r\n        //\r\n        else if (value > max.current) {\r\n            handleSetCount(max.current);\r\n        }\r\n        //\r\n        else {\r\n            handleSetCount(+value);\r\n        }\r\n    }\r\n\r\n    //\r\n    return {\r\n        count,\r\n        countUp,\r\n        countDown,\r\n        beforeCountNum,\r\n        countNum,\r\n        countNumDone,\r\n        changeMax,\r\n        changeMin,\r\n        handleInitialCount,\r\n    };\r\n};\r\n","// \r\nconst size = 10\r\n\r\n//\r\nexport const params_cart = {\r\n    \r\n}\r\n\r\n//\r\nexport const params_buy = {\r\n    checked: 1,\r\n}\r\n\r\n//\r\nexport const params_cancel = {\r\n    \r\n}\r\n\r\n// \r\nexport const params_fashion_search_l = {\r\n    size: 30,\r\n}\r\n\r\n\r\n","// \r\nexport const formatNum = (num) => {\r\n    return new Intl.NumberFormat('en').format(num);\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport NoItem from './NoItem';\r\n\r\n//\r\nNoItemHasFetched.propTypes = {\r\n    has_fetched: PropTypes.bool,\r\n    no_item: PropTypes.bool,\r\n    title: NoItem.propTypes.title\r\n};\r\n\r\n\r\n//\r\nfunction NoItemHasFetched({ has_fetched, no_item, title }) {\r\n    return <NoItem no_item={has_fetched && no_item} title={title} />;\r\n}\r\n\r\nexport default NoItemHasFetched;\r\n","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n// \r\nimport FashionHCommon from '../__main_common/FashionHCommon';\r\n\r\n//\r\nFashionH.propTypes = {\r\n};\r\n\r\n//\r\nfunction FashionH(props) {\r\n    // \r\n    const [search, setSearch] = useState('');\r\n    \r\n    //\r\n    function handleSearchFashion(new_search){\r\n        new_search.trim() && setSearch(new_search)\r\n    }\r\n\r\n    //\r\n    if (search) {\r\n        return <Redirect to={`/fashion/search?q=${search}`} push />;\r\n    }\r\n    //\r\n    return (\r\n        <div className=\"FashionH\">\r\n            <FashionHCommon\r\n                handled={false}\r\n                handleSearchFashion={handleSearchFashion}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FashionH;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n//\r\nimport { formatNum } from '../../../../_some_function/FormatNum';\r\n//\r\nimport image_loading from '../../../../../image/image_loading.svg';\r\nimport './ProductCartBuy.scss';\r\nimport './ProductCartBuyRes.scss';\r\n\r\n//\r\nProductCartBuy.propTypes = {\r\n    product: PropTypes.shape({\r\n        id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n        name: PropTypes.string,\r\n        vid_pics: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                vid_pic: PropTypes.string,\r\n            })\r\n        ),\r\n        new_price: PropTypes.number,\r\n    }),\r\n    quantity: PropTypes.number,\r\n    children: PropTypes.element,\r\n};\r\n\r\nProductCartBuy.defaultProps = {\r\n    product: {\r\n        id: 0,\r\n        name: '',\r\n        vid_pics: [\r\n            {\r\n                vid_pic: image_loading,\r\n            },\r\n        ],\r\n        new_price: 0,\r\n    },\r\n    quantity: 0,\r\n    children: <div></div>,\r\n};\r\n\r\n//\r\nfunction ProductCartBuy({ product, quantity, children }) {\r\n    //\r\n    const { id, name, vid_pics, new_price } = product;\r\n\r\n    //\r\n    return (\r\n        <div className=\"ProductCartBuy\">\r\n            <div className=\"ProductCartBuy_row display-flex-center\">\r\n                <div className=\"ProductCartBuy_product display-flex\">\r\n                    <Link\r\n                        className={id <= 0 ? 'pointer-events-none' : ''}\r\n                        to={`/fashion:${id}`}\r\n                        title={product.name}\r\n                    >\r\n                        <div className=\"display-flex align-items-center\">\r\n                            <div>\r\n                                <img\r\n                                    src={vid_pics[0].vid_pic}\r\n                                    alt=\"\"\r\n                                    width=\"50\"\r\n                                    height=\"50\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"ProductCartBuy_product-name\">\r\n                                {name}\r\n                            </div>\r\n                        </div>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"ProductCartBuy_calculate\">\r\n                    <div className=\"ProductCartBuy_calculate-row display-flex align-items-center\">\r\n                        <div className=\"ProductCartBuy_price\">\r\n                            {formatNum(new_price)}\r\n                        </div>\r\n\r\n                        {children}\r\n\r\n                        <div className=\"ProductCartBuy_total label-field\">\r\n                            {formatNum(new_price * quantity)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductCartBuy;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n//\r\nimport image_loading from '../../../../../image/image_loading.svg';\r\n//\r\nimport './ShopCartBuy.scss';\r\n\r\n//\r\nShopCartBuy.propTypes = {\r\n    id: PropTypes.number,\r\n    name: PropTypes.string,\r\n    picture: PropTypes.string,\r\n};\r\n\r\nShopCartBuy.defaultProps = {\r\n    id: 0,\r\n    name: '',\r\n    picture: image_loading,\r\n};\r\n\r\n//\r\nfunction ShopCartBuy({ id, name, picture }) {\r\n    //\r\n    return (\r\n        <div className=\"ShopCartBuy\">\r\n            <div className=\"display-flex\">\r\n                <Link\r\n                    className=\"ShopCartBuy_link normal-text label-field hv-cl-blue\"\r\n                    to={`/fashion/shop/${id}`}\r\n                >\r\n                    <div className=\"padding-8px\">\r\n                        <div className=\"display-flex align-items-center\">\r\n                            <div className=\"ShopCartBuy__picture brs-50\">\r\n                                <img\r\n                                    src={picture}\r\n                                    alt=\"\"\r\n                                    width=\"40\"\r\n                                    height=\"40\"\r\n                                />\r\n                            </div>\r\n\r\n                            <h3 className=\"margin-0\">{name}</h3>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShopCartBuy;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n//\r\nimport { context_api } from '../../../../../_context/ContextAPI';\r\n//\r\nimport {\r\n    API_FashionCart_LC,\r\n    API_FashionCart_UD,\r\n} from '../../../../../api/api_django/fashion/APIFashionToken';\r\n//\r\nimport { useMounted } from '../../../../../_hooks/useMounted';\r\nimport { useScreenFetching } from '../../../../../_hooks/UseScreenFetching';\r\n//\r\nimport { params_cart } from '../../../../../_params/fashion/FashionParams';\r\n//\r\nimport makeFormData from '../../../../../_some_function/makeFormData';\r\n//\r\nimport { openScreenConfirm } from '../../../../../component/_screen/type/confirm/ScreenConfirm';\r\n// \r\nimport CircleLoading from '../../../../../component/waiting/circle_loading/CircleLoading';\r\nimport NoItemHasFetched from '../../../../../component/some_div/no_item/NoItemHasFetched';\r\n// \r\nimport { actionFashionChangeCountCart } from '../../../../../redux/action/action_count_cart';\r\n\r\nimport FashionH from '../../../components/head/_main/FashionH';\r\n//\r\nimport './FashionCart.scss';\r\n//\r\nimport CartHead from '../cart_head/CartHead';\r\nimport CartShop from '../cart_shop/CartShop';\r\n// \r\nimport './FashionCartRes.scss';\r\n\r\n//\r\nfunction FashionCart(props) {\r\n    //\r\n    const { openScreenFloor } = useContext(context_api);\r\n\r\n    //\r\n    const { count_cart } = useSelector((state) => state.count_cart_obj);\r\n    const dispatch = useDispatch();\r\n\r\n    //\r\n    const [cart_state, setCartState] = useState({\r\n        carts: [],\r\n        count_checked: 0,\r\n        has_fetched: false,\r\n    });\r\n\r\n    const { carts, count_checked, has_fetched } = cart_state;\r\n\r\n    // \r\n    ;\r\n\r\n    //\r\n    const mounted = useMounted();\r\n    const handleScreenFetching = useScreenFetching();\r\n\r\n    //\r\n    useEffect(() => {\r\n        document.title = 'Cart';\r\n        getAPI_ActionCart();\r\n    }, []);\r\n\r\n    /* --------------------- GET API ----------------------- */\r\n\r\n    //\r\n    async function getAPI_ActionCart() {\r\n        try {\r\n            const res = await API_FashionCart_LC('GET', params_cart);\r\n\r\n            setCartState({\r\n                carts: res.data,\r\n                count_checked: res.data.reduce(\r\n                    (a, b) => a + b.count_checked_product,\r\n                    0\r\n                ),\r\n                has_fetched: true,\r\n            });\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    /* --------------------- CHECK --------------------- */\r\n\r\n    //\r\n    async function handleCheckItem(cart_ix, cart_product_ix) {\r\n        const cart_product = carts[cart_ix].products[cart_product_ix];\r\n        const cur_checked = cart_product.checked;\r\n        cart_product.checked = !cur_checked;\r\n\r\n        setCartState({\r\n            ...cart_state,\r\n            count_checked: count_checked + (cur_checked ? -1 : 1),\r\n        });\r\n\r\n        const formData = makeFormData({\r\n            cart_product_model: cart_product.id,\r\n            checked: !cur_checked * 1,\r\n        });\r\n        await API_FashionCart_UD('PUT', formData);\r\n    }\r\n\r\n    //\r\n    async function onCheckAll() {\r\n        const all_checked = count_checked == count_cart;\r\n\r\n        carts.map((item) => {\r\n            item.products.map((product) => {\r\n                product.checked = all_checked ? false : true;\r\n                return product;\r\n            });\r\n            return item;\r\n        });\r\n\r\n        setCartState({\r\n            ...cart_state,\r\n            count_checked: all_checked ? 0 : count_cart,\r\n        });\r\n\r\n        const formData = makeFormData({\r\n            is_checked_all: 1,\r\n            checked: !all_checked * 1,\r\n        });\r\n        await API_FashionCart_UD('PUT', formData);\r\n    }\r\n\r\n    /* --------------------- COUNT --------------------- */\r\n\r\n    // count\r\n    function handleCount(cart_ix, product_ix, value) {\r\n        const cart_product = carts[cart_ix].products[product_ix];\r\n        cart_product.quantity = value;\r\n        //\r\n        doAPI_handleCount(cart_product.id, value);\r\n    }\r\n\r\n    //\r\n    async function doAPI_handleCount(cart_product_id, quantity) {\r\n        const formData = makeFormData({\r\n            cart_product_model: cart_product_id,\r\n            quantity: quantity,\r\n        });\r\n        await API_FashionCart_UD('PUT', formData);\r\n    }\r\n\r\n    /* --------------------- DEL --------------------- */\r\n\r\n    //\r\n    function openConfirmDel() {\r\n        \r\n\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Delete',\r\n            notification: 'Do you want to remove this product from cart?',\r\n            handleConfirm: handleDeleteCart,\r\n        })\r\n        \r\n    }\r\n\r\n    //\r\n    async function handleDeleteCart() {\r\n        await handleScreenFetching(() => API_FashionCart_UD('DELETE'));\r\n\r\n        let count_del = 0;\r\n        //\r\n        for (const cart_action of carts) {\r\n            const { products } = cart_action;\r\n\r\n            for (let i in products) {\r\n                if (products[i].checked) {\r\n                    products[i] = { is_del: true };\r\n                    cart_action.count_product -= 1;\r\n                    count_del++;\r\n                }\r\n            }\r\n        }\r\n\r\n        dispatch(actionFashionChangeCountCart(count_cart - count_del));\r\n\r\n        mounted &&\r\n            setCartState({\r\n                ...cart_state,\r\n                count_checked: 0,\r\n            });\r\n    }\r\n\r\n    //\r\n    const is_empty_cart = carts.reduce((a, b) => a + b.count_product, 0) == 0;\r\n\r\n    //\r\n    return (\r\n        <div className=\"FashionCart\">\r\n            <div>\r\n                <FashionH />\r\n            </div>\r\n\r\n            <h2 className=\"text-secondary App_title\">Cart</h2>\r\n\r\n            <div\r\n                className={`FashionCart_body ${\r\n                    is_empty_cart ? 'display-none' : ''\r\n                }`}\r\n            >\r\n                <CartHead\r\n                    count_checked={count_checked}\r\n                    count_cart={count_cart}\r\n                    openConfirmDel={openConfirmDel}\r\n                    onCheckAll={onCheckAll}\r\n                />\r\n\r\n                <div>\r\n                    {carts.map((cart, cart_ix) => (\r\n                        <div\r\n                            key={`FashionCart_${cart_ix}`}\r\n                            className={`FashionCart_action ${\r\n                                cart.count_product ? '' : 'display-none'\r\n                            }`}\r\n                        >\r\n                            <CartShop\r\n                                cart_ix={cart_ix}\r\n                                products={cart.products}\r\n                                shop={cart.shop}\r\n                                handleCheckItem={handleCheckItem}\r\n                                handleCount={handleCount}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"FashionCart_buy\">\r\n                    <div\r\n                        className={`${\r\n                            count_checked ? '' : 'pointer-events-none opacity-05'\r\n                        }`}\r\n                    >\r\n                        <Link to=\"/fashion/buy\">\r\n                            <button className=\"FashionCart_buy-now btn btn-hv btn-active brs-5px cursor-pointer\">\r\n                                Buy now\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <NoItemHasFetched\r\n                has_fetched={has_fetched}\r\n                no_item={is_empty_cart}\r\n                title={\r\n                    <div className=\"FashionCart_item-title FashionCart_no-product brs-5px box-shadow-1\">\r\n                        LET'S GO SHOPPING\r\n                    </div>\r\n                }\r\n            />\r\n\r\n            <div className=\"width-fit-content margin-auto\">\r\n                <CircleLoading is_fetching={!has_fetched} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FashionCart;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n//\r\nCartHead.propTypes = {\r\n    count_checked: PropTypes.number,\r\n    count_cart: PropTypes.number,\r\n    openConfirmDel: PropTypes.func,\r\n    onCheckAll: PropTypes.func,\r\n};\r\n\r\nfunction CartHead({ count_checked, openConfirmDel, count_cart, onCheckAll }) {\r\n    //\r\n    return (\r\n        <div>\r\n            <div>\r\n                <div\r\n                    className={`FashionCart_del brs-5px ${\r\n                        count_checked ? '' : 'opacity-05'\r\n                    }`}\r\n                    onClick={openConfirmDel}\r\n                >\r\n                    delete\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"FashionCart_item-title box-shadow-1 bg-primary brs-5px\">\r\n                <div className=\"FashionCart_item-title-row display-flex align-items-center label-field\">\r\n                    <div className=\"FashionCart__check\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={count_checked == count_cart}\r\n                            onChange={onCheckAll}\r\n                        />\r\n                    </div>\r\n                    <div className=\"FashionCart__name\">Name</div>\r\n                    <div className=\"FashionCart__calculate\">\r\n                        Quantity and Price\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CartHead;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport ShopCartBuy from '../../../components/shop_cart_buy/ShopCartBuy';\r\n//\r\nimport './CartShop.scss';\r\n//\r\nimport CartItem from '../item/CartItem';\r\n\r\n//\r\nCartShop.propTypes = {\r\n    cart_ix: PropTypes.number,\r\n    products: PropTypes.array,\r\n    shop: PropTypes.object,\r\n    //\r\n    handleCheckItem: PropTypes.func,\r\n    handleCount: PropTypes.func,\r\n};\r\n\r\n//\r\nfunction CartShop({ cart_ix, products, shop, handleCheckItem, handleCount }) {\r\n    //\r\n    return (\r\n        <div className=\"bg-primary box-shadow-1\">\r\n            <ShopCartBuy id={shop.id} name={shop.name} picture={shop.picture} />\r\n\r\n            <div>\r\n                {products.map(\r\n                    (cart_product, ix) =>\r\n                        !cart_product.is_del && (\r\n                            <div\r\n                                key={`FashionCart_product_${ix}`}\r\n                                className=\"FashionCart_item\"\r\n                            >\r\n                                <CartItem\r\n                                    cart_ix={cart_ix}\r\n                                    cart_product={cart_product}\r\n                                    cart_product_ix={ix}\r\n                                    handleCheckItem={handleCheckItem}\r\n                                    handleCount={handleCount}\r\n                                />\r\n                            </div>\r\n                        )\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CartShop;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { useWaitingLastAction } from '../../../../../_hooks/useWaitingLastAction';\r\nimport { useNewCount } from '../../../../../_hooks/useCount';\r\n//\r\nimport ProductCartBuy from '../../../components/product_cart_buy/ProductCartBuy';\r\n//\r\nimport './CartItem.scss';\r\n\r\n//\r\nCartItem.propTypes = {\r\n    cart_product: PropTypes.shape({\r\n        checked: PropTypes.bool,\r\n        quantity: PropTypes.number,\r\n        product: PropTypes.object,\r\n    }),\r\n};\r\n\r\nCartItem.defaultProps = {\r\n    cart_product: {\r\n        checked: false,\r\n        quantity: 0,\r\n        product: {},\r\n    },\r\n};\r\n\r\n//\r\nfunction CartItem({\r\n    cart_ix,\r\n    cart_product,\r\n    cart_product_ix,\r\n    handleCheckItem,\r\n    handleCount,\r\n}) {\r\n    //\r\n    const { product, quantity, checked } = cart_product;\r\n\r\n    //\r\n    const { handleWaitingLastAction } = useWaitingLastAction({\r\n        time_waiting: 500,\r\n        callback: onCount,\r\n    });\r\n\r\n    const {\r\n        count,\r\n        countUp,\r\n        countDown,\r\n        beforeCountNum,\r\n        countNum,\r\n        countNumDone,\r\n    } = useNewCount(quantity, 1, product.total, handleWaitingLastAction);\r\n\r\n    //\r\n    function onCount(value) {\r\n        handleCount(cart_ix, cart_product_ix, value);\r\n    }\r\n\r\n    //\r\n    function onBeforeCountNum(e) {\r\n        beforeCountNum(e.target.value);\r\n    }\r\n\r\n    //\r\n    function onCountNum(e) {\r\n        countNum(e.target.value);\r\n    }\r\n\r\n    //\r\n    function onCountNumDone(e) {\r\n        countNumDone(e.target.value);\r\n    }\r\n\r\n    //\r\n    function onCheckItem() {\r\n        handleCheckItem(cart_ix, cart_product_ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"CartItem padding-8px\">\r\n            <div className=\"CartItem_row-product display-flex align-items-center brs-5px\">\r\n                <div className=\"CartItem_check\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={checked}\r\n                        onChange={onCheckItem}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"CartItem_products\">\r\n                    <ProductCartBuy product={product} quantity={+count}>\r\n                        <div className=\"CartItem_count display-flex align-items-center\">\r\n                            <div onClick={countDown}>-</div>\r\n\r\n                            <div className=\"CartItem__input\">\r\n                                <input\r\n                                    className=\"inner-spin-none\"\r\n                                    type=\"number\"\r\n                                    value={count}\r\n                                    onFocus={onBeforeCountNum}\r\n                                    onChange={onCountNum}\r\n                                    onBlur={onCountNumDone}\r\n                                />\r\n                            </div>\r\n\r\n                            <div onClick={countUp}>+</div>\r\n                        </div>\r\n                    </ProductCartBuy>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CartItem;\r\n","export default __webpack_public_path__ + \"static/images_icons/31deee479af934727e709c9aa5680351.svg\";"],"sourceRoot":""}