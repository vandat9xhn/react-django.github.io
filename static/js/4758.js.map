{"version":3,"sources":["webpack://my_webpack/./src/_default/city/DefaultCity.js","webpack://my_webpack/./src/_handle_api/city/CityHandleAPI.js","webpack://my_webpack/./src/_hooks/useScrollDown.js","webpack://my_webpack/./src/_icons_svg/icon_update/IconUpdate.js","webpack://my_webpack/./src/_params/city/CityParams.js","webpack://my_webpack/./src/_some_function/ParseLocationSearch.js","webpack://my_webpack/./src/_some_function/ScrollDown.js","webpack://my_webpack/./src/api/_common/API_IsLogin.js","webpack://my_webpack/./src/api/api_django_no_token/api01/API01NoToken.js","webpack://my_webpack/./src/component/some_div/search_animate_div/SearchAnimateDiv.js","webpack://my_webpack/./src/pages/city_street/pages/cities/_main/Cities.js","webpack://my_webpack/./src/pages/city_street/pages/cities/actions/action_update/CityUpdate.js","webpack://my_webpack/./src/pages/city_street/pages/cities/actions/history/_main/CityHistories.js","webpack://my_webpack/./src/pages/city_street/pages/cities/actions/history/item/CityHistoryItem.js","webpack://my_webpack/./src/pages/city_street/pages/cities/choices/Choices.js","webpack://my_webpack/./src/pages/city_street/pages/cities/item/_main/CityItem.js","webpack://my_webpack/./src/pages/city_street/pages/cities/item/skeleton/CityItemSkeleton.js","webpack://my_webpack/./src/pages/city_street/pages/cities/search/CitySearch.js"],"names":["city_name_arr","street_name_arr","quote_arr","getRandomCommonCityObj","city","getRandomFromArr","street","quote","bg_color","getRandomNumber","default_city_obj","id","getRandomId","getRandomUser","image","getRandomVidPic","is_user","getRandomBool","count_his","default_city_history_obj","default_city_arr","getDefaultArr","getRandomVidPicOrNull","created_time","default_city_history_arr","search","c_count","API_City_L","params_city_l","q","res","data","city_id","API_CityHistory_L","params_history_city","city_model","initial_data_arr","handle_API_L","Promise","thresh_hold","more_bottom","useScrollDown","data_state","setDataState","handleScroll","getData_API_at_first","resetStopScrollDown","useEffect","window","addEventListener","removeEventListener","elm","useDataShowMore","initial_arr","getData_API","is_max","data_count","pos","useRef","just_fetching","handleWhenFinally","setTimeout","current","pageYOffset","document","body","offsetHeight","innerHeight","scrollTop","scrollHeight","clientHeight","getElementsByTagName","dataset","countHidden","WindowScrollDownBool","ScrollDownBool","start_obj_state","data_arr","count","has_fetched","IconUpdate","props","size_icon","x","y","stroke","width","height","viewBox","d","fill","strokeWidth","strokeLinejoin","strokeLinecap","propTypes","PropTypes","string","number","defaultProps","page","size","ParseLocationSearch","parse","location","posScroll","is_fetching","max_page","API_IsLogin","config","url_token","url_no_token","url","conf_token","conf_no_token","localStorage","is_login","is_api_fake","params","API_FakeReal","API_IsLogin_URL","method","API_City_R","pk","SearchAnimateDiv","value","placeholder","handleChange","handleSearch","useState","is_open","setIsOpen","className","onClick","type","onChange","e","target","onKeyDown","keyCode","preventDefault","func","value_search","useScrollDownWindow","handle_API_City_L","city_obj","cities_arr","title","new_value_search","history","pushState","map","item","key","Link","to","component","CityUpdate","initialValues","handleSubmit","detectHasChange","title_submit","use_has_change","object","CityHistories","histories","ix","formatLocalDateTimeString","Date","bg","city_bg_color_arr","color","CityHistoryItem","src","alt","Choices","openHistory","openUpdate","openDelete","openReport","handleOpenHistory","handleUpdate","handleOpenReport","handleDelete","bool","CityItem","handleScreenFetching","API_City_UD","forceUpdate","closeScreenFloor","is_del","useContext","context_api","openScreenFloor","user","useForceUpdate","useScreenFetching","on_API_History_L","handle_API_CityHistory_L","handleReport","console","log","href","openScreenHistory","handle_API_History_L","HisComponent","openScreenUpdate","UpdateComponent","openScreenConfirm","notification","handleConfirm","CityItemSkeleton","CitySearch","setValue","new_value"],"mappings":"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","file":"static/js/4758.js","sourcesContent":["import { getRandomBool } from '../_common/default_bool';\r\nimport { getRandomId, getRandomNumber } from '../_common/default_id';\r\nimport { getRandomVidPic, getRandomVidPicOrNull } from '../_common/default_image';\r\nimport { getRandomUser } from '../_common/default_user';\r\nimport { getDefaultArr } from '../_common/getDefaultArr';\r\nimport { getRandomFromArr } from '../_common/getRandomFromArr';\r\n\r\n/* ------------------ CITY --------------- */\r\n\r\n//\r\nconst city_name_arr = [\r\n    'Ha Noi',\r\n    'Ha Nam',\r\n    'Nam Dinh',\r\n    'Da Lat',\r\n    'Da Nang',\r\n    'Can Tho',\r\n    'Ho Chi Minh',\r\n];\r\n\r\nconst street_name_arr = [\r\n    'Nguyen Trai',\r\n    'Ha Dong',\r\n    'Nguyen Hue',\r\n    'Tran Khat Tran',\r\n    'Hai Ba Trung',\r\n    'Khuat Duy Tien',\r\n    'Cau Giay',\r\n    'To Huu',\r\n];\r\n\r\n// const bg_color_arr = [\r\n//     'bg-linear-45-success-tear.text-white',\r\n//     'bg-primary.text-primary',\r\n//     'bg-active-fb.text-secondary',\r\n//     'bg-green.color-react',\r\n// ];\r\n\r\nconst quote_arr = [\r\n    'This is a street of Ha Noi',\r\n    'This is a street of Ha Nam',\r\n    'This is a street of Nam Dinh',\r\n    'This is a street of Da Nang',\r\n    'This is a street of Da Lat',\r\n    'This is a street of Can Tho',\r\n    'This is a street of Ho Chi Minh',\r\n];\r\n\r\nconst getRandomCommonCityObj = () => ({\r\n    city: getRandomFromArr(city_name_arr),\r\n    street: getRandomFromArr(street_name_arr),\r\n    quote: getRandomFromArr(quote_arr),\r\n    bg_color: getRandomNumber(0, 3),\r\n});\r\n\r\n//\r\nexport const default_city_obj = () => ({\r\n    id: getRandomId(),\r\n    ...getRandomUser(),\r\n    ...getRandomCommonCityObj(),\r\n    image: getRandomVidPic(),\r\n    is_user: getRandomBool(),\r\n    count_his: 2,\r\n});\r\n\r\nexport const default_city_arr = () => getDefaultArr(default_city_obj, 4, 4);\r\n\r\n//\r\nexport const default_city_history_obj = () => ({\r\n    id: getRandomId(),\r\n    ...getRandomCommonCityObj(),\r\n    image: getRandomVidPicOrNull(),\r\n    created_time: '2021-06-29T06:51:05.370Z',\r\n});\r\n\r\nexport const default_city_history_arr = () =>\r\n    getDefaultArr(default_city_history_obj, 3, 4);\r\n","import {\r\n    API_CityHistory_L,\r\n    API_City_L,\r\n} from '../../api/api_django_no_token/api01/API01NoToken';\r\nimport { params_history_city, params_city_l } from '../../_params/city/CityParams';\r\n\r\n//\r\nexport async function handle_API_City_L(search='', c_count = 0) {\r\n    const res = await API_City_L({\r\n        ...params_city_l,\r\n        q: search,\r\n        c_count: c_count,\r\n    });\r\n\r\n    return res.data\r\n}\r\n\r\n// history\r\nexport async function handle_API_CityHistory_L(city_id, c_count = 0) {\r\n    const res = await API_CityHistory_L({\r\n        ...params_history_city,\r\n        city_model: city_id,\r\n        c_count: c_count,\r\n    });\r\n    return res.data;\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n//\r\nimport { useDataShowMore } from './useDataShowMore';\r\n//\r\nimport {\r\n    ScrollDownBool,\r\n    WindowScrollDownBool,\r\n} from '../_some_function/ScrollDown';\r\n\r\n//\r\nexport const useScrollDown = ({\r\n    elm = window,\r\n    thresh_hold = 1,\r\n    more_bottom = 100,\r\n\r\n    initial_data_arr = [],\r\n    handle_API_L = () => new Promise(),\r\n}) => {\r\n    //\r\n    const { data_state, setDataState, getData_API, is_max, data_count } =\r\n        useDataShowMore({\r\n            initial_arr: initial_data_arr,\r\n            handle_API_L: handle_API_L,\r\n        });\r\n\r\n    //\r\n    const pos = useRef(0);\r\n    const just_fetching = useRef(true);\r\n\r\n    //\r\n    function handleWhenFinally() {\r\n        setTimeout(() => {\r\n            just_fetching.current = false;\r\n        }, 0);\r\n\r\n        if (is_max.current || data_count.current > 0) {\r\n            return;\r\n        }\r\n\r\n        if (elm == window) {\r\n            if (pageYOffset == document.body.offsetHeight - innerHeight) {\r\n                window.scrollTop = pageYOffset - 250;\r\n            }\r\n        } else if (elm.scrollTop == elm.scrollHeight - elm.clientHeight) {\r\n            elm.scrollTop -= 100;\r\n        }\r\n    }\r\n\r\n    /* -------------------- */\r\n\r\n    //\r\n    function handleScroll() {\r\n        if (\r\n            data_count.current == 0 ||\r\n            (elm == window &&\r\n                document.getElementsByTagName('body')[0].dataset.countHidden)\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        if (\r\n            elm == window\r\n                ? WindowScrollDownBool(\r\n                      pos.current,\r\n                      just_fetching.current,\r\n                      is_max.current,\r\n                      thresh_hold,\r\n                      more_bottom\r\n                  )\r\n                : ScrollDownBool(\r\n                      elm,\r\n                      pos.current,\r\n                      just_fetching.current,\r\n                      is_max.current,\r\n                      thresh_hold,\r\n                      more_bottom\r\n                  )\r\n        ) {\r\n            pos.current = elm == window ? window.pageYOffset : elm.scrollTop;\r\n            just_fetching.current = true;\r\n\r\n            getData_API({ handleWhenFinally: handleWhenFinally });\r\n        }\r\n    }\r\n\r\n    //\r\n    function getData_API_at_first() {\r\n        getData_API({\r\n            start_obj_state: {\r\n                data_arr: [],\r\n                count: 0,\r\n                has_fetched: false,\r\n            },\r\n            handleWhenFinally: handleWhenFinally,\r\n        });\r\n    }\r\n\r\n    //\r\n    function resetStopScrollDown() {\r\n        pos.current = 0;\r\n        data_count.current = 0;\r\n    }\r\n\r\n    //\r\n    return {\r\n        data_state,\r\n        setDataState,\r\n\r\n        handleScroll,\r\n        getData_API_at_first,\r\n        resetStopScrollDown,\r\n    };\r\n};\r\n\r\n//\r\nexport function useScrollDownWindow({\r\n    initial_data_arr = [],\r\n    handle_API_L = () => new Promise(),\r\n    thresh_hold = 1,\r\n    more_bottom = 1000,\r\n}) {\r\n    //\r\n    const {\r\n        data_state,\r\n        setDataState,\r\n\r\n        handleScroll,\r\n        getData_API_at_first,\r\n        resetStopScrollDown,\r\n    } = useScrollDown({\r\n        initial_data_arr,\r\n        handle_API_L,\r\n        thresh_hold,\r\n        more_bottom,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', handleScroll);\r\n        };\r\n    }, []);\r\n\r\n    //\r\n    return {\r\n        data_state,\r\n        setDataState,\r\n\r\n        getData_API_at_first,\r\n        resetStopScrollDown,\r\n    };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// \r\n\r\n// \r\nIconUpdate.propTypes = {\r\n    size_icon:PropTypes.string,\r\n    x: PropTypes.number,\r\n    y: PropTypes.number,\r\n    stroke: PropTypes.string,\r\n};\r\n\r\nIconUpdate.defaultProps = {\r\n    size_icon: '1rem',\r\n    x: 0,\r\n    y: 0,\r\n    stroke: 'var(--md-color)'\r\n}\r\n\r\n// \r\nfunction IconUpdate(props) {\r\n    const {size_icon, x, y, stroke} = props;\r\n\r\n    return (\r\n        <svg\r\n            width={size_icon}\r\n            height={size_icon}\r\n            viewBox={`${x} ${y} 200 200`}\r\n        >\r\n            <path\r\n                d=\"M25,75 A65,50 0 0 1 170,75 M185,25 175,75 125,60\r\n                M25,125 A65,50 0 0 0 170,125 M10,175 20,125 70,140\"\r\n                fill=\"none\"\r\n                stroke={stroke}\r\n                strokeWidth=\"20\"\r\n                strokeLinejoin=\"round\"\r\n                strokeLinecap=\"round\"\r\n            />\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default IconUpdate;\r\n","// \r\nconst default_size = 5\r\n\r\n//\r\nexport const params_city_l = {\r\n    page: 1,\r\n    size: default_size,\r\n};\r\n\r\n//\r\nexport const params_history_city = {\r\n    page: 1,\r\n    size: default_size,\r\n};\r\n","import { parse } from 'query-string';\r\n\r\n//\r\nexport const ParseLocationSearch = (key_options = {}) => {\r\n    const parse_str = parse(location.search);\r\n    return parse_str;\r\n};\r\n// location.search\r\n//     ? JSON.parse(\r\n//           decodeURI(location.search)\r\n//               .replace('?', '{\"')\r\n//               .replace(/=/g, '\":\"')\r\n//               .replace(/&/g, '\",\"') + '\"}'\r\n//       )\r\n//     : {};\r\n","//\r\nexport const ScrollDownBool = (\r\n    elm,\r\n    posScroll,\r\n    is_fetching,\r\n    max_page,\r\n    thresh_hold = 0.7,\r\n    more_bottom = 0\r\n) => {\r\n    if (\r\n        is_fetching ||\r\n        max_page ||\r\n        elm.scrollTop <= posScroll ||\r\n        elm.scrollTop <=\r\n            thresh_hold * (elm.scrollHeight - elm.clientHeight) - more_bottom\r\n    ) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n//\r\nexport const WindowScrollDownBool = (\r\n    posScroll = 0,\r\n    is_fetching = true,\r\n    max_page = true,\r\n    thresh_hold = 0.9,\r\n    more_bottom = 0\r\n) => {\r\n    if (\r\n        is_fetching ||\r\n        max_page ||\r\n        pageYOffset <= posScroll ||\r\n        pageYOffset <=\r\n            thresh_hold * (document.body.offsetHeight - innerHeight) -\r\n                more_bottom\r\n    ) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n};\r\n","import axiosDjangoClient from '../api_django/_axios/AxiosDjango';\r\nimport axiosClientNoToken from '../api_django_no_token/_axios/AxiosNoToken';\r\n//\r\nimport { is_api_fake } from '../_ConstAPI';\r\n\r\n//\r\nexport function API_IsLogin(conf_token = {}, conf_no_token = {}) {\r\n    return localStorage.is_login == 1 && !is_api_fake\r\n        ? axiosDjangoClient(conf_token)\r\n        : axiosClientNoToken(conf_no_token);\r\n}\r\n\r\n//\r\nexport function API_IsLogin_URL(\r\n    config = {},\r\n    url_token = '',\r\n    url_no_token = ''\r\n) {\r\n    return API_IsLogin(\r\n        { ...config, url: url_token },\r\n        { ...config, url: url_no_token }\r\n    );\r\n}\r\n","import axiosClientNoToken from '../_axios/AxiosNoToken';\r\n//\r\nimport { API_IsLogin_URL } from '../../_common/API_IsLogin';\r\nimport { API_FakeReal } from '../../_ConstAPI';\r\n//\r\nimport {\r\n    default_city_arr,\r\n    default_city_history_arr,\r\n} from '../../../_default/city/DefaultCity';\r\n\r\n//\r\nexport const API_City_L = (params) =>\r\n    API_FakeReal(\r\n        default_city_arr(),\r\n        () =>\r\n            API_IsLogin_URL(\r\n                {\r\n                    method: 'GET',\r\n                    params: params,\r\n                },\r\n                'api/city/city-l/',\r\n                'api/city/city-no-token-l/'\r\n            ),\r\n        params\r\n    );\r\n\r\n//\r\nexport const API_City_R = (pk, params = {}) =>\r\n    axiosClientNoToken({\r\n        url: '/city/city-r/' + pk + '/',\r\n        method: 'GET',\r\n        params: params,\r\n    });\r\n\r\n//\r\nexport const API_CityHistory_L = (params) =>\r\n    API_FakeReal(\r\n        default_city_history_arr(),\r\n        () =>\r\n            axiosClientNoToken({\r\n                url: '/city/history-l/',\r\n                method: 'GET',\r\n                params: params,\r\n            }),\r\n        params\r\n    );\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsInput from '../../../_icons_svg/Icons_input/IconsInput';\r\nimport IconsArrow from '../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport './SearchAnimateDiv.scss';\r\n\r\n//\r\nSearchAnimateDiv.propTypes = {\r\n    value: PropTypes.string,\r\n    handleChange: PropTypes.func,\r\n    handleSearch: PropTypes.func,\r\n    placeholder: PropTypes.string,\r\n};\r\nSearchAnimateDiv.defaultProps = {\r\n    value: '',\r\n    placeholder: 'Search...',\r\n}\r\n\r\n//\r\nfunction SearchAnimateDiv(props) {\r\n    const { value, placeholder, handleChange, handleSearch } = props;\r\n    //\r\n    const [is_open, setIsOpen] = useState(false);\r\n\r\n    //\r\n    function onClick() {\r\n        if (is_open) {\r\n            handleSearch();\r\n        } else {\r\n            setIsOpen(true);\r\n        }\r\n    }\r\n    //\r\n    function handleClose() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    //\r\n    function onChange(e) {\r\n        handleChange(e.target.value);\r\n    }\r\n    //\r\n    function onKeyDown(e) {\r\n        if (e.keyCode == 13) {\r\n            e.preventDefault();\r\n            handleSearch();\r\n        }\r\n    }\r\n    //\r\n    function handleClear() {\r\n        handleChange('');\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className={`SearchAnimateDiv position-rel ${is_open ? '' : 'SearchAnimateDiv_close'}`}>\r\n            <div className=\"SearchAnimateDiv_key\">\r\n                <div\r\n                    className={`SearchAnimateDiv_key-contain display-flex justify-content-center align-items-center cursor-pointer ${\r\n                        is_open ? 'nav-active' : ''\r\n                    }`}\r\n                    onClick={onClick}\r\n                >\r\n                    <IconsInput y={200} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"SearchAnimateDiv_input\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={value}\r\n                    placeholder={placeholder}\r\n                    onChange={onChange}\r\n                    onKeyDown={onKeyDown}\r\n                />\r\n\r\n                <div\r\n                    className=\"SearchAnimateDiv_input-clear\"\r\n                    onClick={handleClear}\r\n                >\r\n                    <IconsArrow y={400} size_icon=\"0.8rem\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"SearchAnimateDiv_right\">\r\n                <div className=\"SearchAnimateDiv_icon-close display-flex justify-content-center align-items-center\">\r\n                    <div\r\n                        className=\"close-icon-small brs-50 cursor-pointer\"\r\n                        onClick={handleClose}\r\n                    >\r\n                        <IconsArrow y={400} size_icon=\"1rem\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchAnimateDiv;\r\n","import React, { useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\n//\nimport { useScrollDownWindow } from '../../../../../_hooks/useScrollDown';\n//\nimport { ParseLocationSearch } from '../../../../../_some_function/ParseLocationSearch';\n//\nimport FetchingDiv from '../../../../../component/some_div/fetching/FetchingDiv';\nimport ComponentSkeleton from '../../../../../component/skeleton/component_skeleton/ComponentSkeleton';\n//\nimport { handle_API_City_L } from '../../../../../_handle_api/city/CityHandleAPI';\n//\nimport CitySearch from '../search/CitySearch';\nimport CityItem from '../item/_main/CityItem';\nimport CityItemSkeleton from '../item/skeleton/CityItemSkeleton';\n//\nimport './Cities.scss';\nimport './CitiesRes.scss';\n\n//\nfunction Cities() {\n    //\n    const value_search = useRef('');\n\n    //\n    const { data_state: city_obj, getData_API_at_first } = useScrollDownWindow({\n        handle_API_L: (c_count) =>\n            handle_API_City_L(value_search.current, c_count),\n    });\n\n    const { data_arr: cities_arr, is_fetching, has_fetched } = city_obj;\n\n    //\n    useEffect(() => {\n        document.title = 'City';\n        value_search.current = ParseLocationSearch()['city'];\n        getData_API_at_first();\n    }, []);\n\n    /* -------------------- SEARCH ------------------*/\n\n    function handleSearch(new_value_search) {\n        value_search.current = new_value_search;\n        history.pushState('', '', '?city=' + new_value_search);\n\n        getData_API_at_first();\n    }\n\n    //\n    return (\n        <div>\n            <div className={`Cities ${has_fetched ? '' : 'display-none'}`}>\n                <div className=\"Cities_search\">\n                    <CitySearch handleSearch={handleSearch} />\n                </div>\n\n                <div className=\"Cities_contain\">\n                    <div className=\"Cities__cities_arr\">\n                        {cities_arr.map((item) => (\n                            <div\n                                className=\"Cities_item\"\n                                key={`City_${item.id}`}\n                            >\n                                <CityItem\n                                    city_obj={item}\n                                    has_fetched={has_fetched}\n                                />\n                            </div>\n                        ))}\n                    </div>\n\n                    <div className=\"width-fit-content margin-auto\">\n                        <FetchingDiv is_fetching={is_fetching} />\n                    </div>\n                </div>\n\n                {localStorage.is_login == 1 && (\n                    <Link to=\"/new-city\">\n                        <div\n                            className=\"Cities_add-city cursor-pointer hv-opacity\"\n                            title=\"Add new city\"\n                        ></div>\n                    </Link>\n                )}\n            </div>\n\n            <div className={`${has_fetched ? '' : 'Cities_skeleton'}`}>\n                <ComponentSkeleton\n                    component={<CityItemSkeleton />}\n                    has_fetched={has_fetched}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default Cities;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport CityForm from '../../../../component/form_yup/_main/CityForm';\r\n//\r\nimport './CityUpdate.scss';\r\n\r\n//\r\nCityUpdate.propTypes = {\r\n    initialValues: PropTypes.object,\r\n    handleSubmit: PropTypes.func,\r\n    detectHasChange: PropTypes.func,\r\n};\r\n\r\n//\r\nfunction CityUpdate({ initialValues, handleSubmit, detectHasChange }) {\r\n    //\r\n    return (\r\n        <div className=\"CityUpdate\">\r\n            <div>\r\n                <CityForm\r\n                    title_submit=\"Update\"\r\n                    initialValues={initialValues}\r\n                    handleSubmit={handleSubmit}\r\n                    use_has_change={true}\r\n                    detectHasChange={detectHasChange}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CityUpdate;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { formatLocalDateTimeString } from '../../../../../../../_some_function/FormatDate';\r\n// \r\nimport { city_bg_color_arr } from '../../../../../_data/bg_color';\r\n// \r\nimport CityHistoryItem from '../item/CityHistoryItem';\r\n//\r\nimport './CityHistories.scss';\r\n\r\n//\r\nCityHistories.propTypes = {};\r\n\r\n//\r\nfunction CityHistories({ histories, ...rest_props }) {\r\n    //\r\n    return (\r\n        <div className=\"CityHistories\">\r\n            <ul className=\"CityHistories_row\">\r\n                {histories.map((item, ix) => (\r\n                    <li key={`${ix}`} className=\"CityHistories_item\">\r\n                        <div className=\"inline-block\">\r\n                            <div className=\"font-12px font-italic label-field\">\r\n                                Update at{' '}\r\n                                {formatLocalDateTimeString(\r\n                                    new Date(item.created_time)\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <CityHistoryItem\r\n                                city={item.city}\r\n                                street={item.street}\r\n                                quote={item.quote}\r\n                                image={item.image}\r\n                                bg={city_bg_color_arr[item.bg_color].bg}\r\n                                color={city_bg_color_arr[item.bg_color].color}\r\n                                created_time={item.created_time}\r\n                            />\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CityHistories;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n//\r\nCityHistoryItem.propTypes = {};\r\n\r\n//\r\nfunction CityHistoryItem({\r\n    city,\r\n    street,\r\n    quote,\r\n    image,\r\n    bg,\r\n    color,\r\n    created_time,\r\n}) {\r\n    //\r\n    return (\r\n        <div className={`padding-8px ${bg} ${color}`}>\r\n            <div>\r\n                <address>\r\n                    <div className={`${city ? '' : 'display-none'}`}>\r\n                        City: {city}\r\n                    </div>\r\n\r\n                    <div className={`${street ? '' : 'display-none'}`}>\r\n                        Street: {street}\r\n                    </div>\r\n                </address>\r\n\r\n                <article\r\n                    className={`CityHistoryItem_quote ${\r\n                        quote ? '' : 'display-none'\r\n                    }`}\r\n                >\r\n                    Quote: {quote}\r\n                </article>\r\n            </div>\r\n\r\n            <div\r\n                className={`CityHistoryItem_img ${image ? '' : 'display-none'}`}\r\n            >\r\n                <div>\r\n                    <img\r\n                        className=\"object-fit-cover\"\r\n                        src={image}\r\n                        alt=\"\"\r\n                        width=\"200\"\r\n                        height=\"200\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CityHistoryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { is_api_fake } from '../../../../../api/_ConstAPI';\r\n// \r\nimport ActionsNormal from '../../../../../component/actions/_main/ActionsNormal';\r\nimport ActionHistory from '../../../../../component/actions/common_actions/history/ActionHistory';\r\nimport ActionUpdate from '../../../../../component/actions/common_actions/update/ActionUpdate';\r\nimport ActionDelete from '../../../../../component/actions/common_actions/delete/ActionDelete';\r\nimport ActionReport from '../../../../../component/actions/common_actions/report/ActionReport';\r\n//\r\nimport './Choices.scss';\r\n\r\n//\r\nChoices.propTypes = {\r\n    count_his: PropTypes.number,\r\n    is_user: PropTypes.bool,\r\n};\r\n\r\nChoices.defaultProps = {};\r\n\r\n//\r\nfunction Choices({\r\n    is_user,\r\n    count_his,\r\n\r\n    openHistory,\r\n    openUpdate,\r\n    openDelete,\r\n    openReport,\r\n}) {\r\n    \r\n    //\r\n    return (\r\n        <ActionsNormal>\r\n            <ul className=\"Choices_list list-none\">\r\n                <li className={`${count_his || is_api_fake ? '' : 'display-none'}`}>\r\n                    <ActionHistory handleOpenHistory={openHistory} />\r\n                </li>\r\n\r\n                <li\r\n                    className={`${\r\n                        is_user || is_api_fake ? '' : 'display-none'\r\n                    }`}\r\n                >\r\n                    <ActionUpdate handleUpdate={openUpdate} />\r\n                </li>\r\n\r\n                <li\r\n                    className={`${\r\n                        !is_user || is_api_fake ? '' : 'display-none'\r\n                    }`}\r\n                >\r\n                    <ActionReport handleOpenReport={openReport} />\r\n                </li>\r\n\r\n                <li\r\n                    className={`${\r\n                        is_user || is_api_fake ? '' : 'display-none'\r\n                    }`}\r\n                >\r\n                    <ActionDelete handleDelete={openDelete} />\r\n                </li>\r\n            </ul>\r\n        </ActionsNormal>\r\n    );\r\n}\r\n\r\nexport default Choices;\r\n","import React, { useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../../_context/ContextAPI';\r\n//\r\nimport { API_City_UD } from '../../../../../../api/api_django/api01/API01';\r\n//\r\nimport makeFormData from '../../../../../../_some_function/makeFormData';\r\n//\r\nimport { handle_API_CityHistory_L } from '../../../../../../_handle_api/city/CityHandleAPI';\r\n//\r\nimport { useScreenFetching } from '../../../../../../_hooks/UseScreenFetching';\r\nimport { useForceUpdate } from '../../../../../../_hooks/UseForceUpdate';\r\n//\r\nimport { openScreenConfirm } from '../../../../../../component/_screen/type/confirm/ScreenConfirm';\r\nimport { openScreenHistory } from '../../../../../../component/_screen/type/history/ScreenHistory';\r\nimport { openScreenUpdate } from '../../../../../../component/_screen/type/update/_main/ScreenUpdate';\r\n//\r\nimport PictureName from '../../../../../../component/picture_name/pic_name/PictureName';\r\nimport VirtualScroll from '../../../../../../component/virtual_scroll/VirtualScroll';\r\n//\r\n//\r\nimport { city_bg_color_arr } from '../../../../_data/bg_color';\r\n// \r\nimport Choices from '../../choices/Choices';\r\nimport CityUpdate from '../../actions/action_update/CityUpdate';\r\nimport CityHistories from '../../actions/history/_main/CityHistories';\r\n//\r\nimport './CityItem.scss';\r\n\r\n//\r\nCityItem.propTypes = {\r\n    city_obj: PropTypes.object,\r\n    has_fetched: PropTypes.bool,\r\n};\r\n\r\n//\r\nfunction CityItem({ city_obj }) {\r\n    //\r\n    const { openScreenFloor, closeScreenFloor } = useContext(context_api);\r\n\r\n    //\r\n    const {\r\n        id,\r\n        user,\r\n        city,\r\n        street,\r\n        bg_color,\r\n        quote,\r\n        image,\r\n        count_his,\r\n\r\n        is_user,\r\n        is_del,\r\n    } = city_obj;\r\n\r\n    const {bg, color} = city_bg_color_arr[bg_color]\r\n\r\n    //\r\n    const forceUpdate = useForceUpdate();\r\n\r\n    const handleScreenFetching = useScreenFetching();\r\n\r\n    /* ------------- OPEN ACTIONS ------------- */\r\n\r\n    //\r\n    function openHistory() {\r\n        openScreenHistory({\r\n            openScreenFloor: openScreenFloor,\r\n\r\n            title: 'History',\r\n            handle_API_History_L: on_API_History_L,\r\n            HisComponent: CityHistories,\r\n        });\r\n    }\r\n    //\r\n    function openUpdate() {\r\n        openScreenUpdate({\r\n            openScreenFloor: openScreenFloor,\r\n\r\n            title: 'Update',\r\n            UpdateComponent: CityUpdate,\r\n            initialValues: {\r\n                city: city,\r\n                street: street,\r\n                image: image,\r\n                quote: quote,\r\n                bg_color: bg_color,\r\n            },\r\n            handleSubmit: handleUpdate,\r\n        });\r\n    }\r\n\r\n    //\r\n    function openDelete() {\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Delete',\r\n            notification: 'Do you really want to delete this city?',\r\n            handleConfirm: handleDelete,\r\n        });\r\n    }\r\n\r\n    //\r\n    function openReport() {\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Report',\r\n            notification: 'Do you want to report this city?',\r\n            handleConfirm: handleReport,\r\n        });\r\n    }\r\n\r\n    /* --------------- ON HANDLE ACTIONS ---------------- */\r\n\r\n    //\r\n    function on_API_History_L(c_count) {\r\n        return handle_API_CityHistory_L(id, c_count);\r\n    }\r\n\r\n    //\r\n    async function handleUpdate(data = {}) {\r\n        //\r\n        await handleScreenFetching(() =>\r\n            API_City_UD(id, 'PATCH', makeFormData(data))\r\n        );\r\n\r\n        city_obj.city = data.city;\r\n        city_obj.street = data.street;\r\n        data.image && (city_obj.image = data.image);\r\n        city_obj.quote = data.quote;\r\n        city_obj.bg_color = data.bg_color;\r\n\r\n        forceUpdate();\r\n        closeScreenFloor();\r\n    }\r\n\r\n    //\r\n    async function handleDelete() {\r\n        await API_City_UD(id, 'DELETE');\r\n        city_obj.is_del = true;\r\n        forceUpdate();\r\n    }\r\n\r\n    //\r\n    function handleReport() {\r\n        //  Do something\r\n        console.log('Report: ' + id);\r\n    }\r\n\r\n    //\r\n    return (\r\n        !is_del && (\r\n            <VirtualScroll>\r\n                <div\r\n                    className={`CityItem brs-5px-md box-shadow-1 ${bg} ${color}`}\r\n                >\r\n                    <div className=\"CityItem_user\">\r\n                        <PictureName user={user} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <address>\r\n                            <div>City: {city}</div>\r\n\r\n                            <div>Street: {street}</div>\r\n                        </address>\r\n\r\n                        <article className=\"CityItem_quote\">\"{quote}\"</article>\r\n                    </div>\r\n\r\n                    <div className=\"CityItem_img\">\r\n                        <a href={image} target=\"_blank\">\r\n                            <div className=\"CityItem_img-contain bg-loader brs-5px\">\r\n                                <div className=\"display-flex-center h-100per\">\r\n                                    <img src={image} alt=\"\" />\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className=\"CityItem_choices\">\r\n                        <Choices\r\n                            is_user={is_user}\r\n                            count_his={count_his}\r\n                            //\r\n                            openHistory={openHistory}\r\n                            openUpdate={openUpdate}\r\n                            openDelete={openDelete}\r\n                            openReport={openReport}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </VirtualScroll>\r\n        )\r\n    );\r\n}\r\n\r\nexport default CityItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport './CityItemSkeleton.scss';\r\n\r\n//\r\nCityItemSkeleton.propTypes = {};\r\n\r\n//\r\nfunction CityItemSkeleton() {\r\n    //\r\n    return (\r\n        <div className=\"CityItemSkeleton brs-5px-md bg-primary bax-shadow-1\"></div>\r\n    );\r\n}\r\n\r\nexport default CityItemSkeleton;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport SearchAnimateDiv from '../../../../../component/some_div/search_animate_div/SearchAnimateDiv';\r\n// \r\nimport './CitySearch.scss';\r\n\r\n//\r\nCitySearch.propTypes = {\r\n    handleSearch: PropTypes.func,\r\n};\r\n\r\n//\r\nfunction CitySearch(props) {\r\n    const { handleSearch } = props;\r\n    //\r\n    const [value, setValue] = useState('');\r\n\r\n    //\r\n    function handleChange(new_value) {\r\n        setValue(new_value);\r\n    }\r\n    //\r\n    function onSearch() {\r\n        handleSearch(value);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"CitySearch\">\r\n            <div>\r\n                <SearchAnimateDiv\r\n                    value={value}\r\n                    placeholder=\"City...\"\r\n                    handleChange={handleChange}\r\n                    handleSearch={onSearch}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CitySearch;\r\n"],"sourceRoot":""}