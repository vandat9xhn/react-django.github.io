(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[4122],{23337:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(67294)),r=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.size_icon,n=e.x,r=e.y,l=e.color,i=e.is_editing;return a.default.createElement("svg",{className:"IconsEdit size-icon",width:t,height:t,viewBox:n+" "+r+" 200 200"},a.default.createElement("path",{d:"M0,200 L15,160 L175,0 L200,25 L40,185 Z",fill:l}),a.default.createElement("g",{stroke:"whiteSmoke",strokeWidth:"15"},a.default.createElement("line",{x1:"150",y1:"25",x2:"175",y2:"50"}),a.default.createElement("line",{x1:"20",y1:"155",x2:"45",y2:"180"})),a.default.createElement("g",{className:i?"EditIcons_active":"display-none",fill:"var(--md-color)"},a.default.createElement("circle",{cx:"80",cy:"190",r:"10"}),a.default.createElement("circle",{cx:"130",cy:"190",r:"10"}),a.default.createElement("circle",{cx:"180",cy:"190",r:"10"})))}n(91242),i.propTypes={x:r.default.number,y:r.default.number,size_icon:r.default.string,color:r.default.string,is_editing:r.default.bool},i.defaultProps={x:0,y:0,size_icon:"1.5rem",color:"var(--blue)",is_editing:!1},t.default=i},6043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(67294)),r=o(n(45697)),l=n(27720),i=o(n(48474));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.current_permission,n=e.handleOpenPermission,r=e.title;return a.default.createElement("div",{className:"action-item",onClick:n,title:"Permission"},a.default.createElement(i.default,{ComponentLeft:l.IconsPermission[t].Icon,ComponentRight:a.default.createElement("div",null,r)}))}s.propTypes={current_permission:r.default.number,title:r.default.string,handleOpenPermission:r.default.func},s.defaultProps={current_permission:0,title:"Permission"},t.default=s},19387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCreateNewPost=function(e,t){return{id:11,user:{id:1,picture:a.default_login.picture,first_name:a.default_login.first_name,last_name:a.default_login.last_name,is_online:!0},content_obj:{has_more_content:!1,content:e},vid_pics:t.map((function(e){return{id:6,content_obj:{has_more_content:!1,content:e.content},likes:[],arr_unique_like:[],count_like:0,vid_pic:e.vid_pic,folder_picture:"my folder picture",post_model:11,comments:[],count_comment:0,histories:[],created_time:(new Date).toString(),updated_time:(new Date).toString()}})),count_vid_pic:1,likes:[],count_like:0,user_type_like:-1,shares:[],count_share:0,count_unique_share:0,count_user_shared:0,comments:[],count_comment:0,histories:[],count_history:0,created_time:(new Date).toString(),permission_post:0,updated_time:(new Date).toString(),profile_model:1}};var a=n(7572)},40845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(67294),l=C(r),i=C(n(45697)),o=n(15130),s=n(82403),u=n(21092),c=C(n(8119)),d=C(n(20358)),f=n(38828),_=n(76885),m=C(n(70657)),p=C(n(72021)),h=C(n(17884)),v=C(n(52442)),P=C(n(44840)),y=C(n(81555)),E=C(n(21624)),g=C(n(75532));function C(e){return e&&e.__esModule?e:{default:e}}function x(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,l){try{var i=t[r](l),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(o)}("next")}))}}function N(e){var t,n,i,C,N,w=(t=b(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q((function(){return(0,_.handle_API_PostUpdate_R)(J)}));case 2:t=e.sent,n=t.vid_pics.map((function(e){return{id:e.id,content:e.content,vid_pic:e.vid_pic,type:e.vid_pic.endsWith("./mp4")?"video":"image"}})),T("Update",m.default,{main_content:t.content,vid_pics:n,title_action:"Update",handleCheckHasChange:D,handleCUPost:I});case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)}),I=(n=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q((function(){return(0,_.handle_API_Post_U)(J,t)}));case 2:e.sent,G.content=t.main_content,G.has_more_content=!1,S.vid_pics=t.c_vid_pics,z(),V(!0),console.log(t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)}),A=(i=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q((function(){return(0,_.handle_API_Post_D)(J)}));case 2:S.is_del=!0,z();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),k=(C=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q((function(){return(0,_.handle_API_Permission_U)(J,t)}));case 2:S.permission_post=t,z();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)}),M=(N=b(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le.length||!ie){e.next=12;break}return pe(!0),e.next=4,B(J);case 4:t=e.sent,n=a(t,1),r=n[0],le.push.apply(le,x(r)),pe(!1),ye(),e.next=13;break;case 12:ye();case 13:case"end":return e.stop()}}),e,this)}))),function(){return N.apply(this,arguments)}),S=e.post,U=e.post_ix,H=e.enabled_share,L=(0,r.useContext)(o.context_api),O=L.user,R=L.openScreenConfirm,j=L.openScreenHistory,T=L.openScreenUpdate,F=L.openScreenPermission,D=L.hasChangeScreenUpdate,V=L.closeScreenUpdate,B=(0,r.useContext)(f.context_post).handle_API_Cmt_L,z=(0,s.useForceUpdate)(),q=(0,u.useScreenFetching)(),W=S.is_del,J=S.id,Y=S.user,Z=S.vid_pics,G=S.content_obj,K=S.permission_post,Q=S.updated_time,X=S.likes,$=S.count_like,ee=S.user_type_like,te=S.shares,ne=S.count_share,ae=S.count_unique_share,re=S.count_user_shared,le=S.comments,ie=S.count_comment,oe=O.id==Y.id,se=(0,r.useState)(!1),ue=a(se,2),ce=ue[0],de=ue[1],fe=(0,r.useState)(!1),_e=a(fe,2),me=_e[0],pe=_e[1],he=(0,r.useRef)(null);function ve(e){return(0,_.handle_API_History_L)(J,e)}function Pe(){console.log("Report: "+J)}function ye(){O.id&&(!ce&&de(!0),setTimeout((function(){he.current.querySelector(".Comments_input-contain textarea.CommentInput_textarea").focus()}),1))}return!W&&l.default.createElement("div",{className:"Post box-shadow-1 brs-5px"},l.default.createElement("div",{className:"Post_head position-rel"},l.default.createElement("div",{className:"Post__user"},l.default.createElement(c.default,{user:Y,content:l.default.createElement(h.default,{permission_post:+K,updated_time:Q})})),l.default.createElement("div",{className:"Post__actions"},l.default.createElement(P.default,{is_poster:oe,openHistoryPost:function(){j("History",ve,g.default,{handle_API_MoreContent:_.handle_API_ContentMoreHistory_R})},openUpdatePost:w,openDeletePost:function(){R("Delete","Do you really want to delete this post?",A)},openReportPost:function(){R("Report","Do you want to report this post?",Pe)},openPermissionPost:function(){F(K,k)}}))),l.default.createElement("div",{className:"Post_content"},l.default.createElement("div",{className:"Post__text"},l.default.createElement(d.default,{content_obj:G,seeMoreContent:function(){return(0,_.handle_API_MoreContent_R)(J)}})),l.default.createElement("div",{className:"Post__pic"},l.default.createElement(p.default,{post_ix:U,vid_pics:Z}))),l.default.createElement("div",{className:"Post_Info"},l.default.createElement(v.default,{parent_id:J,count_comment:ie,likes:X,count_like:$,user_type_like:ee,enabled_share:H,shares:te,count_share:ne,count_unique_share:ae,handleClickBtnCmt:M})),l.default.createElement("div",{className:"Post_btn"},l.default.createElement(E.default,{parent_id:J,enabled_like:!0,user_type_like:ee,enabled_cmt:!0,count_comment:ie,enabled_share:!0,count_share:ne,count_user_shared:re,handleClickBtnCmt:M})),l.default.createElement("div",{ref:he,className:"Post_comment"},l.default.createElement(y.default,{is_poster:oe,parent_id:J,comments:le,count_comment:ie,open_input:ce,fetching_first_cmt:me})))}n(62900),N.propTypes={post:i.default.object},t.default=N},44840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(67294)),r=(d(n(45697)),n(50918)),l=d(n(16982)),i=d(n(58629)),o=d(n(87782)),s=d(n(4787)),u=d(n(64903)),c=d(n(6043));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.is_poster,n=e.openHistoryPost,d=e.openUpdatePost,f=e.openDeletePost,_=e.openReportPost,m=e.openPermissionPost;return a.default.createElement("div",{className:"ActionsPost"},a.default.createElement(l.default,null,a.default.createElement("ul",{className:"ActionsPost__list"},a.default.createElement("li",null,a.default.createElement(i.default,{handleOpenHistory:n})),a.default.createElement("li",{className:t||r.is_api_fake?"":"display-none"},a.default.createElement(o.default,{handleUpdate:d})),a.default.createElement("li",{className:t||r.is_api_fake?"":"display-none"},a.default.createElement(c.default,{handleOpenPermission:m})),a.default.createElement("li",{className:!t||r.is_api_fake?"":"display-none"},a.default.createElement(u.default,{handleOpenReport:_})),a.default.createElement("li",{className:t||r.is_api_fake?"":"display-none"},a.default.createElement(s.default,{handleDelete:f})))))}n(47763),f.propTypes={},t.default=f},75532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(67294)),r=(l(n(45697)),l(n(76369)));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.histories,n=e.handle_API_MoreContent;return a.default.createElement("div",null,a.default.createElement("ul",{className:"PostHistory_list ScreenBlur_list"},t.map((function(e,t){return a.default.createElement("li",{className:"PostHistory_item ScreenBlur_item",key:"PostHistory_item_"+t},a.default.createElement(r.default,{his_item:e,handle_API_MoreContent:n}))}))))}i.propTypes={},t.default=i},76369:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(67294)),r=(o(n(45697)),n(47442)),l=o(n(20358));n(48024);var i=n(32006);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t,n,o=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function a(r,l){try{var i=e[r](l),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(o)}("next")}))},function(){return n.apply(this,arguments)}),s=e.his_item,u=e.handle_API_MoreContent,c=s.id,d=s.created_time,f=s.content_obj,_=s.vid_pics_create,m=s.vid_pics_del,p=s.count_vid_pic_create,h=s.count_vid_pic_del,v=f.content;return a.default.createElement("div",{className:"PostHistoryItem"},a.default.createElement("div",null,a.default.createElement("div",{className:"PostHistoryItem_time ScreenBlurItem_time"},"Updated at"," ",(0,r.formatLocalDateTimeString)(new Date(d))),a.default.createElement("div",{className:v?"":"display-none"},a.default.createElement(l.default,{content_obj:f,seeMoreContent:o})),a.default.createElement("div",{className:p?"":"display-none"},a.default.createElement("div",null,a.default.createElement("div",{className:"PostHistoryItem__title-pic font-italic"},"Created ",p," videos / pictures:"),a.default.createElement("div",{className:"PostHistoryItem__pic"},a.default.createElement("div",{className:"display-flex"},_.map((function(e,t){return a.default.createElement("div",{key:"PostHistoryItem_pic_create_"+t},(0,i.VideoOrImage)(e.vid_pic))})))))),a.default.createElement("div",{className:h?"":"display-none"},a.default.createElement("div",null,a.default.createElement("div",{className:"PostHistoryItem__title-pic font-italic"},"Deleted ",h," videos / pictures:"),a.default.createElement("div",{className:"PostHistoryItem__pic"},a.default.createElement("div",{className:"display-flex"},m.map((function(e,t){return a.default.createElement("div",{key:"PostHistoryItem_pic_del_"+t},(0,i.VideoOrImage)(e.vid_pic))}))))))))}s.propTypes={},t.default=s},48546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(67294)),r=(l(n(45697)),l(n(29875)));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){return a.default.createElement("div",{className:"Post"},a.default.createElement("div",{className:"padding-8px"},a.default.createElement("div",{className:"display-flex"},a.default.createElement("div",{className:"PictureNameCommon__pic brs-50"}),a.default.createElement("div",{className:"PostSkeleton_name"},a.default.createElement(r.default,null)))),a.default.createElement("div",{className:"VidPics_count"}))}i.propTypes={},t.default=i},72021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(67294)),r=o(n(45697)),l=o(n(97817)),i=o(n(88943));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.post_ix,n=e.vid_pics;return a.default.createElement("div",{className:"VidPicsPost"},n?a.default.createElement("div",{className:n.length>0?"VidPics_count":""},n.map((function(e,r){return a.default.createElement(i.default,{key:"VidPicsPost_"+r,index:r,post_ix:t,count_vid_pic:n.length,id:e.id,vid_pic:e.vid_pic})}))):a.default.createElement("img",{src:l.default,alt:""}))}s.propTypes={vid_pics:r.default.array},s.defaultProps={vid_pics:[1]},t.default=s},88943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67294),r=s(a),l=n(93191),i=(s(n(45697)),n(32006)),o=n(38828);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.count_vid_pic,n=e.index,s=e.post_ix,u=e.id,c=e.vid_pic,d=(0,a.useContext)(o.context_post).zoomVidPicPost;return r.default.createElement("div",{className:"VidPicPostItem VidPics_count_"+(t>4?5:t),"data-length":3==n&&t>4?t-4:void 0},r.default.createElement(l.Link,{to:"/post/photos/"+u,onClick:function(e){e.preventDefault(),d(n,s)}},(0,i.VideoOrImage)(c)))}n(82503),u.propTypes={},t.default=u},14122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67294),r=E(a),l=E(n(45697)),i=n(15130),o=n(50918),s=n(35155),u=n(82403),c=E(n(38828)),d=E(n(40040)),f=E(n(27883)),_=E(n(73715)),m=E(n(46272)),p=n(76885),h=n(19387);n(71530);var v=E(n(40845)),P=E(n(48546)),y=n(21092);function E(e){return e&&e.__esModule?e:{default:e}}function g(e){var t,n,l=(t=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H((function(){return(0,p.handle_API_Post_C)(t)}));case 2:n=(0,h.handleCreateNewPost)(t.main_content,t.c_vid_pics),E.unshift(n),U(),N(!0);case 6:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function a(r,l){try{var i=e[r](l),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(o)}("next")}))},function(e){return n.apply(this,arguments)}),E=e.posts,g=e.has_fetched,C=e.is_fetching,x=e.has_add_new,b=e.title_add_new,N=(0,a.useContext)(i.context_api).closeScreenUpdate,w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)(!1),2),I=w[0],A=w[1],k=(0,a.useRef)(null),M=(0,a.useRef)(-1),S=(0,s.useMounted)(),U=(0,u.useForceUpdate)(),H=(0,y.useScreenFetching)();function L(){S&&A(!1)}return(0,a.useEffect)((function(){return window.addEventListener("popstate",L),k.current=localStorage.is_login&&!o.is_api_fake?new WebSocket(""):null,function(){window.removeEventListener("popstate",L)}}),[]),r.default.createElement("div",{className:"Posts"},r.default.createElement("div",{className:"Posts_contain "+(I?"display-none":"")},x&&r.default.createElement("div",{className:"Posts_new"},r.default.createElement(_.default,{title:b,handleCreatePost:l})),r.default.createElement("div",null,r.default.createElement(c.default,{ws_send:k.current?k.current.send:function(e){console.log(e)},ws_type_post:"post",ws_type_cmt:"cmt",ws_type_sub:"sub",zoomVidPicPost:function(e,t){var n=E[t].vid_pics[e].id;M.current=e,history.pushState("","","/post/photos/"+n),A(!0)},handle_API_Like_L:p.handle_API_Like_L,handle_API_Share_L:p.handle_API_Share_L,handle_API_MoreContentCmt_R:p.handle_API_MoreContentCmt_R,handle_API_Cmt_L:p.handle_API_Cmt_L,handle_API_Cmt_C:p.handle_API_Cmt_C,handle_API_Cmt_U:p.handle_API_Cmt_U,handle_API_LikeCmt_L:p.handle_API_LikeCmt_L,handle_API_HistoryCmt_L:p.handle_API_HistoryCmt_L,handle_API_MoreContentHisCmt_R:p.handle_API_MoreContentHisCmt_R,handle_API_MoreContentSub_R:p.handle_API_MoreContentSub_R,handle_API_Sub_L:p.handle_API_Sub_L,handle_API_Sub_C:p.handle_API_Sub_C,handle_API_Sub_U:p.handle_API_Sub_U,handle_API_LikeSub_L:p.handle_API_LikeSub_L,handle_API_HistorySub_L:p.handle_API_HistorySub_L,handle_API_MoreContentHisSub_R:p.handle_API_MoreContentHisSub_R},E.map((function(e,t){return r.default.createElement(v.default,{key:"Posts_"+e.id,post:e,post_ix:t})})),r.default.createElement(d.default,{has_fetched:g,component:r.default.createElement(P.default,null)}),r.default.createElement("div",{className:"width-fit-content margin-auto"},r.default.createElement(f.default,{is_fetching:C&&g}))))),location.pathname.search("/post/photos/")>=0&&r.default.createElement(m.default,{show_screen_title:!0,closeScreenTitle:function(){M.current=-1,A(!1),history.back()},handleDeleteVidPicPost:function(e){console.log(e,E[M.current].vid_pics)}}))}g.propTypes={posts:l.default.array,has_add_new:l.default.bool,title_add_new:l.default.string,has_fetched:l.default.bool,is_fetching:l.default.bool},g.defaultProps={has_add_new:!0,has_fetched:!1,is_fetching:!1},t.default=g},73715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67294),r=c(a),l=n(93191),i=c(n(45697)),o=n(15130),s=c(n(37279)),u=c(n(70657));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.handleCreatePost,n=e.title,i=(0,a.useContext)(o.context_api),c=i.user,d=i.openScreenUpdate,f=i.hasChangeScreenUpdate;return r.default.createElement("div",{className:"AddNewPost box-shadow-1 brs-5px",onClick:function(){d("Create",u.default,{main_content:"",vid_pics:[],title_action:"Post",handleCheckHasChange:f,handleCUPost:t})}},r.default.createElement("div",{className:"AddNewPost_row"},r.default.createElement("div",{className:"AddNewPost_head"},r.default.createElement("div",{className:"display-flex align-items-center"},r.default.createElement("div",null,r.default.createElement(l.Link,{to:"/profile/"+c.id,onClick:function(e){e.stopPropagation()}},r.default.createElement("img",{className:"brs-50",src:c.picture,alt:"",width:"40",height:"40"}))),r.default.createElement("div",{className:"AddNewPost_head-right bg-fb flex-grow-1"},r.default.createElement("div",{className:"AddNewPost_head-right_title opacity-05"},n)))),r.default.createElement("div",{className:"AddNewPost_foot"},r.default.createElement("div",{className:"AddNewPost_foot-row"},r.default.createElement("div",{className:"AddNewPost_foot-item"},r.default.createElement(s.default,{size_icon:"1rem"}))))))}n(33856),d.propTypes={title:i.default.string,handleCreatePost:i.default.func},d.defaultProps={title:"What 's on your mind?"},t.default=d},70657:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(67294),l=c(r),i=c(n(45697)),o=n(26394),s=c(n(51993)),u=c(n(40259));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e){var t,n,i=(t=regeneratorRuntime.mark((function e(t){var n,r,l,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.files).length){e.next=10;break}return P((function(e){return a({},e,{is_loading:!0})})),e.next=5,(0,o.loadFile)(n);case 5:r=e.sent,l=r.files,i=r.vid_pics,s=i.map((function(e){return e.content="",e.id=0,e})),P((function(e){return a({},e,{created_arr:[].concat(d(g),d(l)),c_vid_pics:[].concat(d(E),d(s)),is_loading:!1})}));case 10:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function a(r,l){try{var i=e[r](l),o=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(o).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(o)}("next")}))},function(e){return n.apply(this,arguments)}),c=e.main_content,f=e.vid_pics,_=e.title_action,m=e.handleCheckHasChange,p=e.handleCUPost,h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)({main_content:c||"",c_vid_pics:JSON.parse(JSON.stringify(f)),created_arr:Array(f.length).fill(""),deleted_arr:[],updated_arr:[],is_loading:!1,open_fix_all:!1}),2),v=h[0],P=h[1],y=v.main_content,E=v.c_vid_pics,g=v.created_arr,C=v.deleted_arr,x=v.updated_arr,b=v.is_loading,N=v.open_fix_all,w=c!=y||!!g.some((function(e){return""!=e}))||!!C.length||!!x.length;return m(w),l.default.createElement("div",{className:"CUPost bg-primary"},l.default.createElement("div",{className:"CUPost_row display-flex "+(N?"CUPost_row-fix":"")},l.default.createElement("div",null,l.default.createElement("div",{className:N?"display-none":""},l.default.createElement(s.default,{main_content:y,vid_pics:E,title_action:_,has_change:w,is_loading:b,showFixAll:function(){E.length&&P((function(e){return a({},e,{open_fix_all:!0})}))},handleChangeMainContent:function(e){var t=e.target.value;P((function(e){return a({},e,{main_content:t})}))},handleChooseFiles:i,handleCUPost:function(){w&&p(v)}}))),l.default.createElement("div",null,l.default.createElement("div",{className:N?"":"display-none"},l.default.createElement(u.default,{open_fix_all:N,vid_pics:E,closeFixAll:function(){P((function(e){return a({},e,{open_fix_all:!1})}))},deleteAnItem:function(e){var t=E[e],n=E.filter((function(t,n){return n!=e}));t.id&&C.push(t.id),P((function(t){return a({},t,{c_vid_pics:n,created_arr:g.filter((function(t,n){return n!=e})),open_fix_all:!!n.length&&N})}))},handleChangeContentVidPic:function(e,t){var n=[].concat(d(E));n[t].content=e;var r=function(e,t){if(!e)return x;if(f.find((function(t){return t.id==e})).content==t)return x.filter((function(t){return t.id!=e}));var n=[].concat(d(x)),a=n.find((function(t){return t.id==e}));return a?a.content=t:n.push({id:e,content:t}),n}(E[t].id,e);P(a({},v,{c_vid_pics:n,updated_arr:r}))}})))))}n(61745),n(77142),f.propTypes={main_content:i.default.string,vid_pics:i.default.arrayOf(i.default.shape({id:i.default.number,vid_pic:i.default.string,content:i.default.string,type:i.default.string})),title_action:i.default.string,handleCheckHasChange:i.default.func,handleCUPost:i.default.func},f.defaultProps={main_content:"",vid_pics:[],handleCheckHasChange:function(){},title_action:"Post"},t.default=f},40259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(67294)),r=(i(n(45697)),i(n(7050))),l=i(n(37930));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.vid_pics,n=e.closeFixAll,i=e.deleteAnItem,o=e.handleChangeContentVidPic;return a.default.createElement("div",null,a.default.createElement("div",{className:"FixAll_close"},a.default.createElement("div",{className:"FixAll_arrowLeft hv-opacity brs-5px",title:"Back",onClick:n},a.default.createElement(l.default,{x:200,y:200}))),a.default.createElement("div",{className:"FixAll_content scroll-thin"},t.map((function(e,t){return e.vid_pic&&a.default.createElement(r.default,{key:"UpdateCreatePostCmt_fix_"+t,ix:t,vid_pic:e.vid_pic,content:e.content,deleteAnItem:i,handleChangeContentVidPic:o})}))))}n(69555),o.propTypes={},t.default=o},7050:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(67294),l=_(r),i=_(n(45697)),o=n(15130),s=n(32006),u=_(n(75763)),c=_(n(23337)),d=_(n(37930)),f=_(n(10797));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.ix,n=e.content,i=e.vid_pic,_=e.deleteAnItem,m=e.handleChangeContentVidPic,p=(0,r.useContext)(o.context_api).openScreenConfirm,h=(0,r.useState)(!!n),v=a(h,2),P=v[0],y=v[1],E=(0,r.useState)(!1),g=a(E,2),C=g[0],x=g[1];function b(){_(t)}return l.default.createElement("div",{className:"FixItem"},l.default.createElement("div",{className:"FixItem_pic margin-auto"},(0,s.VideoOrImage)(i)),l.default.createElement("div",{className:"FixItem_choice"},l.default.createElement("div",{className:"FixItem__tag",title:"Tag your friends"},l.default.createElement(u.default,null)),l.default.createElement("div",{className:"FixItem__add-content",onClick:function(){y(!P)},title:"Add content"},l.default.createElement(c.default,{is_editing:C}))),l.default.createElement("div",{className:"FixItem_content "+(P?"":"display-none")},l.default.createElement(f.default,{text:n,placeholder:"Write something...",textarea_class:"FixItem_content-textarea scroll-thin",onChange:function(e){m(e,t)},handleFocus:function(){x(!0)},handleBlur:function(){x(!1)}})),l.default.createElement("div",{className:"FixItem_delete"},l.default.createElement("div",{className:"FixItem_delete_item close-icon-small brs-50 cursor-pointer hv-opacity",title:"Delete",onClick:function(){p("Delete","Do you really want to delete this?",b)}},l.default.createElement(d.default,{y:400,size_icon:"1rem"}))))}n(64966),m.propTypes={ix:i.default.number,vid_pic:i.default.string,content:i.default.string,handleChangeContentVidPic:i.default.func,deleteAnItem:i.default.func},t.default=m},51993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67294),r=u(a),l=(u(n(45697)),n(15130)),i=u(n(44314)),o=u(n(61208)),s=u(n(51098));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.main_content,n=e.vid_pics,u=e.title_action,c=e.has_change,d=e.is_loading,f=e.showFixAll,_=e.handleChangeMainContent,m=e.handleChooseFiles,p=e.handleCUPost,h=(0,a.useContext)(l.context_api).user;return r.default.createElement("div",null,r.default.createElement("div",{className:"CUPostHome_user"},r.default.createElement(i.default,{user:h})),r.default.createElement("div",null,r.default.createElement(o.default,{main_content:t,urls_preview:n,is_loading:d,showFixAll:f,handleChangeMainContent:_})),r.default.createElement("div",{className:"CUPostHome_footer"},r.default.createElement("div",{className:"CUPostHome_files-tag"},r.default.createElement(s.default,{handleChooseFiles:m})),r.default.createElement("div",null,r.default.createElement("button",{className:"CUPostHome_post w-100per padding-8px brs-5px text-secondary label-field text-align-center "+(c?"bg-blue text-white cursor-pointer":"bg-ccc opacity-5 text-secondary-50per"),disabled:!c,title:u,onClick:p},u))))}n(42898),c.propTypes={},t.default=c},61208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(67294)),r=(i(n(45697)),i(n(23596))),l=i(n(27883));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.main_content,n=e.urls_preview,i=e.is_loading,o=e.showFixAll,s=e.handleChangeMainContent;return a.default.createElement("div",{className:"CUPostHomeContent brs-5px-md scroll-thin"},a.default.createElement("div",{className:"CUPostHomeContent_input"},a.default.createElement("div",{className:"CUPostHomeContent_input-contain brs-5px"},a.default.createElement("textarea",{className:"CUPostHomeContent__textarea scroll-thin",rows:"4",value:t,placeholder:"",onChange:s}))),a.default.createElement("div",{className:"CUPostHomeContent_preview"},a.default.createElement("div",{className:"CUPostHomeContent_preview-contain brs-5px"},a.default.createElement(r.default,{urls:n,vid_pic_count:!0})),a.default.createElement("div",{className:"CUPostHomeContent_loading"},a.default.createElement(l.default,{is_fetching:i})),a.default.createElement("h3",{className:"display-none margin-0 "+(n.length?"CUPostHomeContent__fixAll pos-abs-0 bg-loader brs-5px hv-opacity text-white cursor-pointer":""),onClick:o},"Fix All"),a.default.createElement("div",{className:0==n.length?"CUPostHomeContent__no-pic pos-abs-center w-100per":"display-none"},a.default.createElement("h2",{className:"text-align-center text-secondary label-field"},"No picture, video"))))}n(30788),o.propTypes={},t.default=o},51098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(67294)),r=(o(n(45697)),o(n(37279))),l=o(n(86804)),i=o(n(75763));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.handleChooseFiles;return a.default.createElement("div",{className:"CUPostHomeMoreInput bg-primary brs-5px-md"},a.default.createElement("div",{className:"CUPostHomeMoreInput_row display-flex align-items-center"},a.default.createElement("div",{className:"CUPostHomeContent__files"},a.default.createElement(l.default,{onChange:t,accept:"image/*, video/*",file_multiple:!0,title:"Choose images/videos"},a.default.createElement(r.default,{size_icon:"1.5rem"}))),a.default.createElement("div",{className:"CUPostHomeContent__tag",title:"Tag your friends"},a.default.createElement(i.default,null))))}n(90591),s.propTypes={},t.default=s},52442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(67294),r=_(a),l=_(n(45697)),i=n(15130),o=n(38828),s=n(36289),u=_(n(60717)),c=_(n(13027)),d=_(n(98989)),f=_(n(43603));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.parent_id,n=e.count_comment,l=(e.likes,e.count_like),_=e.user_type_like,m=e.enabled_share,p=(e.shares,e.count_share),h=e.count_unique_share,v=e.handleClickBtnCmt,P=(0,a.useContext)(i.context_api),y=P.openScreenShare,E=P.openScreenLike,g=(0,a.useContext)(o.context_post),C=g.handle_API_Like_L,x=g.handle_API_Share_L;function b(){return x(t,0)}function N(e){return C(t,0,e)}var w=l>1?_>=0?"You and "+(0,s.UnitNumber)(l-1)+" others":""+(0,s.UnitNumber)(l):_>=0?"You":""+(0,s.UnitNumber)(l),I=(0,s.UnitNumber)(p)+(p>1?" shares":" share");return r.default.createElement("div",{className:"Info_contain"},r.default.createElement("div",{className:"Info_row"},r.default.createElement("div",{className:"Info_like"},r.default.createElement(f.default,{title:w,count_like:l,arr_unique_like:[0,1,3],on_API_Like_L:N,onOpenDetailLike:function(e){E(N,e)}})),r.default.createElement("div",{className:"Info_cmt-share"},r.default.createElement("div",null,r.default.createElement(u.default,{count_comment:n,handleClickBtnCmt:v})),m&&r.default.createElement("div",{className:"Info_share "+(p?"":"display-none")},r.default.createElement(c.default,{count:p,title:I,total_people:h,handle_API_L:b,handleOpenScreen:function(){y("Share",b)},LoadingComponent:d.default})))))}n(66290),m.propTypes={enabled_share:l.default.bool},m.defaultProps={enabled_share:!0},t.default=m},60717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(67294));function r(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.count_comment,n=e.handleClickBtnCmt;return a.default.createElement("div",null,a.default.createElement("div",{className:"Info_cmt cursor-pointer "+(t?"":"display-none"),onClick:n},t," comments"))}r(n(45697)),l.propTypes={},t.default=l},17884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(67294)),r=o(n(45697)),l=o(n(45915)),i=o(n(25237));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.permission_post,n=e.updated_time;return a.default.createElement("div",{className:"PermissionPost font-italic"},a.default.createElement("div",{className:"inline-flex align-items-center"},a.default.createElement("span",{className:"PermissionPost_time",title:new Date(n).toLocaleString()},(0,l.default)((new Date).getTime()-new Date(n).getTime())),a.default.createElement("span",{className:"PermissionPost_delimiter"},"*"),a.default.createElement("span",{className:"PermissionPost_permission pointer-events-none"},a.default.createElement(i.default,{permission:t}))))}n(84393),s.propTypes={permission_post:r.default.number,updated_time:r.default.string},s.defaultProps={permission_post:0},t.default=s},25237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(67294)),r=i(n(45697)),l=n(27720);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.permission,n=e.show_title;return a.default.createElement("div",{className:"PermissionDiv padding-8px cursor-pointer hv-bg-blur "+(n?"brs-5px":"brs-50")},a.default.createElement("div",{className:"display-flex align-items-center"},a.default.createElement("div",{className:"PermissionDiv_left display-flex-center"},l.IconsPermission[t].Icon),a.default.createElement("div",{className:n?"PermissionDiv_right":"display-none"},l.IconsPermission[t].title)))}n(28541),o.propTypes={permission:r.default.number,show_title:r.default.bool},o.defaultProps={permission:0,show_title:!1},t.default=o},97817:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"static/images_icons/31deee479af934727e709c9aa5680351.svg"},91242:(e,t,n)=>{"use strict";n.r(t)},62900:(e,t,n)=>{"use strict";n.r(t)},47763:(e,t,n)=>{"use strict";n.r(t)},48024:(e,t,n)=>{"use strict";n.r(t)},82503:(e,t,n)=>{"use strict";n.r(t)},71530:(e,t,n)=>{"use strict";n.r(t)},33856:(e,t,n)=>{"use strict";n.r(t)},61745:(e,t,n)=>{"use strict";n.r(t)},77142:(e,t,n)=>{"use strict";n.r(t)},69555:(e,t,n)=>{"use strict";n.r(t)},64966:(e,t,n)=>{"use strict";n.r(t)},42898:(e,t,n)=>{"use strict";n.r(t)},30788:(e,t,n)=>{"use strict";n.r(t)},90591:(e,t,n)=>{"use strict";n.r(t)},66290:(e,t,n)=>{"use strict";n.r(t)},84393:(e,t,n)=>{"use strict";n.r(t)},28541:(e,t,n)=>{"use strict";n.r(t)}}]);
//# sourceMappingURL=4122.js.map