(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[1387],{69611:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(67294),s=m(r),d=(m(a(45697)),a(15130)),l=a(3087),i=a(65394),c=a(39309),u=(a(87368),m(a(82572))),o=m(a(50687)),f=m(a(42242));function m(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _(e){var t,a,m=(t=regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.handle_API_FsUserInfoBuy_L)({c_count:0});case 2:t=e.sent,(a=t.data)[0].is_default=!0,b(n({},y,{address_arr:a,has_fetched:!0}));case 6:case"end":return e.stop()}}),e,this)})),a=function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function n(r,s){try{var d=e[r](s),l=d.value}catch(e){return void a(e)}if(!d.done)return Promise.resolve(l).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(l)}("next")}))},function(){return a.apply(this,arguments)}),_=(0,r.useContext)(d.context_api),h=_.openScreenFloor,x=_.closeScreenFloor,v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,s=void 0;try{for(var d,l=e[Symbol.iterator]();!(n=(d=l.next()).done)&&(a.push(d.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw s}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)({address_arr:[]||0,has_fetched:!1}),2),y=v[0],b=v[1],E=y.address_arr;function g(e,t){var a={id:t>=0?E[t].id:-1,name:e.user_name,phone:e.phone,address:[e.specific].concat(p(e.address_str_arr)).join(", "),type:e.type,is_default:e.checked_default},r=[].concat(p(E));e.checked_default&&(r.find((function(e){return e.is_default})).is_default=!1),t>=0?r[t]=a:r.push(a),b(n({},y,{address_arr:r})),x()}function A(e){var t=[].concat(p(E));t.find((function(e){return e.is_default})).is_default=!1,t[e].is_default=!0,b(n({},y,{address_arr:t}))}function F(e){var t=E[e],a=t.address.indexOf(",");(0,i.openScreenWithElm)({openScreenFloor:h,elm:s.default.createElement(u.default,{title:"Chỉnh sửa địa chỉ",old_user_name:t.name,old_phone:t.phone,old_specific:t.address.slice(0,a),old_type:t.type,old_current_address:t.address.slice(a+2),is_default:t.is_default,handleBack:x,handleComplete:function(t){return g(t,e)}})})}function P(e){(0,c.openScreenConfirm)({openScreenFloor:h,title:"Xóa địa chỉ",notification:"Bạn muốn xóa địa chỉ này không?",handleConfirm:function(){!function(e){var t=[].concat(p(E));t.splice(e,1),b(n({},y,{address_arr:t}))}(e)}})}return y.has_fetched,(0,r.useEffect)((function(){m()}),[]),s.default.createElement("div",{className:"FsPersonalAddress bg-primary"},s.default.createElement("div",null,s.default.createElement(o.default,{openAddNewAddress:function(){(0,i.openScreenWithElm)({openScreenFloor:h,elm:s.default.createElement(u.default,{title:"Địa chỉ mới",handleBack:x,handleComplete:function(e){return g(e,-1)}})})}})),s.default.createElement("div",null,E.map((function(e,t){return s.default.createElement("div",{key:e.id},s.default.createElement(f.default,{ix:t,is_last:t==E.length-1,name:e.name,phone:e.phone,address:e.address,is_default:e.is_default,setDefault:A,handleFix:F,handleDelete:P}))}))))}a(83581),a(41758),_.propTypes={},t.default=_},50687:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(67294)),r=(s(a(45697)),s(a(24012)));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.openAddNewAddress;return n.default.createElement("div",{className:"FsPAddressHead padding-y-20px"},n.default.createElement("div",{className:"FsPAddressHead_row flex-between-center"},n.default.createElement("div",{className:"FsPAddressHead_left font-18px font-500"},"Địa chỉ của tôi"),n.default.createElement("button",{className:"FsPAddressHead_right inline-flex align-items-center btn btn-active btn-hv padding-x-15px padding-y-12px brs-3px bg-fashion-red line-16px text-white text-cap font-14px font-400 cursor-pointer",type:"button",onClick:t},n.default.createElement(r.default,{size_icon:"16px",stroke:"currentColor"}),n.default.createElement("span",{className:"FsPAddressHead_right_text margin-left-8px"},"Thêm địa chỉ mới"))))}a(16314),d.propTypes={},t.default=d},42242:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(a(67294));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.ix,a=e.is_last,r=e.name,s=e.phone,d=e.address,l=e.is_default,i=e.setDefault,c=e.handleFix,u=e.handleDelete;return n.default.createElement("div",{className:"FsPAddressItem text-555 "+(a?"":"FsPAddressItem-nth")},n.default.createElement("div",{className:"FsPAddressItem_row display-flex space-between"},n.default.createElement("div",{className:"FsPAddressItem_left flex-grow-1"},n.default.createElement("div",{className:"FsPAddressItem_left_row display-flex align-items-center margin-bottom-10px"},n.default.createElement("div",{className:"FsPAddressItem_label"},"Họ và tên"),n.default.createElement("div",{className:"display-flex"},n.default.createElement("div",{className:"FsPAddressItem_name font-16px line-22px"},r),l?n.default.createElement("div",null,n.default.createElement("div",{className:"FsPAddressItem_default margin-left-10px padding-x-6px padding-y-3px brs-3px text-white font-13px line-15px"},"Mặc định")):null)),n.default.createElement("div",{className:"FsPAddressItem_left_row display-flex margin-bottom-10px"},n.default.createElement("div",{className:"FsPAddressItem_label"},"Số điện thoại"),n.default.createElement("div",{className:"font-14px"},s)),n.default.createElement("div",{className:"FsPAddressItem_left_row display-flex"},n.default.createElement("div",{className:"FsPAddressItem_label"},"Địa chỉ"),n.default.createElement("div",{className:"FsPAddressItem_address_item font-14px"},d))),n.default.createElement("div",{className:"FsPAddressItem_right font-14px"},n.default.createElement("div",{className:"FsPAddressItem_right_head padding-y-10px text-align-end"},n.default.createElement("button",{className:"FsPAddressItem_btn_fix_del border-none bg-transparent text-555 cursor-pointer",type:"button",onClick:function(){c(t)}},"Sửa"),l?null:n.default.createElement("button",{className:"FsPAddressItem_btn_fix_del margin-left-10px border-none bg-transparent text-555 cursor-pointer",type:"button",onClick:function(){u(t)}},"Xóa")),l?null:n.default.createElement("div",{className:"FsPAddressItem_right_foot margin-top-15px"},n.default.createElement("button",{className:"FsPAddressItem_set_default btn-hv btn-active padding-y-5px padding-x-10px border-blur text-cap text-third cursor-pointer",type:"button",onClick:function(){i(t)}},"Thiết lập mặc định")))))}r(a(45697)),a(58786),s.propTypes={},t.default=s},83581:(e,t,a)=>{"use strict";a.r(t)},41758:(e,t,a)=>{"use strict";a.r(t)},16314:(e,t,a)=>{"use strict";a.r(t)},58786:(e,t,a)=>{"use strict";a.r(t)}}]);
//# sourceMappingURL=1387.js.map