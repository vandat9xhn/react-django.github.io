{"version":3,"sources":["webpack://my_webpack/./src/_hooks/use2FingersResize.js","webpack://my_webpack/./src/_some_function/getValueHasMinMax.js","webpack://my_webpack/./src/component/_screen/type/story/mobile/create/ScreenStoryCreateMb.js","webpack://my_webpack/./src/component/input/pic_effect/_main/PicEffectList.js","webpack://my_webpack/./src/component/input/pic_effect/item/PicEffectItem.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/bg_touch/StoryBgTouch.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/btn_share/StoryBtnShareMb.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/icon_close/StoryIconCloseMb.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/privacy/StoryBtnPrivacyMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/_main/StoryCreateMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/home/_main/StoryCHomeMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/home/head/StoryCHHeadMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/_main/StoryCreatePicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/actions/StoryCPActionsMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/add_text/StoryCPAddTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/edit_pic/_main/StoryCPEditPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/edit_pic/actions/StoryCPEditPicActionsMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/effect_pic/StoryCPEffectPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/pic/StoryCPPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/add/_main/StoryCPAddTagFriendMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/add/friend/StoryCPFriendMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/tag/StoryCPTagFriendItemMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/text/StoryCPTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/_main/StoryCreateTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/foot/StoryCTFootMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/input/StoryCTInputMb.js"],"names":["handleResize","is_run","useRef","client_x_0","client_y_0","client_x_1","client_y_1","client_length_start","client_length","getClientLength","e","getTouchClientXY","new_client_x_0","client_x","new_client_y_0","client_y","new_client_x_1","new_client_y_1","current","handleTouchStart","touches","length","handleTouchMove","new_client_length","client_change","handleTouchEnd","value","min","max","openScreenCreateStoryMb","openScreenFloor","has_history","hidden_before","FloorComponent","StoryCreateMb","ScreenStoryCreateMb","closeScreen","useContext","context_api","useEffect","propTypes","PicEffectList","effect_arr","effect_ix","pic","handleChangeEffect","className","map","item","ix","key","is_active","effect","PicEffectItem","onClick","src","alt","style","filter","StoryBgTouch","ref_fake_elm","scale","ref","transform","zIndex","StoryBtnShareMb","can_share","handleCreateStory","x","y","StoryIconCloseMb","handleDiscard","size_icon","StoryBtnPrivacyMb","openPrivacy","stroke","useState","create_type","vid_pic","vid_pic_width","permission","state_obj","setStateObj","changeScreenStory","new_type","handleChoosePermission","openScreenPermission","data","console","log","openScreenConfirm","title","notification","handleConfirm","handleDiscardText","has_text","useMakeBodyHidden","hidden_app","hidden_header","document","openScreenStoryText","openScreenStoryPic","data_files","new_vid_pic","vid_pics","files","PropTypes","func","StoryCHomeMb","StoryCHHeadMb","StoryCreatePicMb","story_width","vid_pic_obj","mode","data_story_pic_edit_mode_arr","mode_ix","data_story_effect_arr","trans_x","trans_y","rotate","text_obj","text","tag_user_arr","open_add_text","open_effect_pic","open_add_friend","open_edit_pic","can_undo","can_redo","history_touch_arr","active_touch_ix","forceUpdate","useForceUpdate","undoRedoEditPic","undo_or_redo","closeEffectPic","changeModePic","new_vid_pic_obj","new_mode_ix","openAddText","closeAddText","closeTagFriend","handleMoveTagFriend","client_x_change","client_y_change","new_tag_user_arr","handleResizeTagFriend","getValueHasMinMax","SCALE_PIC_RATIO","changeBgColorIx","new_bg_color_ix","bg_color_ix","data_story_tag_bg_color_arr","bg","color","handleDelTagFriend","tag_user_ix","splice","c_trans_x","c_trans_y","c_scale","c_rotate","handleResizePic","handleMovePic","handleChange","new_text_obj","trim","openChangeText","handleResizeText","handleMoveText","tag_user_obj","user","id","handleDelTag","handleResizeTag","handleMoveTag","openTagFriend","toggleEditPic","openEffectPic","undoEditPic","redoEditPic","toUpperCase","handleRotate","new_rotate","handleTagFriend","tag_user","handleChangeEffectPic","new_effect_ix","StoryCPActionsMb","StoryCPAddTextMb","name","placeholder","textarea_class","onChange","StoryCPEditPicMb","StoryCPEditPicActionsMb","StoryCPEffectPicMb","StoryCPPicMb","ref_main_elm","use2FingersResize","handleResizeEnd","handleStartMove","useMouseMoveXY","handleMouseMove","handleStart","onTouchStart","display","includes","onTouchMove","onTouchEnd","removeProperty","StoryCPAddTagFriendMb","setValue","ref_value","useDataShowMore","initial_arr","handle_API_L","c_count","handle_API_Friend_L","params","search","data_state","refreshData_API","getData_API","data_arr","count","is_fetching","handleWaitingLastAction","has_fetched","useWaitingLastAction","time_waiting","callback","type","new_value","target","is_show_more","handleShowMore","StoryCPFriendMb","handleClick","StoryCPTagFriendItemMb","data_resize","data_move","backgroundColor","first_name","last_name","StoryCPTextMb","StoryCreateTextMb","active_bg_ix","data_story_bg_arr","bg_img_arr","handleChooseBg","new_bg_ix","StoryCTFootMb","active_ix","StoryCTInputMb"],"mappings":"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","file":"static/js/3685.js","sourcesContent":["import { useRef } from 'react';\r\n//\r\nimport { getTouchClientXY } from '../_some_function/getClientXY';\r\n\r\n//\r\nexport function use2FingersResize({ handleResize = () => {} }) {\r\n    //\r\n    const is_run = useRef(false);\r\n\r\n    const client_x_0 = useRef(0);\r\n    const client_y_0 = useRef(0);\r\n    const client_x_1 = useRef(0);\r\n    const client_y_1 = useRef(0);\r\n\r\n    const client_length_start = useRef(0);\r\n    const client_length = useRef(0);\r\n\r\n    //\r\n    function getClientLength(e) {\r\n        const { client_x: new_client_x_0, client_y: new_client_y_0 } =\r\n            getTouchClientXY(e, 0);\r\n\r\n        const { client_x: new_client_x_1, client_y: new_client_y_1 } =\r\n            getTouchClientXY(e, 1);\r\n\r\n        client_x_0.current = new_client_x_0;\r\n        client_y_0.current = new_client_y_0;\r\n        client_x_1.current = new_client_x_1;\r\n        client_y_1.current = new_client_y_1;\r\n\r\n        return (\r\n            ((new_client_x_1 - new_client_x_0) ** 2 +\r\n                (new_client_y_1 - new_client_y_0) ** 2) **\r\n            0.5\r\n        );\r\n    }\r\n\r\n    //\r\n    function handleTouchStart(e) {\r\n        if (e.touches.length != 2) {\r\n            return;\r\n        }\r\n\r\n        is_run.current = true;\r\n        client_length_start.current = getClientLength(e);\r\n        client_length.current = client_length_start.current;\r\n    }\r\n\r\n    //\r\n    function handleTouchMove(e) {\r\n        if (!is_run.current) {\r\n            return;\r\n        }\r\n\r\n        const new_client_length = getClientLength(e);\r\n\r\n        handleResize({\r\n            client_change: new_client_length - client_length.current,\r\n            client_x_0: client_x_0.current,\r\n            client_x_1: client_x_1.current,\r\n            client_y_0: client_y_0.current,\r\n            client_y_1: client_y_1.current,\r\n        });\r\n        client_length.current = new_client_length;\r\n    }\r\n\r\n    //\r\n    function handleTouchEnd(e) {\r\n        is_run.current = false;\r\n    }\r\n\r\n    //\r\n    return {\r\n        handleTouchStart,\r\n        handleTouchMove,\r\n        handleTouchEnd,\r\n    };\r\n}\r\n","//\r\nexport function getValueHasMinMax(value = 0, min = 0, max = 0) {\r\n    if (value <= min) {\r\n        return min;\r\n    }\r\n\r\n    if (value >= max) {\r\n        return max;\r\n    }\r\n\r\n    return value;\r\n}\r\n","import React, { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../../_context/ContextAPI';\r\n// \r\n// import { useMakeBodyHidden } from '../../../../../../_hooks/useMakeBodyHidden';\r\n// \r\nimport StoryCreateMb from '../../../../../story_fb/mobile/create/_main/StoryCreateMb';\r\n\r\n//\r\nexport function openScreenCreateStoryMb({\r\n    openScreenFloor = () => {},\r\n    has_history = true,\r\n    hidden_before = true,\r\n}) {\r\n    openScreenFloor({\r\n        FloorComponent: StoryCreateMb,\r\n        has_history: has_history,\r\n        hidden_before: hidden_before,\r\n    });\r\n}\r\n\r\n//\r\nScreenStoryCreateMb.propTypes = {};\r\n\r\n//\r\nfunction ScreenStoryCreateMb({ closeScreen }) {\r\n    // \r\n    const {openScreenFloor} = useContext(context_api)\r\n\r\n    //\r\n    // useMakeBodyHidden({\r\n    //     hidden_app: true,\r\n    //     hidden_header: true,\r\n    //     blur_header: true,\r\n    // });\r\n\r\n    useEffect(() => {\r\n        openScreenCreateStoryMb({\r\n            openScreenFloor: openScreenFloor\r\n        })\r\n    }, [])\r\n\r\n    //\r\n    // return <StoryCreateMb closeScreen={closeScreen} />;\r\n    return null\r\n}\r\n\r\nexport default ScreenStoryCreateMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicEffectItem from '../item/PicEffectItem';\r\n\r\n//\r\nPicEffectList.propTypes = {};\r\n\r\n//\r\nfunction PicEffectList({ effect_arr, effect_ix, pic, handleChangeEffect }) {\r\n    //\r\n    return (\r\n        <div className=\"PicEffectList padding-4px\">\r\n            <div className=\"display-flex\">\r\n                {effect_arr.map((item, ix) => (\r\n                    <div key={`${ix}`}>\r\n                        <PicEffectItem\r\n                            ix={ix}\r\n                            is_active={effect_ix == ix}\r\n                            effect={item}\r\n                            pic={pic}\r\n                            handleChangeEffect={handleChangeEffect}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PicEffectList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport './PicEffectItem.scss';\r\n\r\n//\r\nPicEffectItem.propTypes = {};\r\n\r\n//\r\nfunction PicEffectItem({ ix, is_active, pic, effect, handleChangeEffect }) {\r\n    //\r\n    function onChangeEffect() {\r\n        handleChangeEffect(ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"PicEffectItem padding-4px\" onClick={onChangeEffect}>\r\n            <img\r\n                className={`wh-100 brs-8px ${\r\n                    is_active ? 'PicEffectItem-active' : ''\r\n                }`}\r\n                src={pic}\r\n                alt=\"\"\r\n                style={{ filter: effect }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PicEffectItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n//\r\nStoryBgTouch.propTypes = {};\r\n\r\n//\r\nfunction StoryBgTouch({ ref_fake_elm, scale }) {\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_fake_elm}\r\n            className=\"pos-abs left-50per top-50per wh-200v display-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) scale(${2 / scale})`,\r\n                zIndex: -1,\r\n            }}\r\n        ></div>\r\n    );\r\n}\r\n\r\nexport default StoryBgTouch;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsAction from '../../../../../../_icons_svg/icons_action/IconsAction';\r\n\r\n//\r\nStoryBtnShareMb.propTypes = {};\r\n\r\n//\r\nfunction StoryBtnShareMb({ can_share, handleCreateStory }) {\r\n    //\r\n    return (\r\n        <div\r\n            className={`StoryBtnShareMb padding-8px brs-5px cursor-pointer ${\r\n                can_share ? 'bg-blue' : 'bg-always-white pointer-events-none'\r\n            }`}\r\n            onClick={handleCreateStory}\r\n        >\r\n            <div className=\"display-flex align-items-center\">\r\n                <div>\r\n                    <span\r\n                        className={`font-500 ${\r\n                            can_share ? 'text-white' : 'text-third'\r\n                        }`}\r\n                    >\r\n                        Share story\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"margin-left-5px\">\r\n                    <IconsAction x={200} y={200} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryBtnShareMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsArrow from '../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n\r\n//\r\nStoryIconCloseMb.propTypes = {};\r\n\r\n//\r\nfunction StoryIconCloseMb({ handleDiscard }) {\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryIconCloseMb padding-4px\"\r\n            onClick={handleDiscard}\r\n        >\r\n            <IconsArrow y={400} size_icon=\"1.5rem\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryIconCloseMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconSetting from '../../../../../../_icons_svg/icon_setting/IconSetting';\r\n\r\n//\r\nStoryBtnPrivacyMb.propTypes = {};\r\n\r\n//\r\nfunction StoryBtnPrivacyMb({ openPrivacy }) {\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryBtnPrivacyMb brs-5px cursor-pointer\"\r\n            onClick={openPrivacy}\r\n        >\r\n            <div className=\"display-flex flex-col align-items-center\">\r\n                <div>\r\n                    <IconSetting stroke=\"white\" />\r\n                </div>\r\n\r\n                <div>\r\n                    <span className=\"font-500 text-white\">Privacy</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryBtnPrivacyMb;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../_context/ContextAPI';\r\n//\r\nimport { openScreenConfirm } from '../../../../_screen/type/confirm/ScreenConfirm';\r\nimport { openScreenPermission } from '../../../../_screen/type/permission/_main/ScreenPermission';\r\n//\r\nimport { useMakeBodyHidden } from '../../../../../_hooks/useMakeBodyHidden';\r\n//\r\nimport StoryCHomeMb from '../home/_main/StoryCHomeMb';\r\nimport StoryCreateTextMb from '../text/_main/StoryCreateTextMb';\r\nimport StoryCreatePicMb from '../pic/_main/StoryCreatePicMb';\r\n\r\n//\r\nStoryCreateMb.propTypes = {\r\n    closeScreen: PropTypes.func,\r\n};\r\n\r\n//\r\nfunction StoryCreateMb({ closeScreen }) {\r\n    //\r\n    const { openScreenFloor } = useContext(context_api);\r\n\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        create_type: '',\r\n        vid_pic: '',\r\n        vid_pic_width: 0,\r\n        permission: 0,\r\n    });\r\n\r\n    const { create_type, vid_pic, vid_pic_width, permission } = state_obj;\r\n\r\n    //\r\n    useMakeBodyHidden({\r\n        hidden_app: true,\r\n        hidden_header: true,\r\n        // blur_header: true,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        document.title = 'Create story';\r\n    }, []);\r\n\r\n    /* ---- TYPE ---- */\r\n\r\n    //\r\n    function changeScreenStory(new_type = '') {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            create_type: new_type,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function openScreenStoryText() {\r\n        changeScreenStory('text');\r\n    }\r\n\r\n    //\r\n    function openScreenStoryPic(data_files) {\r\n        const new_vid_pic = data_files.vid_pics[0].vid_pic;\r\n        const files = data_files.files;\r\n\r\n        console.log(files);\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            create_type: 'pic',\r\n            vid_pic: new_vid_pic,\r\n        });\r\n    }\r\n\r\n    /* ----- PERMISSION + CREATE ---- */\r\n\r\n    //\r\n    function handleChoosePermission(ix) {\r\n        setStateObj({\r\n            ...state_obj,\r\n            permission: ix,\r\n        });\r\n    }\r\n\r\n    //\r\n    function openPrivacy() {\r\n        openScreenPermission({\r\n            openScreenFloor: openScreenFloor,\r\n            permission: permission,\r\n            handleChoosePermission: handleChoosePermission,\r\n        });\r\n    }\r\n\r\n    /* ----- CREATE ----- */\r\n\r\n    //\r\n    function handleCreateStory(data) {\r\n        console.log(data);\r\n    }\r\n\r\n    /* ----- DISCARD ----- */\r\n\r\n    //\r\n    function handleDiscard() {\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Discard story?',\r\n            notification:\r\n                \"Are you sure that you want to discard this story? Your story won't be saved.\",\r\n            handleConfirm: changeScreenStory,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleDiscardText(has_text = false) {\r\n        if (has_text) {\r\n            handleDiscard();\r\n        } else {\r\n            changeScreenStory();\r\n        }\r\n    }\r\n\r\n    //\r\n    function handleCloseStoryCreate() {\r\n        closeScreen();\r\n    }\r\n\r\n    //\r\n    // function handleCloseScreen() {\r\n    //     if (create_type == '') {\r\n    //         handleCloseStoryCreate();\r\n\r\n    //         return;\r\n    //     }\r\n\r\n    //     openScreenConfirm({\r\n    //         openScreenFloor: openScreenFloor,\r\n    //         title: 'Discard story?',\r\n    //         notification:\r\n    //             \"Are you sure that you want to discard this story? Your story won't be saved.\",\r\n    //         handleConfirm: handleCloseStoryCreate,\r\n    //     });\r\n    // }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreateMb wh-100v\">\r\n            {create_type == '' ? (\r\n                <StoryCHomeMb\r\n                    openScreenStoryText={openScreenStoryText}\r\n                    openScreenStoryPic={openScreenStoryPic}\r\n                />\r\n            ) : create_type == 'text' ? (\r\n                <StoryCreateTextMb\r\n                    handleCreateStory={handleCreateStory}\r\n                    openPrivacy={openPrivacy}\r\n                    handleDiscard={handleDiscardText}\r\n                />\r\n            ) : (\r\n                <StoryCreatePicMb\r\n                    vid_pic={vid_pic}\r\n                    handleCreateStory={handleCreateStory}\r\n                    openPrivacy={openPrivacy}\r\n                    handleDiscard={handleDiscardText}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreateMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryCHHeadMb from '../head/StoryCHHeadMb';\r\n\r\n//\r\nStoryCHomeMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCHomeMb({ openScreenStoryText, openScreenStoryPic }) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCHomeMb\">\r\n            <h2 className=\"padding-16px text-align-center font-20px\">\r\n                Create story\r\n            </h2>\r\n\r\n            <div>\r\n                <StoryCHHeadMb\r\n                    openScreenStoryText={openScreenStoryText}\r\n                    openScreenStoryPic={openScreenStoryPic}\r\n                />\r\n            </div>\r\n\r\n            <div></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCHomeMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryCreateTextChoice from '../../../../_components/create/choose/text/StoryCreateTextChoice';\r\nimport StoryCreatePicChoice from '../../../../_components/create/choose/vid_pic/StoryCreatePicChoice';\r\n//\r\nimport './StoryCHHeadMb.scss';\r\n\r\n//\r\nStoryCHHeadMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCHHeadMb({ openScreenStoryText, openScreenStoryPic }) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCHHeadMb padding-x-8px padding-y-15px\">\r\n            <div className=\"display-flex\">\r\n                <div className=\"StoryCHHeadMb_item pos-rel\">\r\n                    <div className=\"pos-abs-100 padding-4px \">\r\n                        <div className=\"wh-100 brs-8px overflow-hidden\">\r\n                            <StoryCreateTextChoice\r\n                                title=\"Text\"\r\n                                openScreenStoryText={openScreenStoryText}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"StoryCHHeadMb_item pos-rel\">\r\n                    <div className=\"pos-abs-100 padding-4px\">\r\n                        <div className=\"wh-100 brs-8px overflow-hidden\">\r\n                            <StoryCreatePicChoice\r\n                                title=\"Photo\"\r\n                                openScreenStoryPic={openScreenStoryPic}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCHHeadMb;\r\n","import React, { useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { SCALE_PIC_RATIO } from '../../../../../../_constant/Constant';\r\n//\r\nimport { initial_user } from '../../../../../../_initial/user/initialUser';\r\nimport {\r\n    data_story_effect_arr,\r\n    data_story_pic_edit_mode_arr,\r\n    data_story_tag_bg_color_arr,\r\n} from '../../../../../../_data/story/text';\r\n//\r\nimport { getValueHasMinMax } from '../../../../../../_some_function/getValueHasMinMax';\r\n//\r\nimport { useForceUpdate } from '../../../../../../_hooks/UseForceUpdate';\r\n//\r\nimport StoryIconCloseMb from '../../../../_components/create/mobile/icon_close/StoryIconCloseMb';\r\nimport StoryBtnPrivacyMb from '../../../../_components/create/mobile/privacy/StoryBtnPrivacyMb';\r\nimport StoryBtnShareMb from '../../../../_components/create/mobile/btn_share/StoryBtnShareMb';\r\nimport StoryCPTextMb from '../text/StoryCPTextMb';\r\nimport StoryCPPicMb from '../pic/StoryCPPicMb';\r\nimport StoryCPActionsMb from '../actions/StoryCPActionsMb';\r\nimport StoryCPAddTextMb from '../add_text/StoryCPAddTextMb';\r\nimport StoryCPEffectPicMb from '../effect_pic/StoryCPEffectPicMb';\r\nimport StoryCPTagFriendItemMb from '../tag_friend/tag/StoryCPTagFriendItemMb';\r\nimport StoryCPAddTagFriendMb from '../tag_friend/add/_main/StoryCPAddTagFriendMb';\r\nimport StoryCPEditPicMb from '../edit_pic/_main/StoryCPEditPicMb';\r\nimport StoryRotatePic from '../../../../_components/create/story_pic/rotate/StoryRotatePic';\r\n//\r\nimport './StoryCreatePicMb.scss';\r\n\r\n//\r\nStoryCreatePicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCreatePicMb({\r\n    vid_pic,\r\n    openPrivacy,\r\n    handleCreateStory,\r\n    handleDiscard,\r\n}) {\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        story_width: 0,\r\n\r\n        vid_pic_obj: {\r\n            vid_pic: vid_pic,\r\n            mode: data_story_pic_edit_mode_arr[0],\r\n            mode_ix: 0,\r\n            effect: data_story_effect_arr[0],\r\n            effect_ix: 0,\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            scale: 1,\r\n            rotate: 0, // 0 90 180 270\r\n        },\r\n\r\n        text_obj: {\r\n            text: '',\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            rotate: 0,\r\n            scale: 1,\r\n        },\r\n\r\n        tag_user_arr: [] || [\r\n            {\r\n                user: initial_user(),\r\n                bg_color_ix: 0,\r\n                ...data_story_tag_bg_color_arr[0],\r\n                trans_x: 0,\r\n                trans_y: 0,\r\n                rotate: 0,\r\n                scale: 1,\r\n            },\r\n        ],\r\n\r\n        open_add_text: false,\r\n        open_effect_pic: false,\r\n        open_add_friend: false,\r\n        open_edit_pic: false,\r\n\r\n        can_undo: false,\r\n        can_redo: false,\r\n    });\r\n\r\n    const {\r\n        vid_pic_obj,\r\n        text_obj,\r\n        tag_user_arr,\r\n\r\n        open_add_text,\r\n        open_add_friend,\r\n        open_effect_pic,\r\n        open_edit_pic,\r\n    } = state_obj;\r\n\r\n    const bg_pic = '';\r\n\r\n    //\r\n    const history_touch_arr = useRef([\r\n        {\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            scale: 1,\r\n            rotate: 0,\r\n        },\r\n    ]);\r\n    const active_touch_ix = useRef(0);\r\n\r\n    //\r\n    const forceUpdate = useForceUpdate();\r\n\r\n    /* ------- PIC ------- */\r\n\r\n    //\r\n    function toggleEditPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_edit_pic: !open_edit_pic,\r\n        });\r\n    }\r\n\r\n    /*------*/\r\n    function undoRedoEditPic(undo_or_redo = true) {\r\n        setStateObj((state_obj) => {\r\n            active_touch_ix.current += undo_or_redo ? -1 : 1;\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: {\r\n                    ...state_obj.vid_pic_obj,\r\n                    ...history_touch_arr.current[active_touch_ix.current],\r\n                },\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function undoEditPic() {\r\n        if (active_touch_ix.current == 0) {\r\n            return;\r\n        }\r\n\r\n        undoRedoEditPic(true);\r\n    }\r\n\r\n    //\r\n    function redoEditPic() {\r\n        if (active_touch_ix.current == history_touch_arr.length - 1) {\r\n            return;\r\n        }\r\n\r\n        undoRedoEditPic(false);\r\n    }\r\n\r\n    /*------*/\r\n    function openEffectPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_effect_pic: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeEffectPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_effect_pic: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleChangeEffectPic(new_effect_ix) {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            new_vid_pic_obj.effect_ix = new_effect_ix;\r\n            new_vid_pic_obj.effect = data_story_effect_arr[new_effect_ix];\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    /*------*/\r\n    function changeModePic() {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            const new_mode_ix =\r\n                (new_vid_pic_obj.mode_ix + 1) %\r\n                data_story_pic_edit_mode_arr.length;\r\n\r\n            new_vid_pic_obj.mode_ix = new_mode_ix;\r\n            new_vid_pic_obj.mode = data_story_pic_edit_mode_arr[new_mode_ix];\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMovePic({ client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: {\r\n                    ...state_obj.vid_pic_obj,\r\n                    trans_x: state_obj.vid_pic_obj.trans_x + client_x_change,\r\n                    trans_y: state_obj.vid_pic_obj.trans_y + client_y_change,\r\n                },\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizePic({ client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n\r\n            if (new_vid_pic_obj.scale <= 0.25 && client_change < 0) {\r\n                new_vid_pic_obj.scale = 0.25;\r\n            } else {\r\n                new_vid_pic_obj.scale += client_change / (SCALE_PIC_RATIO * 4);\r\n            }\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleRotatePic() {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            const new_rotate = new_vid_pic_obj.rotate + 90;\r\n            new_vid_pic_obj.rotate = new_rotate >= 360 ? 0 : new_rotate;\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleTouchEndPic() {\r\n        const { trans_x, trans_y, scale, rotate } = vid_pic_obj;\r\n        const {\r\n            trans_x: c_trans_x,\r\n            trans_y: c_trans_y,\r\n            scale: c_scale,\r\n            rotate: c_rotate,\r\n        } = history_touch_arr.current[active_touch_ix.current];\r\n\r\n        if (\r\n            trans_x == c_trans_x &&\r\n            trans_y == c_trans_y &&\r\n            scale == c_scale &&\r\n            rotate == c_rotate\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        active_touch_ix.current += 1;\r\n\r\n        history_touch_arr.current.splice(\r\n            active_touch_ix.current,\r\n            history_touch_arr.current.length,\r\n            {\r\n                trans_x: trans_x,\r\n                trans_y: trans_y,\r\n                scale: scale,\r\n                rotate: rotate,\r\n            }\r\n        );\r\n\r\n        open_edit_pic && forceUpdate();\r\n\r\n        // console.log(history_touch_arr.current);\r\n    }\r\n\r\n    /* ----- TEXT ----- */\r\n\r\n    //\r\n    function openAddText() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_text: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeAddText() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_text: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleChangeText(value) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n            new_text_obj.text = value;\r\n\r\n            return {\r\n                ...state_obj,\r\n                text_obj: new_text_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMoveText({ client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n\r\n            new_text_obj.trans_x += client_x_change;\r\n            new_text_obj.trans_y += client_y_change;\r\n\r\n            return { ...state_obj, text_obj: new_text_obj };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizeText({ client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n\r\n            new_text_obj.scale = getValueHasMinMax(\r\n                new_text_obj.scale + client_change / (SCALE_PIC_RATIO * 4),\r\n                0.5,\r\n                4\r\n            );\r\n\r\n            return {\r\n                ...state_obj,\r\n                text_obj: new_text_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    /* ------ TAG ----- */\r\n\r\n    //\r\n    function openTagFriend() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_friend: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeTagFriend() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_friend: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleTagFriend(tag_user = {}) {\r\n        setStateObj({\r\n            ...state_obj,\r\n            tag_user_arr: [\r\n                ...state_obj.tag_user_arr,\r\n                {\r\n                    user: tag_user,\r\n                    bg_color_ix: 0,\r\n                    ...data_story_tag_bg_color_arr[0],\r\n                    trans_x: 0,\r\n                    trans_y: 0,\r\n                    rotate: 0,\r\n                    scale: 1,\r\n                },\r\n            ],\r\n            open_add_friend: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMoveTagFriend({ ix, client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n\r\n            new_tag_user_arr[ix].trans_x += client_x_change;\r\n            new_tag_user_arr[ix].trans_y += client_y_change;\r\n\r\n            return { ...state_obj, tag_user_arr: new_tag_user_arr };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizeTagFriend({ ix, client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n\r\n            new_tag_user_arr[ix].scale = getValueHasMinMax(\r\n                new_tag_user_arr[ix].scale +\r\n                    client_change / (SCALE_PIC_RATIO * 4),\r\n                0.5,\r\n                2\r\n            );\r\n\r\n            return {\r\n                ...state_obj,\r\n                tag_user_arr: new_tag_user_arr,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function changeBgColorIx(ix) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n            const new_bg_color_ix =\r\n                (new_tag_user_arr[ix].bg_color_ix + 1) %\r\n                data_story_tag_bg_color_arr.length;\r\n\r\n            new_tag_user_arr[ix].bg_color_ix = new_bg_color_ix;\r\n            new_tag_user_arr[ix].bg =\r\n                data_story_tag_bg_color_arr[new_bg_color_ix].bg;\r\n            new_tag_user_arr[ix].color =\r\n                data_story_tag_bg_color_arr[new_bg_color_ix].color;\r\n\r\n            return {\r\n                ...state_obj,\r\n                tag_user_arr: new_tag_user_arr,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleDelTagFriend(tag_user_ix) {\r\n        const new_tag_user_arr = [...tag_user_arr];\r\n        new_tag_user_arr.splice(tag_user_ix, 1);\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            tag_user_arr: new_tag_user_arr,\r\n        });\r\n    }\r\n\r\n    /* ------ CREATE ----- */\r\n\r\n    //\r\n    function onCreateStory() {\r\n        handleCreateStory(state_obj);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreatePicMb wh-100 pos-rel overflow-hidden\">\r\n            <img\r\n                src={vid_pic}\r\n                alt=\"\"\r\n                className=\"wh-100\"\r\n                style={{ filter: `blur(100px)` }}\r\n            />\r\n\r\n            <StoryCPPicMb\r\n                vid_pic_obj={vid_pic_obj}\r\n                handleTouchEnd={handleTouchEndPic}\r\n                handleResizePic={handleResizePic}\r\n                handleMovePic={handleMovePic}\r\n            />\r\n\r\n            {open_add_text ? (\r\n                <div className=\"pos-abs-100 z-index-lv1\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-shadow-9\"\r\n                        onClick={closeAddText}\r\n                    ></div>\r\n\r\n                    <StoryCPAddTextMb\r\n                        text={text_obj.text}\r\n                        handleChange={handleChangeText}\r\n                    />\r\n\r\n                    <div className=\"pos-abs right-0 bottom-0\">\r\n                        <div className=\"padding-8px\" onClick={closeAddText}>\r\n                            <span className=\"font-500 text-white\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : text_obj.text.trim() ? (\r\n                <StoryCPTextMb\r\n                    text_obj={text_obj}\r\n                    openChangeText={openAddText}\r\n                    handleResizeText={handleResizeText}\r\n                    handleMoveText={handleMoveText}\r\n                />\r\n            ) : null}\r\n\r\n            {tag_user_arr.map((tag_user_obj, ix) => (\r\n                <StoryCPTagFriendItemMb\r\n                    key={`${tag_user_obj.user.id}`}\r\n                    ix={ix}\r\n                    tag_user_obj={tag_user_obj}\r\n                    //\r\n                    changeBgColorIx={changeBgColorIx}\r\n                    handleDelTag={handleDelTagFriend}\r\n                    handleResizeTag={handleResizeTagFriend}\r\n                    handleMoveTag={handleMoveTagFriend}\r\n                />\r\n            ))}\r\n\r\n            <div className=\"pos-abs right-0 top-0\">\r\n                <div className=\"padding-4px\">\r\n                    <StoryCPActionsMb\r\n                        mode={vid_pic_obj.mode}\r\n                        openAddText={openAddText}\r\n                        changeModePic={changeModePic}\r\n                        openTagFriend={openTagFriend}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                className={`StoryCreatePicMb_edit_pic pos-abs left-0 ${\r\n                    open_edit_pic ? 'w-100per' : ''\r\n                }`}\r\n            >\r\n                <StoryCPEditPicMb\r\n                    mode={vid_pic_obj.mode}\r\n                    open_edit_pic={open_edit_pic}\r\n                    can_undo={active_touch_ix.current > 0}\r\n                    can_redo={\r\n                        active_touch_ix.current <\r\n                        history_touch_arr.current.length - 1\r\n                    }\r\n                    //\r\n                    toggleEditPic={toggleEditPic}\r\n                    openEffectPic={openEffectPic}\r\n                    undoEditPic={undoEditPic}\r\n                    redoEditPic={redoEditPic}\r\n                    changeModePic={changeModePic}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"pos-abs left-0 top-0\">\r\n                <StoryIconCloseMb handleDiscard={handleDiscard} />\r\n            </div>\r\n\r\n            <div className=\"pos-abs left-0 bottom-0\">\r\n                <div className=\"padding-8px\">\r\n                    <StoryBtnPrivacyMb openPrivacy={openPrivacy} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"pos-abs right-0 bottom-0\">\r\n                <div className=\"padding-8px\">\r\n                    <StoryBtnShareMb\r\n                        can_share={true}\r\n                        handleCreateStory={onCreateStory}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                className={`StoryCreatePicMb_rotate pos-abs left-0 w-100per bottom-0 ${\r\n                    vid_pic_obj.mode.toUpperCase() == 'ROTATE'\r\n                        ? 'StoryCreatePicMb_rotate-show'\r\n                        : 'StoryCreatePicMb_rotate-hide'\r\n                }`}\r\n            >\r\n                <div className=\"display-flex-center padding-8px bg-shadow-9\">\r\n                    <StoryRotatePic handleRotate={handleRotatePic} />\r\n                </div>\r\n            </div>\r\n\r\n            {open_add_friend ? (\r\n                <div className=\"pos-abs-100\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-shadow-9\"\r\n                        onClick={closeTagFriend}\r\n                    ></div>\r\n\r\n                    <div className=\"pos-abs-100\">\r\n                        <StoryCPAddTagFriendMb\r\n                            handleTagFriend={handleTagFriend}\r\n                        />\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"pos-abs right-0 bottom-0\"\r\n                        onClick={closeTagFriend}\r\n                    >\r\n                        <div className=\"padding-8px\">\r\n                            <span className=\"text-white font-500\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n\r\n            {open_effect_pic ? (\r\n                <div className=\"pos-abs-100\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-shadow-9\"\r\n                        onClick={closeEffectPic}\r\n                    ></div>\r\n\r\n                    <StoryCPEffectPicMb\r\n                        pic={vid_pic}\r\n                        effect_arr={data_story_effect_arr}\r\n                        effect_ix={vid_pic_obj.effect_ix}\r\n                        handleChangeEffectPic={handleChangeEffectPic}\r\n                    />\r\n\r\n                    <div\r\n                        className=\"pos-abs right-0 top-0\"\r\n                        onClick={closeEffectPic}\r\n                    >\r\n                        <div className=\"padding-4px\">\r\n                            <span className=\"text-white font-500\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreatePicMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsPost from '../../../../../../_icons_svg/icons_post/IconsPost';\r\n//\r\nimport './StoryCPActionsMb.scss';\r\n\r\n//\r\nStoryCPActionsMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPActionsMb({ mode, openAddText, changeModePic, openTagFriend }) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPActionsMb text-white font-500 font-13px\">\r\n            <div></div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={openAddText}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Text</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <span>Aa</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={changeModePic}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Pic</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <span>{mode}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={openTagFriend}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Tag</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <IconsPost size_icon=\"1rem\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPActionsMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport TextareaNotSend from '../../../../../input/textarea/TextareaNotSend';\r\n// \r\nimport './StoryCPAddTextMb.scss';\r\n\r\n//\r\nStoryCPAddTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPAddTextMb({ text, handleChange }) {\r\n    //\r\n    return (\r\n        <TextareaNotSend\r\n            name=\"story_input\"\r\n            text={text}\r\n            placeholder=\"START TYPING\"\r\n            textarea_class=\"StoryCPAddTextMb pos-abs-center overflow-y-auto scroll-thin text-align-center text-white font-500 font-18px\"\r\n            onChange={handleChange}\r\n        />\r\n    );\r\n}\r\n\r\nexport default StoryCPAddTextMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsArrow from '../../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport StoryCPEditPicActionsMb from '../actions/StoryCPEditPicActionsMb';\r\n//\r\nimport './StoryCPEditPicMb.scss';\r\n\r\n//\r\nStoryCPEditPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEditPicMb({\r\n    open_edit_pic,\r\n    mode,\r\n    can_undo,\r\n    can_redo,\r\n\r\n    toggleEditPic,\r\n    openEffectPic,\r\n    undoEditPic,\r\n    redoEditPic,\r\n    changeModePic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPEditPicMb pos-rel\">\r\n            <div\r\n                className={`StoryCPEditPicMb_row display-flex align-items-center ${\r\n                    open_edit_pic ? 'w-100per' : 'width-0'\r\n                }`}\r\n            >\r\n                <div\r\n                    className={`StoryCPEditPicMb_toggle display-flex-center brs-50 bg-blue ${\r\n                        open_edit_pic\r\n                            ? 'StoryCPEditPicMb_toggle-close'\r\n                            : 'StoryCPEditPicMb_toggle-open opacity-05'\r\n                    }`}\r\n                    onClick={toggleEditPic}\r\n                >\r\n                    <IconsArrow y={400} size_icon=\"1rem\" />\r\n                </div>\r\n\r\n                <div\r\n                    className={`StoryCPEditPicMb_right overflow-hidden ${\r\n                        open_edit_pic\r\n                            ? 'StoryCPEditPicMb_right-show flex-grow-1'\r\n                            : 'StoryCPEditPicMb_right-hide'\r\n                    }`}\r\n                >\r\n                    <div className=\"StoryCPEditPicMb_right_contain\">\r\n                        <StoryCPEditPicActionsMb\r\n                            mode={mode}\r\n                            can_undo={can_undo}\r\n                            can_redo={can_redo}\r\n                            openEffectPic={openEffectPic}\r\n                            undoEditPic={undoEditPic}\r\n                            redoEditPic={redoEditPic}\r\n                            changeModePic={changeModePic}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEditPicMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconReUndo from '../../../../../../../_icons_svg/icon_re_undo/IconReUndo';\r\n//\r\nimport './StoryCPEditPicActionsMb.scss';\r\n\r\n//\r\nStoryCPEditPicActionsMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEditPicActionsMb({\r\n    mode,\r\n    can_undo,\r\n    can_redo,\r\n\r\n    openEffectPic,\r\n    undoEditPic,\r\n    redoEditPic,\r\n    changeModePic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPEditPicActionsMb\">\r\n            <div className=\"display-flex\">\r\n                <div>\r\n                    <div className=\"padding-x-8px\" onClick={openEffectPic}>\r\n                        <span className=\"font-500 text-white\">Effect</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    className={`${\r\n                        can_undo ? '' : 'pointer-events-none opacity-05'\r\n                    }`}\r\n                >\r\n                    <div className=\"padding-x-8px\" onClick={undoEditPic}>\r\n                        <IconReUndo />\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    className={`${\r\n                        can_redo ? '' : 'pointer-events-none opacity-05'\r\n                    }`}\r\n                >\r\n                    <div\r\n                        className=\"StoryCPEditPicActionsMb_redo_contain padding-x-8px\"\r\n                        onClick={redoEditPic}\r\n                    >\r\n                        <IconReUndo />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div className=\"padding-x-8px\" onClick={changeModePic}>\r\n                        <span className=\"font-500 text-white\">{mode}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEditPicActionsMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicEffectList from '../../../../../input/pic_effect/_main/PicEffectList';\r\n\r\n//\r\nStoryCPEffectPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEffectPicMb({\r\n    pic,\r\n    effect_arr,\r\n    effect_ix,\r\n    handleChangeEffectPic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"pos-abs bottom-0 w-100per\">\r\n            <div className=\"w-100per overflow-x-auto scroll-height-0\">\r\n                <PicEffectList\r\n                    pic={pic}\r\n                    effect_arr={effect_arr}\r\n                    effect_ix={effect_ix}\r\n                    handleChangeEffect={handleChangeEffectPic}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEffectPicMb;\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../_hooks/useMouseMoveXY';\r\n//\r\nimport './StoryCPPicMb.scss';\r\nimport StoryBgTouch from '../../../../_components/create/mobile/bg_touch/StoryBgTouch';\r\n\r\n//\r\nStoryCPPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPPicMb({\r\n    vid_pic_obj,\r\n    handleResizePic,\r\n    handleMovePic,\r\n    handleTouchEnd,\r\n}) {\r\n    //\r\n    const { vid_pic, mode, effect, trans_x, trans_y, rotate, scale } =\r\n        vid_pic_obj;\r\n\r\n    //\r\n    const ref_main_elm = useRef(null);\r\n    const ref_fake_elm = useRef(null);\r\n\r\n    //\r\n    const {\r\n        handleTouchStart,\r\n        handleTouchMove,\r\n        handleTouchEnd: handleResizeEnd,\r\n    } = use2FingersResize({\r\n        handleResize: handleResizePic,\r\n    });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: handleMovePic,\r\n    });\r\n\r\n    //\r\n    function onTouchStart(e) {\r\n        ref_main_elm.current.style.zIndex = 100;\r\n        ref_fake_elm.current.style.display = 'block';\r\n\r\n        if (\r\n            mode.toUpperCase() == 'MOVE' ||\r\n            (mode.toUpperCase() == 'AUTO' && e.touches.length == 1)\r\n        ) {\r\n            handleStartMove(e);\r\n\r\n            return;\r\n        }\r\n\r\n        if (['RESIZE', 'AUTO'].includes(mode.toUpperCase())) {\r\n            handleTouchStart(e);\r\n        }\r\n    }\r\n\r\n    //\r\n    function onTouchMove(e) {\r\n        handleTouchMove(e);\r\n    }\r\n\r\n    //\r\n    function onTouchEnd(e) {\r\n        handleResizeEnd(e);\r\n        handleTouchEnd();\r\n\r\n        if (e.touches.length == 0) {\r\n            ref_main_elm.current.style.removeProperty('z-index');\r\n            ref_fake_elm.current.style.removeProperty('display');\r\n        }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_main_elm}\r\n            className={`StoryCPPicMb pos-abs left-50per top-50per ${\r\n                mode.toUpperCase() == 'FIXED' ? '' : 'touch-action-none'\r\n            }`}\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={onTouchStart}\r\n            onTouchMove={onTouchMove}\r\n            onTouchEnd={onTouchEnd}\r\n            // onTouchEnd={handleTouchEnd}\r\n        >\r\n            <img\r\n                className=\"StoryCPPicMb_img\"\r\n                src={vid_pic}\r\n                alt=\"\"\r\n                style={{ filter: effect }}\r\n            />\r\n\r\n            <div className=\"pos-abs-100\"></div>\r\n\r\n            <StoryBgTouch ref_fake_elm={ref_fake_elm} scale={scale} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPPicMb;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { handle_API_Friend_L } from '../../../../../../../../_handle_api/profile/ProfileHandleAPI';\r\n//\r\nimport { useDataShowMore } from '../../../../../../../../_hooks/useDataShowMore';\r\nimport { useWaitingLastAction } from '../../../../../../../../_hooks/useWaitingLastAction';\r\n//\r\nimport ScreenBlurShowMore from '../../../../../../../_screen/components/part/foot/ScreenBlurShowMore';\r\n//\r\nimport StoryCPFriendMb from '../friend/StoryCPFriendMb';\r\n//\r\nimport './StoryCPAddTagFriendMb.scss';\r\n\r\n//\r\nStoryCPAddTagFriendMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPAddTagFriendMb({ handleTagFriend }) {\r\n    //\r\n    const [value, setValue] = useState('');\r\n\r\n    //\r\n    const ref_value = useRef('');\r\n\r\n    //\r\n    const { data_state, refreshData_API, getData_API } = useDataShowMore({\r\n        initial_arr: [],\r\n        handle_API_L: (c_count) =>\r\n            handle_API_Friend_L({\r\n                c_count: c_count,\r\n                params: {\r\n                    search: ref_value.current,\r\n                },\r\n            }),\r\n    });\r\n\r\n    const { data_arr, count, is_fetching, has_fetched } = data_state;\r\n\r\n    const { handleWaitingLastAction } = useWaitingLastAction({\r\n        time_waiting: 500,\r\n        callback: refreshData_API,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        getData_API();\r\n    }, []);\r\n\r\n    //\r\n    function handleShowMore() {\r\n        getData_API();\r\n    }\r\n\r\n    //\r\n    function handleChange(e) {\r\n        const new_value = e.target.value;\r\n        setValue(new_value);\r\n\r\n        if (new_value.trim() != ref_value.current.trim()) {\r\n            ref_value.current = new_value;\r\n            handleWaitingLastAction();\r\n        }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCPAddTagFriendMb h-100per\">\r\n            <div className=\"StoryCPAddTagFriendMb_head\">\r\n                <input\r\n                    className=\"StoryCPAddTagFriendMb_input border-none w-100per padding-8px\"\r\n                    type=\"text\"\r\n                    value={value}\r\n                    placeholder=\"Search friend...\"\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"StoryCPAddTagFriendMb_body bg-primary overflow-y-auto\">\r\n                {data_arr.map((user) => (\r\n                    <div key={`${user.id}`}>\r\n                        <StoryCPFriendMb\r\n                            user={user}\r\n                            handleTagFriend={handleTagFriend}\r\n                        />\r\n                    </div>\r\n                ))}\r\n\r\n                <ScreenBlurShowMore\r\n                    is_show_more={data_arr.length < count}\r\n                    is_fetching={is_fetching}\r\n                    handleShowMore={handleShowMore}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPAddTagFriendMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicNameContent from '../../../../../../../picture_name/pic_name_content/PicNameContent';\r\n\r\n//\r\nStoryCPFriendMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPFriendMb({ user, handleTagFriend }) {\r\n    //\r\n    function onClick() {\r\n        handleTagFriend(user);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"padding-8px\">\r\n            <PicNameContent user={user} handleClick={onClick} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPFriendMb;\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../../_hooks/useMouseMoveXY';\r\n//\r\nimport IconsArrow from '../../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport StoryBgTouch from '../../../../../_components/create/mobile/bg_touch/StoryBgTouch';\r\n//\r\nimport './StoryCPTagFriendItemMb.scss';\r\n\r\n//\r\nStoryCPTagFriendItemMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPTagFriendItemMb({\r\n    ix,\r\n    tag_user_obj,\r\n\r\n    changeBgColorIx,\r\n    handleResizeTag,\r\n    handleMoveTag,\r\n    handleDelTag,\r\n}) {\r\n    //\r\n    const { user, bg, color, trans_x, trans_y, rotate, scale } = tag_user_obj;\r\n\r\n    //\r\n    const ref_main_elm = useRef(null);\r\n    const ref_fake_elm = useRef(null);\r\n\r\n    //\r\n    const { handleTouchStart, handleTouchMove, handleTouchEnd } =\r\n        use2FingersResize({\r\n            handleResize: onResizeTag,\r\n        });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: onMoveTag,\r\n    });\r\n\r\n    //\r\n    function onTouchStart(e) {\r\n        ref_main_elm.current.style.zIndex = 100;\r\n        ref_fake_elm.current.style.display = 'block';\r\n\r\n        if (e.touches.length == 1) {\r\n            handleStartMove(e);\r\n        } else {\r\n            handleTouchStart(e);\r\n        }\r\n    }\r\n\r\n    //\r\n    function onTouchMove(e) {\r\n        handleTouchMove(e);\r\n    }\r\n\r\n    //\r\n    function onTouchEnd(e) {\r\n        handleTouchEnd(e);\r\n\r\n        if (e.touches.length == 0) {\r\n            ref_main_elm.current.style.removeProperty('z-index');\r\n            ref_fake_elm.current.style.removeProperty('display');\r\n        }\r\n    }\r\n\r\n    //\r\n    function onResizeTag(data_resize) {\r\n        handleResizeTag({ ...data_resize, ix: ix });\r\n    }\r\n\r\n    //\r\n    function onMoveTag(data_move) {\r\n        handleMoveTag({ ...data_move, ix: ix });\r\n    }\r\n\r\n    //\r\n    function onDelTagFriend() {\r\n        handleDelTag(ix);\r\n    }\r\n\r\n    //\r\n    function onChangeBgColorIx() {\r\n        changeBgColorIx(ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_main_elm}\r\n            className=\"StoryCPTagFriendItemMb pos-abs left-50per top-50per touch-action-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={onTouchStart}\r\n            onTouchMove={onTouchMove}\r\n            onTouchEnd={onTouchEnd}\r\n        >\r\n            <div\r\n                className=\"padding-8px brs-8px text-nowrap\"\r\n                style={{ backgroundColor: bg, color: color }}\r\n            >\r\n                <span className=\"font-500 font-18px\">\r\n                    @ {user.first_name} {user.last_name}\r\n                </span>\r\n            </div>\r\n\r\n            <div\r\n                className=\"StoryCPTagFriendItemMb_close pos-abs left-100per bottom-100per display-none\"\r\n                style={{\r\n                    transform: `translate(-50%, 50%) scale(${1 / scale})`,\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"StoryCPTagFriendItemMb_close_contain display-flex-center bg-always-white brs-50 box-shadow-1\"\r\n                    onClick={onDelTagFriend}\r\n                >\r\n                    <IconsArrow y={400} size_icon=\"1rem\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"pos-abs-100\" onClick={onChangeBgColorIx}></div>\r\n\r\n            <StoryBgTouch ref_fake_elm={ref_fake_elm} scale={scale} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPTagFriendItemMb;\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../_hooks/useMouseMoveXY';\r\n//\r\nimport './StoryCPTextMb.scss';\r\nimport StoryBgTouch from '../../../../_components/create/mobile/bg_touch/StoryBgTouch';\r\n\r\n//\r\nStoryCPTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPTextMb({\r\n    text_obj,\r\n\r\n    openChangeText,\r\n    handleResizeText,\r\n    handleMoveText,\r\n}) {\r\n    //\r\n    const { text, trans_x, trans_y, rotate, scale } = text_obj;\r\n\r\n    //\r\n    const ref_main_elm = useRef(null);\r\n    const ref_fake_elm = useRef(null);\r\n\r\n    //\r\n    const { handleTouchStart, handleTouchMove, handleTouchEnd } =\r\n        use2FingersResize({\r\n            handleResize: handleResizeText,\r\n        });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: handleMoveText,\r\n    });\r\n\r\n    //\r\n    function onTouchStart(e) {\r\n        ref_main_elm.current.style.zIndex = 100;\r\n        ref_fake_elm.current.style.display = 'block';\r\n        if (e.touches.length == 1) {\r\n            handleStartMove(e);\r\n        } else {\r\n            handleTouchStart(e);\r\n        }\r\n    }\r\n\r\n    //\r\n    function onTouchMove(e) {\r\n        handleTouchMove(e);\r\n    }\r\n\r\n    //\r\n    function onTouchEnd(e) {\r\n        handleTouchEnd(e);\r\n\r\n        if (e.touches.length == 0) {\r\n            ref_main_elm.current.style.removeProperty('z-index');\r\n            ref_fake_elm.current.style.removeProperty('display');\r\n        }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            ref={ref_main_elm}\r\n            className=\"StoryCPTextMb pos-abs left-50per top-50per padding-8px brs-8px bg-shadow-9 touch-action-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={onTouchStart}\r\n            onTouchMove={onTouchMove}\r\n            onTouchEnd={onTouchEnd}\r\n            onClick={openChangeText}\r\n        >\r\n            <span className=\"StoryCPTextMb_text text-white font-500 font-18px\">\r\n                {text}\r\n            </span>\r\n\r\n            <div className=\"pos-abs-100\"></div>\r\n\r\n            <StoryBgTouch ref_fake_elm={ref_fake_elm} scale={scale} />\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPTextMb;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { data_story_bg_arr } from '../../../../../../_data/story/text';\r\n//\r\nimport StoryIconCloseMb from '../../../../_components/create/mobile/icon_close/StoryIconCloseMb';\r\nimport StoryCTFootMb from '../foot/StoryCTFootMb';\r\nimport StoryCTInputMb from '../input/StoryCTInputMb';\r\n//\r\nimport './StoryCreateTextMb.scss';\r\n\r\n//\r\nStoryCreateTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCreateTextMb({ handleCreateStory, openPrivacy, handleDiscard }) {\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        active_bg_ix: 0,\r\n        text: '',\r\n    });\r\n\r\n    const { active_bg_ix, text } = state_obj;\r\n\r\n    //\r\n    function handleChange(value) {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            text: value,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function handleChooseBg(new_bg_ix) {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            active_bg_ix: new_bg_ix,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function onCreateStory() {\r\n        handleCreateStory(state_obj);\r\n    }\r\n\r\n    //\r\n    function onDiscard() {\r\n        handleDiscard(!!text.trim());\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreateTextMb wh-100\">\r\n            <img\r\n                src={data_story_bg_arr[active_bg_ix]}\r\n                alt=\"\"\r\n                className=\"wh-100\"\r\n            />\r\n\r\n            <div className=\"pos-abs left-0 top-0\">\r\n                <StoryIconCloseMb handleDiscard={onDiscard} />\r\n            </div>\r\n\r\n            <div className=\"StoryCreateTextMb_input pos-abs-center\">\r\n                <StoryCTInputMb text={text} handleChange={handleChange} />\r\n            </div>\r\n\r\n            <div className=\"pos-abs bottom-0 left-0 w-100per\">\r\n                <StoryCTFootMb\r\n                    active_bg_ix={active_bg_ix}\r\n                    bg_img_arr={data_story_bg_arr}\r\n                    can_share={text.trim()}\r\n                    //\r\n                    handleChooseBg={handleChooseBg}\r\n                    openPrivacy={openPrivacy}\r\n                    handleCreateStory={onCreateStory}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreateTextMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport BgImgList from '../../../../../input/bg_img/_main/BgImgList';\r\n//\r\nimport StoryBtnPrivacyMb from '../../../../_components/create/mobile/privacy/StoryBtnPrivacyMb';\r\nimport StoryBtnShareMb from '../../../../_components/create/mobile/btn_share/StoryBtnShareMb';\r\n//\r\nimport './StoryCTFootMb.scss';\r\n\r\n//\r\nStoryCTFootMb.propTypes = {};\r\n\r\nfunction StoryCTFootMb({\r\n    active_bg_ix,\r\n    bg_img_arr,\r\n    can_share,\r\n\r\n    handleChooseBg,\r\n    openPrivacy,\r\n    handleCreateStory,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCTFootMb padding-8px\">\r\n            <div className=\"StoryCTFootMb_bg\">\r\n                <BgImgList\r\n                    active_ix={active_bg_ix}\r\n                    bg_img_arr={bg_img_arr}\r\n                    handleChooseBg={handleChooseBg}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex-between-center\">\r\n                <div>\r\n                    <StoryBtnPrivacyMb openPrivacy={openPrivacy} />\r\n                </div>\r\n\r\n                <div>\r\n                    <StoryBtnShareMb\r\n                        can_share={can_share}\r\n                        handleCreateStory={handleCreateStory}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCTFootMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport TextareaNotSend from '../../../../../input/textarea/TextareaNotSend';\r\n//\r\nimport './StoryCTInputMb.scss';\r\n\r\n//\r\nStoryCTInputMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCTInputMb({ text, handleChange }) {\r\n    //\r\n    return (\r\n        // <div className=\" h-100per\">\r\n            <TextareaNotSend\r\n                name=\"story_input\"\r\n                text={text}\r\n                placeholder=\"START TYPING\"\r\n                textarea_class=\"StoryCTInputMb_textarea pos-abs-center overflow-y-auto scroll-thin text-align-center text-white font-500 font-18px\"\r\n                onChange={handleChange}\r\n            />\r\n        // </div>\r\n    );\r\n}\r\n\r\nexport default StoryCTInputMb;\r\n"],"sourceRoot":""}