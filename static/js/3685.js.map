{"version":3,"sources":["webpack://my_webpack/./src/_hooks/use2FingersResize.js","webpack://my_webpack/./src/component/_screen/type/story/mobile/create/ScreenStoryCreateMb.js","webpack://my_webpack/./src/component/input/pic_effect/_main/PicEffectList.js","webpack://my_webpack/./src/component/input/pic_effect/item/PicEffectItem.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/btn_share/StoryBtnShareMb.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/icon_close/StoryIconCloseMb.js","webpack://my_webpack/./src/component/story_fb/_components/create/mobile/privacy/StoryBtnPrivacyMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/_main/StoryCreateMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/home/_main/StoryCHomeMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/home/head/StoryCHHeadMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/_main/StoryCreatePicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/actions/StoryCPActionsMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/add_text/StoryCPAddTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/edit_pic/_main/StoryCPEditPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/edit_pic/actions/StoryCPEditPicActionsMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/effect_pic/StoryCPEffectPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/pic/StoryCPPicMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/add/_main/StoryCPAddTagFriendMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/add/friend/StoryCPFriendMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/tag_friend/tag/StoryCPTagFriendItemMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/pic/text/StoryCPTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/_main/StoryCreateTextMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/foot/StoryCTFootMb.js","webpack://my_webpack/./src/component/story_fb/mobile/create/text/input/StoryCTInputMb.js"],"names":["handleResize","handleResizeEnd","is_run","useRef","client_x_0","client_y_0","client_x_1","client_y_1","client_length_start","client_length","getClientLength","e","getTouchClientXY","new_client_x_0","client_x","new_client_y_0","client_y","new_client_x_1","new_client_y_1","current","handleStartResize","touches","length","window","ontouchmove","handleMove","ontouchend","handleEnd","new_client_length","client_change","handleStart","ontouchstart","handleElmTouchEnd","openScreenCreateStoryMb","openScreenFloor","has_history","hidden_before","FloorComponent","StoryCreateMb","ScreenStoryCreateMb","closeScreen","useContext","context_api","useEffect","propTypes","PicEffectList","effect_arr","effect_ix","pic","handleChangeEffect","className","map","item","ix","key","is_active","effect","PicEffectItem","onClick","src","alt","style","filter","StoryBtnShareMb","can_share","handleCreateStory","x","y","StoryIconCloseMb","handleDiscard","size_icon","StoryBtnPrivacyMb","openPrivacy","stroke","useState","create_type","vid_pic","vid_pic_width","permission","state_obj","setStateObj","changeScreenStory","new_type","handleChoosePermission","openScreenPermission","data","console","log","openScreenConfirm","title","notification","handleConfirm","handleDiscardText","has_text","useMakeBodyHidden","hidden_app","hidden_header","blur_header","document","openScreenStoryText","openScreenStoryPic","data_files","new_vid_pic","vid_pics","files","PropTypes","func","StoryCHomeMb","StoryCHHeadMb","StoryCreatePicMb","story_width","vid_pic_obj","mode","data_story_pic_edit_mode_arr","mode_ix","data_story_effect_arr","trans_x","trans_y","scale","rotate","text_obj","text","tag_user_arr","open_add_text","open_effect_pic","open_add_friend","open_edit_pic","history_touch_arr","active_touch_ix","undoRedoEditPic","undo_or_redo","closeEffectPic","changeModePic","new_vid_pic_obj","new_mode_ix","openAddText","closeAddText","closeTagFriend","handleMoveTagFriend","client_x_change","client_y_change","new_tag_user_arr","handleResizeTagFriend","MIN_SCALE_TEXT_TAG","SCALE_PIC_RATIO","changeBgColorIx","new_bg_color_ix","bg_color_ix","data_story_tag_bg_color_arr","bg","color","handleDelTagFriend","tag_user_ix","splice","handleTouchEnd","c_trans_x","c_trans_y","c_scale","c_rotate","handleResizePic","handleMovePic","handleChange","value","new_text_obj","trim","openChangeText","handleResizeText","handleMoveText","tag_user_obj","user","id","handleDelTag","handleResizeTag","handleMoveTag","openTagFriend","toggleEditPic","openEffectPic","undoEditPic","redoEditPic","toUpperCase","handleRotate","new_rotate","handleTagFriend","tag_user","handleChangeEffectPic","new_effect_ix","StoryCPActionsMb","StoryCPAddTextMb","name","placeholder","textarea_class","onChange","StoryCPEditPicMb","StoryCPEditPicActionsMb","StoryCPEffectPicMb","StoryCPPicMb","use2FingersResize","handleStartMove","useMouseMoveXY","handleMouseMove","transform","onTouchStart","onTouchEnd","StoryCPAddTagFriendMb","setValue","ref_value","useDataShowMore","initial_arr","handle_API_L","c_count","handle_API_Friend_L","params","search","data_state","refreshData_API","getData_API","data_arr","count","is_fetching","handleWaitingLastAction","has_fetched","useWaitingLastAction","time_waiting","callback","type","new_value","target","is_show_more","handleShowMore","StoryCPFriendMb","handleClick","StoryCPTagFriendItemMb","data_resize","data_move","backgroundColor","first_name","last_name","StoryCPTextMb","onDoubleClick","StoryCreateTextMb","active_bg_ix","data_story_bg_arr","bg_img_arr","handleChooseBg","new_bg_ix","StoryCTFootMb","active_ix","StoryCTInputMb"],"mappings":"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","file":"static/js/3685.js","sourcesContent":["import { useRef } from 'react';\r\n//\r\nimport { getTouchClientXY } from '../_some_function/getClientXY';\r\n\r\n//\r\nexport function use2FingersResize({\r\n    handleResize = () => {},\r\n    handleResizeEnd = () => {},\r\n}) {\r\n    //\r\n    const is_run = useRef(false);\r\n\r\n    const client_x_0 = useRef(0);\r\n    const client_y_0 = useRef(0);\r\n    const client_x_1 = useRef(0);\r\n    const client_y_1 = useRef(0);\r\n\r\n    const client_length_start = useRef(0);\r\n    const client_length = useRef(0);\r\n\r\n    //\r\n    function getClientLength(e) {\r\n        const { client_x: new_client_x_0, client_y: new_client_y_0 } =\r\n            getTouchClientXY(e, 0);\r\n\r\n        const { client_x: new_client_x_1, client_y: new_client_y_1 } =\r\n            getTouchClientXY(e, 1);\r\n\r\n        client_x_0.current = new_client_x_0;\r\n        client_y_0.current = new_client_y_0;\r\n        client_x_1.current = new_client_x_1;\r\n        client_y_1.current = new_client_y_1;\r\n\r\n        return (\r\n            ((new_client_x_1 - new_client_x_0) ** 2 +\r\n                (new_client_y_1 - new_client_y_0) ** 2) **\r\n            0.5\r\n        );\r\n    }\r\n\r\n    //\r\n    function handleStartResize(e) {\r\n        if (e.touches.length != 2) {\r\n            return;\r\n        }\r\n\r\n        window.ontouchmove = handleMove;\r\n        window.ontouchend = handleEnd;\r\n\r\n        is_run.current = true;\r\n\r\n        client_length_start.current = getClientLength(e);\r\n        client_length.current = client_length_start.current;\r\n    }\r\n\r\n    //\r\n    function handleStart(e) {\r\n        window.ontouchstart = handleStartResize;\r\n    }\r\n\r\n    //\r\n    function handleMove(e) {\r\n        if (!is_run.current) {\r\n            return;\r\n        }\r\n\r\n        const new_client_length = getClientLength(e);\r\n\r\n        handleResize({\r\n            client_change: new_client_length - client_length.current,\r\n            client_x_0: client_x_0.current,\r\n            client_x_1: client_x_1.current,\r\n            client_y_0: client_y_0.current,\r\n            client_y_1: client_y_1.current,\r\n        });\r\n        client_length.current = new_client_length;\r\n    }\r\n\r\n    //\r\n    function handleEnd() {\r\n        is_run.current = false;\r\n        handleResizeEnd();\r\n\r\n        // window.ontouchstart = null\r\n        window.ontouchmove = null;\r\n        window.ontouchend = null;\r\n    }\r\n\r\n    //\r\n    function handleElmTouchEnd() {\r\n        is_run.current = false;\r\n        handleResizeEnd();\r\n\r\n        window.ontouchstart = null\r\n        window.ontouchmove = null;\r\n        window.ontouchend = null;\r\n    }\r\n\r\n    //\r\n    return {\r\n        handleStart,\r\n        handleElmTouchEnd,\r\n    };\r\n}\r\n","import React, { useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../../_context/ContextAPI';\r\n// \r\n// import { useMakeBodyHidden } from '../../../../../../_hooks/useMakeBodyHidden';\r\n// \r\nimport StoryCreateMb from '../../../../../story_fb/mobile/create/_main/StoryCreateMb';\r\n\r\n//\r\nexport function openScreenCreateStoryMb({\r\n    openScreenFloor = () => {},\r\n    has_history = true,\r\n    hidden_before = true,\r\n}) {\r\n    openScreenFloor({\r\n        FloorComponent: StoryCreateMb,\r\n        has_history: has_history,\r\n        hidden_before: hidden_before,\r\n    });\r\n}\r\n\r\n//\r\nScreenStoryCreateMb.propTypes = {};\r\n\r\n//\r\nfunction ScreenStoryCreateMb({ closeScreen }) {\r\n    // \r\n    const {openScreenFloor} = useContext(context_api)\r\n\r\n    //\r\n    // useMakeBodyHidden({\r\n    //     hidden_app: true,\r\n    //     hidden_header: true,\r\n    //     blur_header: true,\r\n    // });\r\n\r\n    useEffect(() => {\r\n        openScreenCreateStoryMb({\r\n            openScreenFloor: openScreenFloor\r\n        })\r\n    }, [])\r\n\r\n    //\r\n    // return <StoryCreateMb closeScreen={closeScreen} />;\r\n    return null\r\n}\r\n\r\nexport default ScreenStoryCreateMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicEffectItem from '../item/PicEffectItem';\r\n\r\n//\r\nPicEffectList.propTypes = {};\r\n\r\n//\r\nfunction PicEffectList({ effect_arr, effect_ix, pic, handleChangeEffect }) {\r\n    //\r\n    return (\r\n        <div className=\"PicEffectList padding-4px\">\r\n            <div className=\"display-flex\">\r\n                {effect_arr.map((item, ix) => (\r\n                    <div key={`${ix}`}>\r\n                        <PicEffectItem\r\n                            ix={ix}\r\n                            is_active={effect_ix == ix}\r\n                            effect={item}\r\n                            pic={pic}\r\n                            handleChangeEffect={handleChangeEffect}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PicEffectList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport './PicEffectItem.scss';\r\n\r\n//\r\nPicEffectItem.propTypes = {};\r\n\r\n//\r\nfunction PicEffectItem({ ix, is_active, pic, effect, handleChangeEffect }) {\r\n    //\r\n    function onChangeEffect() {\r\n        handleChangeEffect(ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"PicEffectItem padding-4px\" onClick={onChangeEffect}>\r\n            <img\r\n                className={`wh-100 brs-8px ${\r\n                    is_active ? 'PicEffectItem-active' : ''\r\n                }`}\r\n                src={pic}\r\n                alt=\"\"\r\n                style={{ filter: effect }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PicEffectItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsAction from '../../../../../../_icons_svg/icons_action/IconsAction';\r\n\r\n//\r\nStoryBtnShareMb.propTypes = {};\r\n\r\n//\r\nfunction StoryBtnShareMb({ can_share, handleCreateStory }) {\r\n    //\r\n    return (\r\n        <div\r\n            className={`StoryBtnShareMb padding-8px brs-5px cursor-pointer ${\r\n                can_share ? 'bg-blue' : 'bg-always-white pointer-events-none'\r\n            }`}\r\n            onClick={handleCreateStory}\r\n        >\r\n            <div className=\"display-flex align-items-center\">\r\n                <div>\r\n                    <span\r\n                        className={`label-field ${\r\n                            can_share ? 'text-white' : 'text-secondary-50per'\r\n                        }`}\r\n                    >\r\n                        Share story\r\n                    </span>\r\n                </div>\r\n\r\n                <div className=\"margin-left-5px\">\r\n                    <IconsAction x={200} y={200} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryBtnShareMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsArrow from '../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n\r\n//\r\nStoryIconCloseMb.propTypes = {};\r\n\r\n//\r\nfunction StoryIconCloseMb({ handleDiscard }) {\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryIconCloseMb padding-4px\"\r\n            onClick={handleDiscard}\r\n        >\r\n            <IconsArrow y={400} size_icon=\"1.5rem\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryIconCloseMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconSetting from '../../../../../../_icons_svg/icon_setting/IconSetting';\r\n\r\n//\r\nStoryBtnPrivacyMb.propTypes = {};\r\n\r\n//\r\nfunction StoryBtnPrivacyMb({ openPrivacy }) {\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryBtnPrivacyMb padding-4px brs-5px cursor-pointer\"\r\n            onClick={openPrivacy}\r\n        >\r\n            <div className=\"display-flex flex-col align-items-center\">\r\n                <div>\r\n                    <IconSetting stroke=\"white\" />\r\n                </div>\r\n\r\n                <div>\r\n                    <span className=\"label-field text-white\">Privacy</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryBtnPrivacyMb;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { context_api } from '../../../../../_context/ContextAPI';\r\n//\r\nimport { openScreenConfirm } from '../../../../_screen/type/confirm/ScreenConfirm';\r\nimport { openScreenPermission } from '../../../../_screen/type/permission/_main/ScreenPermission';\r\n//\r\nimport { useMakeBodyHidden } from '../../../../../_hooks/useMakeBodyHidden';\r\n//\r\nimport StoryCHomeMb from '../home/_main/StoryCHomeMb';\r\nimport StoryCreateTextMb from '../text/_main/StoryCreateTextMb';\r\nimport StoryCreatePicMb from '../pic/_main/StoryCreatePicMb';\r\n\r\n//\r\nStoryCreateMb.propTypes = {\r\n    closeScreen: PropTypes.func,\r\n};\r\n\r\n//\r\nfunction StoryCreateMb({ closeScreen }) {\r\n    //\r\n    const { openScreenFloor } = useContext(context_api);\r\n\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        create_type: '',\r\n        vid_pic: '',\r\n        vid_pic_width: 0,\r\n        permission: 0,\r\n    });\r\n\r\n    const { create_type, vid_pic, vid_pic_width, permission } = state_obj;\r\n\r\n    //\r\n    useMakeBodyHidden({\r\n        hidden_app: true,\r\n        hidden_header: true,\r\n        blur_header: true,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        document.title = 'Create story';\r\n    }, []);\r\n\r\n    /* ---- TYPE ---- */\r\n\r\n    //\r\n    function changeScreenStory(new_type = '') {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            create_type: new_type,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function openScreenStoryText() {\r\n        changeScreenStory('text');\r\n    }\r\n\r\n    //\r\n    function openScreenStoryPic(data_files) {\r\n        const new_vid_pic = data_files.vid_pics[0].vid_pic;\r\n        const files = data_files.files;\r\n\r\n        console.log(files);\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            create_type: 'pic',\r\n            vid_pic: new_vid_pic,\r\n        });\r\n    }\r\n\r\n    /* ----- PERMISSION + CREATE ---- */\r\n\r\n    //\r\n    function handleChoosePermission(ix) {\r\n        setStateObj({\r\n            ...state_obj,\r\n            permission: ix,\r\n        });\r\n    }\r\n\r\n    //\r\n    function openPrivacy() {\r\n        openScreenPermission({\r\n            openScreenFloor: openScreenFloor,\r\n            permission: permission,\r\n            handleChoosePermission: handleChoosePermission,\r\n        });\r\n    }\r\n\r\n    /* ----- CREATE ----- */\r\n\r\n    //\r\n    function handleCreateStory(data) {\r\n        console.log(data);\r\n    }\r\n\r\n    /* ----- DISCARD ----- */\r\n\r\n    //\r\n    function handleDiscard() {\r\n        openScreenConfirm({\r\n            openScreenFloor: openScreenFloor,\r\n            title: 'Discard story?',\r\n            notification:\r\n                \"Are you sure that you want to discard this story? Your story won't be saved.\",\r\n            handleConfirm: changeScreenStory,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleDiscardText(has_text = false) {\r\n        if (has_text) {\r\n            handleDiscard();\r\n        } else {\r\n            changeScreenStory();\r\n        }\r\n    }\r\n\r\n    //\r\n    function handleCloseStoryCreate() {\r\n        closeScreen();\r\n    }\r\n\r\n    //\r\n    // function handleCloseScreen() {\r\n    //     if (create_type == '') {\r\n    //         handleCloseStoryCreate();\r\n\r\n    //         return;\r\n    //     }\r\n\r\n    //     openScreenConfirm({\r\n    //         openScreenFloor: openScreenFloor,\r\n    //         title: 'Discard story?',\r\n    //         notification:\r\n    //             \"Are you sure that you want to discard this story? Your story won't be saved.\",\r\n    //         handleConfirm: handleCloseStoryCreate,\r\n    //     });\r\n    // }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreateMb wh-100v\">\r\n            {create_type == '' ? (\r\n                <StoryCHomeMb\r\n                    openScreenStoryText={openScreenStoryText}\r\n                    openScreenStoryPic={openScreenStoryPic}\r\n                />\r\n            ) : create_type == 'text' ? (\r\n                <StoryCreateTextMb\r\n                    handleCreateStory={handleCreateStory}\r\n                    openPrivacy={openPrivacy}\r\n                    handleDiscard={handleDiscardText}\r\n                />\r\n            ) : (\r\n                <StoryCreatePicMb\r\n                    vid_pic={vid_pic}\r\n                    handleCreateStory={handleCreateStory}\r\n                    openPrivacy={openPrivacy}\r\n                    handleDiscard={handleDiscardText}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreateMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryCHHeadMb from '../head/StoryCHHeadMb';\r\n\r\n//\r\nStoryCHomeMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCHomeMb({ openScreenStoryText, openScreenStoryPic }) {\r\n    //\r\n    return (\r\n        <div>\r\n            <h2 className=\"padding-8px text-align-center\">Create story</h2>\r\n\r\n            <div>\r\n                <StoryCHHeadMb\r\n                    openScreenStoryText={openScreenStoryText}\r\n                    openScreenStoryPic={openScreenStoryPic}\r\n                />\r\n            </div>\r\n\r\n            <div></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCHomeMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport StoryCreateTextChoice from '../../../../_components/create/choose/text/StoryCreateTextChoice';\r\nimport StoryCreatePicChoice from '../../../../_components/create/choose/vid_pic/StoryCreatePicChoice';\r\n//\r\nimport './StoryCHHeadMb.scss';\r\n\r\n//\r\nStoryCHHeadMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCHHeadMb({ openScreenStoryText, openScreenStoryPic }) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCHHeadMb\">\r\n            <div className=\"display-flex\">\r\n                <div className=\"StoryCHHeadMb_item pos-rel\">\r\n                    <div className=\"pos-abs-100 padding-4px \">\r\n                        <div className=\"wh-100 brs-8px overflow-hidden\">\r\n                            <StoryCreateTextChoice\r\n                                title=\"Text\"\r\n                                openScreenStoryText={openScreenStoryText}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"StoryCHHeadMb_item pos-rel\">\r\n                    <div className=\"pos-abs-100 padding-4px\">\r\n                        <div className=\"wh-100 brs-8px overflow-hidden\">\r\n                            <StoryCreatePicChoice\r\n                                title=\"Photo\"\r\n                                openScreenStoryPic={openScreenStoryPic}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCHHeadMb;\r\n","import React, { useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { SCALE_PIC_RATIO } from '../../../../../../_constant/Constant';\r\n//\r\nimport { initial_user } from '../../../../../../_initial/user/initialUser';\r\nimport {\r\n    data_story_effect_arr,\r\n    data_story_pic_edit_mode_arr,\r\n    data_story_tag_bg_color_arr,\r\n    MIN_SCALE_TEXT_TAG,\r\n} from '../../../../../../_data/story/text';\r\n//\r\nimport StoryIconCloseMb from '../../../../_components/create/mobile/icon_close/StoryIconCloseMb';\r\nimport StoryBtnPrivacyMb from '../../../../_components/create/mobile/privacy/StoryBtnPrivacyMb';\r\nimport StoryBtnShareMb from '../../../../_components/create/mobile/btn_share/StoryBtnShareMb';\r\nimport StoryCPTextMb from '../text/StoryCPTextMb';\r\nimport StoryCPPicMb from '../pic/StoryCPPicMb';\r\nimport StoryCPActionsMb from '../actions/StoryCPActionsMb';\r\nimport StoryCPAddTextMb from '../add_text/StoryCPAddTextMb';\r\nimport StoryCPEffectPicMb from '../effect_pic/StoryCPEffectPicMb';\r\nimport StoryCPTagFriendItemMb from '../tag_friend/tag/StoryCPTagFriendItemMb';\r\nimport StoryCPAddTagFriendMb from '../tag_friend/add/_main/StoryCPAddTagFriendMb';\r\nimport StoryCPEditPicMb from '../edit_pic/_main/StoryCPEditPicMb';\r\nimport StoryRotatePic from '../../../../_components/create/story_pic/rotate/StoryRotatePic';\r\n//\r\nimport './StoryCreatePicMb.scss';\r\n\r\n//\r\nStoryCreatePicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCreatePicMb({\r\n    vid_pic,\r\n    openPrivacy,\r\n    handleCreateStory,\r\n    handleDiscard,\r\n}) {\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        story_width: 0,\r\n\r\n        vid_pic_obj: {\r\n            vid_pic: vid_pic,\r\n            mode: data_story_pic_edit_mode_arr[0],\r\n            mode_ix: 0,\r\n            effect: data_story_effect_arr[0],\r\n            effect_ix: 0,\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            scale: 1,\r\n            rotate: 0, // 0 90 180 270\r\n        },\r\n\r\n        text_obj: {\r\n            text: '',\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            rotate: 0,\r\n            scale: 1,\r\n        },\r\n\r\n        tag_user_arr: [] || [\r\n            {\r\n                user: initial_user(),\r\n                bg_color_ix: 0,\r\n                ...data_story_tag_bg_color_arr[0],\r\n                trans_x: 0,\r\n                trans_y: 0,\r\n                rotate: 0,\r\n                scale: 1,\r\n            },\r\n        ],\r\n\r\n        open_add_text: false,\r\n        open_effect_pic: false,\r\n        open_add_friend: false,\r\n        open_edit_pic: false,\r\n    });\r\n\r\n    const {\r\n        vid_pic_obj,\r\n        text_obj,\r\n        tag_user_arr,\r\n\r\n        open_add_text,\r\n        open_add_friend,\r\n        open_effect_pic,\r\n        open_edit_pic,\r\n    } = state_obj;\r\n\r\n    const bg_pic = '';\r\n\r\n    //\r\n    const history_touch_arr = useRef([\r\n        {\r\n            trans_x: 0,\r\n            trans_y: 0,\r\n            scale: 1,\r\n            rotate: 0,\r\n        },\r\n    ]);\r\n    const active_touch_ix = useRef(0);\r\n\r\n    /* ------- PIC ------- */\r\n\r\n    //\r\n    function toggleEditPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_edit_pic: !open_edit_pic,\r\n        });\r\n    }\r\n\r\n    /*------*/\r\n    function undoRedoEditPic(undo_or_redo = true) {\r\n        setStateObj((state_obj) => {\r\n            active_touch_ix.current += undo_or_redo ? -1 : 1;\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: {\r\n                    ...state_obj.vid_pic_obj,\r\n                    ...history_touch_arr.current[active_touch_ix.current],\r\n                },\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function undoEditPic() {\r\n        if (active_touch_ix.current == 0) {\r\n            return;\r\n        }\r\n\r\n        undoRedoEditPic(true);\r\n    }\r\n\r\n    //\r\n    function redoEditPic() {\r\n        if (active_touch_ix.current == history_touch_arr.length - 1) {\r\n            return;\r\n        }\r\n\r\n        undoRedoEditPic(false);\r\n    }\r\n\r\n    /*------*/\r\n    function openEffectPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_effect_pic: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeEffectPic() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_effect_pic: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleChangeEffectPic(new_effect_ix) {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            new_vid_pic_obj.effect_ix = new_effect_ix;\r\n            new_vid_pic_obj.effect = data_story_effect_arr[new_effect_ix];\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    /*------*/\r\n    function changeModePic() {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            const new_mode_ix =\r\n                (new_vid_pic_obj.mode_ix + 1) %\r\n                data_story_pic_edit_mode_arr.length;\r\n\r\n            new_vid_pic_obj.mode_ix = new_mode_ix;\r\n            new_vid_pic_obj.mode = data_story_pic_edit_mode_arr[new_mode_ix];\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMovePic({ client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: {\r\n                    ...state_obj.vid_pic_obj,\r\n                    trans_x: state_obj.vid_pic_obj.trans_x + client_x_change,\r\n                    trans_y: state_obj.vid_pic_obj.trans_y + client_y_change,\r\n                },\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizePic({ client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n\r\n            if (new_vid_pic_obj.scale <= 0.25 && client_change < 0) {\r\n                new_vid_pic_obj.scale = 0.25;\r\n            } else {\r\n                new_vid_pic_obj.scale += client_change / (SCALE_PIC_RATIO * 4);\r\n            }\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleRotatePic() {\r\n        setStateObj((state_obj) => {\r\n            const new_vid_pic_obj = { ...state_obj.vid_pic_obj };\r\n            const new_rotate = new_vid_pic_obj.rotate + 90;\r\n            new_vid_pic_obj.rotate = new_rotate >= 360 ? 0 : new_rotate;\r\n\r\n            return {\r\n                ...state_obj,\r\n                vid_pic_obj: new_vid_pic_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleTouchEndPic() {\r\n        const { trans_x, trans_y, scale, rotate } = vid_pic_obj;\r\n        const {\r\n            trans_x: c_trans_x,\r\n            trans_y: c_trans_y,\r\n            scale: c_scale,\r\n            rotate: c_rotate,\r\n        } = history_touch_arr.current[active_touch_ix.current];\r\n\r\n        if (\r\n            trans_x == c_trans_x &&\r\n            trans_y == c_trans_y &&\r\n            scale == c_scale &&\r\n            rotate == c_rotate\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        active_touch_ix.current += 1;\r\n\r\n        history_touch_arr.current.splice(\r\n            active_touch_ix.current,\r\n            history_touch_arr.current.length,\r\n            {\r\n                trans_x: trans_x,\r\n                trans_y: trans_y,\r\n                scale: scale,\r\n                rotate: rotate,\r\n            }\r\n        );\r\n\r\n        // console.log(history_touch_arr.current);\r\n    }\r\n\r\n    /* ----- TEXT ----- */\r\n\r\n    //\r\n    function openAddText() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_text: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeAddText() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_text: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleChangeText(value) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n            new_text_obj.text = value;\r\n\r\n            return {\r\n                ...state_obj,\r\n                text_obj: new_text_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMoveText({ client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n\r\n            new_text_obj.trans_x += client_x_change;\r\n            new_text_obj.trans_y += client_y_change;\r\n\r\n            return { ...state_obj, text_obj: new_text_obj };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizeText({ client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_text_obj = { ...state_obj.text_obj };\r\n\r\n            if (new_text_obj.scale <= MIN_SCALE_TEXT_TAG && client_change < 0) {\r\n                new_text_obj.scale = MIN_SCALE_TEXT_TAG;\r\n            } else {\r\n                new_text_obj.scale += client_change / (SCALE_PIC_RATIO * 4);\r\n            }\r\n\r\n            return {\r\n                ...state_obj,\r\n                text_obj: new_text_obj,\r\n            };\r\n        });\r\n    }\r\n\r\n    /* ------ TAG ----- */\r\n\r\n    //\r\n    function openTagFriend() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_friend: true,\r\n        });\r\n    }\r\n\r\n    //\r\n    function closeTagFriend() {\r\n        setStateObj({\r\n            ...state_obj,\r\n            open_add_friend: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleTagFriend(tag_user = {}) {\r\n        setStateObj({\r\n            ...state_obj,\r\n            tag_user_arr: [\r\n                ...state_obj.tag_user_arr,\r\n                {\r\n                    user: tag_user,\r\n                    bg_color_ix: 0,\r\n                    ...data_story_tag_bg_color_arr[0],\r\n                    trans_x: 0,\r\n                    trans_y: 0,\r\n                    rotate: 0,\r\n                    scale: 1,\r\n                },\r\n            ],\r\n            open_add_friend: false,\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleMoveTagFriend({ ix, client_x_change, client_y_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n\r\n            new_tag_user_arr[ix].trans_x += client_x_change;\r\n            new_tag_user_arr[ix].trans_y += client_y_change;\r\n\r\n            return { ...state_obj, tag_user_arr: new_tag_user_arr };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleResizeTagFriend({ ix, client_change }) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n\r\n            if (\r\n                new_tag_user_arr[ix].scale <= MIN_SCALE_TEXT_TAG &&\r\n                client_change < 0\r\n            ) {\r\n                new_tag_user_arr[ix].scale = MIN_SCALE_TEXT_TAG;\r\n            } else {\r\n                new_tag_user_arr[ix].scale +=\r\n                    client_change / (SCALE_PIC_RATIO * 4);\r\n            }\r\n\r\n            return {\r\n                ...state_obj,\r\n                tag_user_arr: new_tag_user_arr,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function changeBgColorIx(ix) {\r\n        setStateObj((state_obj) => {\r\n            const new_tag_user_arr = [...state_obj.tag_user_arr];\r\n            const new_bg_color_ix =\r\n                (new_tag_user_arr[ix].bg_color_ix + 1) %\r\n                data_story_tag_bg_color_arr.length;\r\n\r\n            new_tag_user_arr[ix].bg_color_ix = new_bg_color_ix;\r\n            new_tag_user_arr[ix].bg =\r\n                data_story_tag_bg_color_arr[new_bg_color_ix].bg;\r\n            new_tag_user_arr[ix].color =\r\n                data_story_tag_bg_color_arr[new_bg_color_ix].color;\r\n\r\n            return {\r\n                ...state_obj,\r\n                tag_user_arr: new_tag_user_arr,\r\n            };\r\n        });\r\n    }\r\n\r\n    //\r\n    function handleDelTagFriend(tag_user_ix) {\r\n        const new_tag_user_arr = [...tag_user_arr];\r\n        new_tag_user_arr.splice(tag_user_ix, 1);\r\n\r\n        setStateObj({\r\n            ...state_obj,\r\n            tag_user_arr: new_tag_user_arr,\r\n        });\r\n    }\r\n\r\n    /* ------ CREATE ----- */\r\n\r\n    //\r\n    function onCreateStory() {\r\n        handleCreateStory(state_obj);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreatePicMb wh-100 pos-rel overflow-hidden\">\r\n            <img\r\n                src={vid_pic}\r\n                alt=\"\"\r\n                className=\"wh-100\"\r\n                style={{ filter: `blur(100px)` }}\r\n            />\r\n\r\n            <StoryCPPicMb\r\n                vid_pic_obj={vid_pic_obj}\r\n                handleTouchEnd={handleTouchEndPic}\r\n                handleResizePic={handleResizePic}\r\n                handleMovePic={handleMovePic}\r\n            />\r\n\r\n            {open_add_text ? (\r\n                <div className=\"pos-abs-100 z-index-lv1\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-loader\"\r\n                        onClick={closeAddText}\r\n                    ></div>\r\n\r\n                    <StoryCPAddTextMb\r\n                        text={text_obj.text}\r\n                        handleChange={handleChangeText}\r\n                    />\r\n\r\n                    <div className=\"pos-abs right-0 bottom-0\">\r\n                        <div className=\"padding-4px\" onClick={closeAddText}>\r\n                            <span className=\"label-field text-white\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : text_obj.text.trim() ? (\r\n                <StoryCPTextMb\r\n                    text_obj={text_obj}\r\n                    openChangeText={openAddText}\r\n                    handleResizeText={handleResizeText}\r\n                    handleMoveText={handleMoveText}\r\n                />\r\n            ) : null}\r\n\r\n            {tag_user_arr.map((tag_user_obj, ix) => (\r\n                <StoryCPTagFriendItemMb\r\n                    key={`${tag_user_obj.user.id}`}\r\n                    ix={ix}\r\n                    tag_user_obj={tag_user_obj}\r\n                    //\r\n                    changeBgColorIx={changeBgColorIx}\r\n                    handleDelTag={handleDelTagFriend}\r\n                    handleResizeTag={handleResizeTagFriend}\r\n                    handleMoveTag={handleMoveTagFriend}\r\n                />\r\n            ))}\r\n\r\n            <div className=\"pos-abs right-0 top-0\">\r\n                <div className=\"padding-4px\">\r\n                    <StoryCPActionsMb\r\n                        mode={vid_pic_obj.mode}\r\n                        openAddText={openAddText}\r\n                        changeModePic={changeModePic}\r\n                        openTagFriend={openTagFriend}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                className={`StoryCreatePicMb_edit_pic pos-abs left-0 ${\r\n                    open_edit_pic ? 'w-100per' : ''\r\n                }`}\r\n            >\r\n                <StoryCPEditPicMb\r\n                    mode={vid_pic_obj.mode}\r\n                    open_edit_pic={open_edit_pic}\r\n                    //\r\n                    toggleEditPic={toggleEditPic}\r\n                    openEffectPic={openEffectPic}\r\n                    undoEditPic={undoEditPic}\r\n                    redoEditPic={redoEditPic}\r\n                    changeModePic={changeModePic}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"pos-abs left-0 top-0\">\r\n                <StoryIconCloseMb handleDiscard={handleDiscard} />\r\n            </div>\r\n\r\n            <div className=\"pos-abs left-0 bottom-0\">\r\n                <StoryBtnPrivacyMb openPrivacy={openPrivacy} />\r\n            </div>\r\n\r\n            <div className=\"pos-abs right-0 bottom-0\">\r\n                <div className=\"StoryCreatePicMb_share_contain\">\r\n                    <StoryBtnShareMb\r\n                        can_share={true}\r\n                        handleCreateStory={onCreateStory}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                className={`StoryCreatePicMb_rotate pos-abs left-0 w-100per bottom-0 ${\r\n                    vid_pic_obj.mode.toUpperCase() == 'ROTATE'\r\n                        ? 'StoryCreatePicMb_rotate-show'\r\n                        : 'StoryCreatePicMb_rotate-hide'\r\n                }`}\r\n            >\r\n                <div className=\"display-flex-center padding-4px bg-loader\">\r\n                    <StoryRotatePic handleRotate={handleRotatePic} />\r\n                </div>\r\n            </div>\r\n\r\n            {open_add_friend ? (\r\n                <div className=\"pos-abs-100\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-loader\"\r\n                        onClick={closeTagFriend}\r\n                    ></div>\r\n\r\n                    <div className=\"pos-abs-100\">\r\n                        <StoryCPAddTagFriendMb\r\n                            handleTagFriend={handleTagFriend}\r\n                        />\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"pos-abs right-0 bottom-0\"\r\n                        onClick={closeTagFriend}\r\n                    >\r\n                        <div className=\"padding-4px\">\r\n                            <span className=\"text-white label-field\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n\r\n            {open_effect_pic ? (\r\n                <div className=\"pos-abs-100\">\r\n                    <div\r\n                        className=\"pos-abs-100 bg-loader\"\r\n                        onClick={closeEffectPic}\r\n                    ></div>\r\n\r\n                    <StoryCPEffectPicMb\r\n                        pic={vid_pic}\r\n                        effect_arr={data_story_effect_arr}\r\n                        effect_ix={vid_pic_obj.effect_ix}\r\n                        handleChangeEffectPic={handleChangeEffectPic}\r\n                    />\r\n\r\n                    <div\r\n                        className=\"pos-abs right-0 top-0\"\r\n                        onClick={closeEffectPic}\r\n                    >\r\n                        <div className=\"padding-4px\">\r\n                            <span className=\"text-white label-field\">Done</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreatePicMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsPost from '../../../../../../_icons_svg/icons_post/IconsPost';\r\n//\r\nimport './StoryCPActionsMb.scss';\r\n\r\n//\r\nStoryCPActionsMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPActionsMb({ mode, openAddText, changeModePic, openTagFriend }) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPActionsMb text-white label-field font-13px\">\r\n            <div></div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={openAddText}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Text</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <span>Aa</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={changeModePic}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Pic</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <span>{mode}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"StoryCPActionsMb_part\" onClick={openTagFriend}>\r\n                <div className=\"display-flex flex-end align-items-center\">\r\n                    <div>\r\n                        <span>Tag</span>\r\n                    </div>\r\n\r\n                    <div className=\"StoryCPActionsMb_part_right\">\r\n                        <IconsPost size_icon=\"1rem\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPActionsMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport TextareaNotSend from '../../../../../input/textarea/TextareaNotSend';\r\n// \r\nimport './StoryCPAddTextMb.scss';\r\n\r\n//\r\nStoryCPAddTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPAddTextMb({ text, handleChange }) {\r\n    //\r\n    return (\r\n        <TextareaNotSend\r\n            name=\"story_input\"\r\n            text={text}\r\n            placeholder=\"START TYPING\"\r\n            textarea_class=\"StoryCPAddTextMb pos-abs-center overflow-y-auto scroll-thin text-align-center text-white label-field font-18px\"\r\n            onChange={handleChange}\r\n        />\r\n    );\r\n}\r\n\r\nexport default StoryCPAddTextMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconsArrow from '../../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport StoryCPEditPicActionsMb from '../actions/StoryCPEditPicActionsMb';\r\n//\r\nimport './StoryCPEditPicMb.scss';\r\n\r\n//\r\nStoryCPEditPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEditPicMb({\r\n    open_edit_pic,\r\n    mode,\r\n\r\n    toggleEditPic,\r\n    openEffectPic,\r\n    undoEditPic,\r\n    redoEditPic,\r\n    changeModePic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPEditPicMb pos-rel\">\r\n            <div className=\"display-flex align-items-center\">\r\n                <div\r\n                    className={`StoryCPEditPicMb_toggle display-flex-center brs-50 bg-blue ${\r\n                        open_edit_pic\r\n                            ? 'StoryCPEditPicMb_toggle-close'\r\n                            : 'StoryCPEditPicMb_toggle-open opacity-05'\r\n                    }`}\r\n                    onClick={toggleEditPic}\r\n                >\r\n                    <IconsArrow y={400} size_icon=\"1rem\" />\r\n                </div>\r\n\r\n                <div\r\n                    className={`StoryCPEditPicMb_right overflow-hidden ${\r\n                        open_edit_pic\r\n                            ? 'StoryCPEditPicMb_right-show flex-grow-1'\r\n                            : 'StoryCPEditPicMb_right-hide'\r\n                    }`}\r\n                >\r\n                    <div className=\"StoryCPEditPicMb_right_contain\">\r\n                        <StoryCPEditPicActionsMb\r\n                            mode={mode}\r\n                            openEffectPic={openEffectPic}\r\n                            undoEditPic={undoEditPic}\r\n                            redoEditPic={redoEditPic}\r\n                            changeModePic={changeModePic}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEditPicMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport IconReUndo from '../../../../../../../_icons_svg/icon_re_undo/IconReUndo';\r\n// \r\nimport './StoryCPEditPicActionsMb.scss';\r\n\r\n//\r\nStoryCPEditPicActionsMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEditPicActionsMb({\r\n    mode,\r\n    openEffectPic,\r\n    undoEditPic,\r\n    redoEditPic,\r\n    changeModePic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCPEditPicActionsMb\">\r\n            <div className=\"display-flex\">\r\n                <div>\r\n                    <div className=\"padding-4px\" onClick={openEffectPic}>\r\n                        <span className=\"label-field text-white\">Effect</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div className=\"padding-4px\" onClick={undoEditPic}>\r\n                        <IconReUndo />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div\r\n                        className=\"StoryCPEditPicActionsMb_redo_contain padding-4px\"\r\n                        onClick={redoEditPic}\r\n                    >\r\n                        <IconReUndo />\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <div className=\"padding-4px\" onClick={changeModePic}>\r\n                        <span className=\"label-field text-white\">{mode}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEditPicActionsMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicEffectList from '../../../../../input/pic_effect/_main/PicEffectList';\r\n\r\n//\r\nStoryCPEffectPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPEffectPicMb({\r\n    pic,\r\n    effect_arr,\r\n    effect_ix,\r\n    handleChangeEffectPic,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"pos-abs bottom-0 w-100per\">\r\n            <div className=\"w-100per overflow-x-auto scroll-height-0\">\r\n                <PicEffectList\r\n                    pic={pic}\r\n                    effect_arr={effect_arr}\r\n                    effect_ix={effect_ix}\r\n                    handleChangeEffect={handleChangeEffectPic}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPEffectPicMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../_hooks/useMouseMoveXY';\r\n// \r\nimport './StoryCPPicMb.scss'\r\n\r\n//\r\nStoryCPPicMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPPicMb({\r\n    vid_pic_obj,\r\n    handleResizePic,\r\n    handleMovePic,\r\n    handleTouchEnd,\r\n}) {\r\n    //\r\n    const { vid_pic, mode, effect, trans_x, trans_y, rotate, scale } =\r\n        vid_pic_obj;\r\n\r\n    //\r\n    const { handleStart: handleStartResize } = use2FingersResize({\r\n        handleResize: handleResizePic,\r\n    });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: handleMovePic,\r\n    });\r\n\r\n    //\r\n    function handleTouchStart(e) {\r\n        if (e.touches.length == 1) {\r\n            mode.toUpperCase() == 'MOVE' && handleStartMove(e);\r\n        } else {\r\n            mode.toUpperCase() == 'RESIZE' && handleStartResize(e);\r\n        }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryCPPicMb pos-abs left-50per top-50per touch-action-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={handleTouchStart}\r\n            onTouchEnd={handleTouchEnd}\r\n        >\r\n            <img\r\n                className=\"StoryCPPicMb_img\"\r\n                src={vid_pic}\r\n                alt=\"\"\r\n                style={{ filter: effect }}\r\n            />\r\n\r\n            <div className=\"pos-abs-100\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPPicMb;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { handle_API_Friend_L } from '../../../../../../../../_handle_api/profile/ProfileHandleAPI';\r\n//\r\nimport { useDataShowMore } from '../../../../../../../../_hooks/useDataShowMore';\r\nimport { useWaitingLastAction } from '../../../../../../../../_hooks/useWaitingLastAction';\r\n//\r\nimport ScreenBlurShowMore from '../../../../../../../_screen/components/part/foot/ScreenBlurShowMore';\r\n//\r\nimport StoryCPFriendMb from '../friend/StoryCPFriendMb';\r\n//\r\nimport './StoryCPAddTagFriendMb.scss';\r\n\r\n//\r\nStoryCPAddTagFriendMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPAddTagFriendMb({ handleTagFriend }) {\r\n    //\r\n    const [value, setValue] = useState('');\r\n\r\n    //\r\n    const ref_value = useRef('');\r\n\r\n    //\r\n    const { data_state, refreshData_API, getData_API } = useDataShowMore({\r\n        initial_arr: [],\r\n        handle_API_L: (c_count) =>\r\n            handle_API_Friend_L({\r\n                c_count: c_count,\r\n                params: {\r\n                    search: ref_value.current,\r\n                },\r\n            }),\r\n    });\r\n\r\n    const { data_arr, count, is_fetching, has_fetched } = data_state;\r\n\r\n    const { handleWaitingLastAction } = useWaitingLastAction({\r\n        time_waiting: 500,\r\n        callback: refreshData_API,\r\n    });\r\n\r\n    //\r\n    useEffect(() => {\r\n        getData_API();\r\n    }, []);\r\n\r\n    //\r\n    function handleShowMore() {\r\n        getData_API();\r\n    }\r\n\r\n    //\r\n    function handleChange(e) {\r\n        const new_value = e.target.value;\r\n        setValue(new_value);\r\n\r\n        if (new_value.trim() != ref_value.current.trim()) {\r\n            ref_value.current = new_value;\r\n            handleWaitingLastAction();\r\n        }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCPAddTagFriendMb h-100per\">\r\n            <div className=\"StoryCPAddTagFriendMb_head\">\r\n                <input\r\n                    className=\"StoryCPAddTagFriendMb_input border-none w-100per padding-8px\"\r\n                    type=\"text\"\r\n                    value={value}\r\n                    placeholder=\"Search friend...\"\r\n                    onChange={handleChange}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"StoryCPAddTagFriendMb_body bg-primary overflow-y-auto\">\r\n                {data_arr.map((user) => (\r\n                    <div key={`${user.id}`}>\r\n                        <StoryCPFriendMb\r\n                            user={user}\r\n                            handleTagFriend={handleTagFriend}\r\n                        />\r\n                    </div>\r\n                ))}\r\n\r\n                <ScreenBlurShowMore\r\n                    is_show_more={data_arr.length < count}\r\n                    is_fetching={is_fetching}\r\n                    handleShowMore={handleShowMore}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPAddTagFriendMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport PicNameContent from '../../../../../../../picture_name/pic_name_content/PicNameContent';\r\n\r\n//\r\nStoryCPFriendMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPFriendMb({ user, handleTagFriend }) {\r\n    //\r\n    function onClick() {\r\n        handleTagFriend(user);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"padding-8px\">\r\n            <PicNameContent user={user} handleClick={onClick} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPFriendMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../../_hooks/useMouseMoveXY';\r\n//\r\nimport IconsArrow from '../../../../../../../_icons_svg/icons_arrow/IconsArrow';\r\n//\r\nimport './StoryCPTagFriendItemMb.scss';\r\n\r\n//\r\nStoryCPTagFriendItemMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPTagFriendItemMb({\r\n    ix,\r\n    tag_user_obj,\r\n\r\n    changeBgColorIx,\r\n    handleResizeTag,\r\n    handleMoveTag,\r\n    handleDelTag,\r\n}) {\r\n    //\r\n    const { user, bg, color, trans_x, trans_y, rotate, scale } = tag_user_obj;\r\n\r\n    //\r\n    const { handleStart: handleStartResize } = use2FingersResize({\r\n        handleResize: onResizeTag,\r\n    });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: onMoveTag,\r\n    });\r\n\r\n    //\r\n    function handleTouchStart(e) {\r\n        if (e.touches.length == 1) {\r\n            handleStartMove(e);\r\n        } else {\r\n            handleStartResize(e);\r\n        }\r\n    }\r\n\r\n    //\r\n    function onResizeTag(data_resize) {\r\n        handleResizeTag({ ...data_resize, ix: ix });\r\n    }\r\n\r\n    //\r\n    function onMoveTag(data_move) {\r\n        handleMoveTag({ ...data_move, ix: ix });\r\n    }\r\n\r\n    //\r\n    function onDelTagFriend() {\r\n        handleDelTag(ix);\r\n    }\r\n\r\n    //\r\n    function onChangeBgColorIx() {\r\n        changeBgColorIx(ix);\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryCPTagFriendItemMb pos-abs left-50per top-50per touch-action-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={handleTouchStart}\r\n        >\r\n            <div\r\n                className=\"padding-8px brs-8px text-nowrap\"\r\n                style={{ backgroundColor: bg, color: color }}\r\n                onClick={onChangeBgColorIx}\r\n            >\r\n                <span\r\n                    className=\"label-field font-18px\"\r\n                    // style={{ fontSize: `${scale * 14 + 2}px` }}\r\n                >\r\n                    @ {user.first_name} {user.last_name}\r\n                </span>\r\n            </div>\r\n\r\n            <div\r\n                className=\"StoryCPTagFriendItemMb_close pos-abs left-100per bottom-100per display-none\"\r\n                style={{ transform: `translate(-50%, 50%) scale(${1 / scale})` }}\r\n            >\r\n                <div\r\n                    className=\"StoryCPTagFriendItemMb_close_contain display-flex-center bg-always-white brs-50 box-shadow-1\"\r\n                    onClick={onDelTagFriend}\r\n                >\r\n                    <IconsArrow y={400} size_icon=\"1rem\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPTagFriendItemMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { use2FingersResize } from '../../../../../../_hooks/use2FingersResize';\r\nimport { useMouseMoveXY } from '../../../../../../_hooks/useMouseMoveXY';\r\n\r\n//\r\nStoryCPTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCPTextMb({\r\n    text_obj,\r\n\r\n    openChangeText,\r\n    handleResizeText,\r\n    handleMoveText,\r\n}) {\r\n    //\r\n    const { text, trans_x, trans_y, rotate, scale } = text_obj;\r\n\r\n    //\r\n    const { handleStart: handleStartResize } = use2FingersResize({\r\n        handleResize: handleResizeText,\r\n    });\r\n\r\n    const { handleStart: handleStartMove } = useMouseMoveXY({\r\n        handleMouseMove: handleMoveText,\r\n    });\r\n\r\n    //\r\n    function handleTouchStart(e) {\r\n        // if (e.touches.length == 1) {\r\n            handleStartMove(e);\r\n        // } else {\r\n            handleStartResize(e);\r\n        // }\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div\r\n            className=\"StoryCPTextMb pos-abs left-50per top-50per padding-8px brs-8px bg-loader touch-action-none\"\r\n            style={{\r\n                transform: `translate(-50%, -50%) translate(${trans_x}px, ${trans_y}px) rotate(${rotate}deg) scale(${scale})`,\r\n            }}\r\n            onTouchStart={handleTouchStart}\r\n            onDoubleClick={openChangeText}\r\n        >\r\n            <span\r\n                className=\"StoryCPTextMb_text text-white label-field font-18px\"\r\n                // style={{ fontSize: `${scale * 14 + 2}px` }}\r\n            >\r\n                {text}\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCPTextMb;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport { data_story_bg_arr } from '../../../../../../_data/story/text';\r\n//\r\nimport StoryIconCloseMb from '../../../../_components/create/mobile/icon_close/StoryIconCloseMb';\r\nimport StoryCTFootMb from '../foot/StoryCTFootMb';\r\nimport StoryCTInputMb from '../input/StoryCTInputMb';\r\n//\r\nimport './StoryCreateTextMb.scss';\r\n\r\n//\r\nStoryCreateTextMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCreateTextMb({ handleCreateStory, openPrivacy, handleDiscard }) {\r\n    //\r\n    const [state_obj, setStateObj] = useState({\r\n        active_bg_ix: 0,\r\n        text: '',\r\n    });\r\n\r\n    const { active_bg_ix, text } = state_obj;\r\n\r\n    //\r\n    function handleChange(value) {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            text: value,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function handleChooseBg(new_bg_ix) {\r\n        setStateObj((state_obj) => ({\r\n            ...state_obj,\r\n            active_bg_ix: new_bg_ix,\r\n        }));\r\n    }\r\n\r\n    //\r\n    function onCreateStory() {\r\n        handleCreateStory(state_obj);\r\n    }\r\n\r\n    //\r\n    function onDiscard() {\r\n        handleDiscard(!!text.trim());\r\n    }\r\n\r\n    //\r\n    return (\r\n        <div className=\"StoryCreateTextMb wh-100\">\r\n            <img\r\n                src={data_story_bg_arr[active_bg_ix]}\r\n                alt=\"\"\r\n                className=\"wh-100\"\r\n            />\r\n\r\n            <div className=\"pos-abs left-0 top-0\">\r\n                <StoryIconCloseMb handleDiscard={onDiscard} />\r\n            </div>\r\n\r\n            <div className=\"StoryCreateTextMb_input pos-abs-center\">\r\n                <StoryCTInputMb text={text} handleChange={handleChange} />\r\n            </div>\r\n\r\n            <div className=\"pos-abs bottom-0 left-0 w-100per\">\r\n                <StoryCTFootMb\r\n                    active_bg_ix={active_bg_ix}\r\n                    bg_img_arr={data_story_bg_arr}\r\n                    can_share={text.trim()}\r\n                    //\r\n                    handleChooseBg={handleChooseBg}\r\n                    openPrivacy={openPrivacy}\r\n                    handleCreateStory={onCreateStory}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCreateTextMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport BgImgList from '../../../../../input/bg_img/_main/BgImgList';\r\n//\r\nimport StoryBtnPrivacyMb from '../../../../_components/create/mobile/privacy/StoryBtnPrivacyMb';\r\nimport StoryBtnShareMb from '../../../../_components/create/mobile/btn_share/StoryBtnShareMb';\r\n//\r\nimport './StoryCTFootMb.scss';\r\n\r\n//\r\nStoryCTFootMb.propTypes = {};\r\n\r\nfunction StoryCTFootMb({\r\n    active_bg_ix,\r\n    bg_img_arr,\r\n    can_share,\r\n\r\n    handleChooseBg,\r\n    openPrivacy,\r\n    handleCreateStory,\r\n}) {\r\n    //\r\n    return (\r\n        <div className=\"StoryCTFootMb padding-4px\">\r\n            <div className=\"StoryCTFootMb_bg\">\r\n                <BgImgList\r\n                    active_ix={active_bg_ix}\r\n                    bg_img_arr={bg_img_arr}\r\n                    handleChooseBg={handleChooseBg}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex-between-center\">\r\n                <div>\r\n                    <StoryBtnPrivacyMb openPrivacy={openPrivacy} />\r\n                </div>\r\n\r\n                <div>\r\n                    <StoryBtnShareMb\r\n                        can_share={can_share}\r\n                        handleCreateStory={handleCreateStory}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StoryCTFootMb;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//\r\nimport TextareaNotSend from '../../../../../input/textarea/TextareaNotSend';\r\n//\r\nimport './StoryCTInputMb.scss';\r\n\r\n//\r\nStoryCTInputMb.propTypes = {};\r\n\r\n//\r\nfunction StoryCTInputMb({ text, handleChange }) {\r\n    //\r\n    return (\r\n        // <div className=\" h-100per\">\r\n            <TextareaNotSend\r\n                name=\"story_input\"\r\n                text={text}\r\n                placeholder=\"START TYPING\"\r\n                textarea_class=\"StoryCTInputMb_textarea pos-abs-center overflow-y-auto scroll-thin text-align-center text-white label-field font-18px\"\r\n                onChange={handleChange}\r\n            />\r\n        // </div>\r\n    );\r\n}\r\n\r\nexport default StoryCTInputMb;\r\n"],"sourceRoot":""}