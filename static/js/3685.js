(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[3685],{96369:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.use2FingersResize=function(e){var t=e.handleResize,a=void 0===t?function(){}:t,l=e.handleResizeEnd,c=void 0===l?function(){}:l,o=(0,r.useRef)(!1),i=(0,r.useRef)(0),d=(0,r.useRef)(0),u=(0,r.useRef)(0),s=(0,r.useRef)(0),f=(0,r.useRef)(0),_=(0,r.useRef)(0);function p(e){var t=(0,n.getTouchClientXY)(e,0),a=t.client_x,r=t.client_y,l=(0,n.getTouchClientXY)(e,1),c=l.client_x,o=l.client_y;return i.current=a,d.current=r,u.current=c,s.current=o,Math.pow(Math.pow(c-a,2)+Math.pow(o-r,2),.5)}function m(e){2==e.touches.length&&(window.ontouchmove=v,window.ontouchend=h,o.current=!0,f.current=p(e),_.current=f.current)}function v(e){if(o.current){var t=p(e);a({client_change:t-_.current,client_x_0:i.current,client_x_1:u.current,client_y_0:d.current,client_y_1:s.current}),_.current=t}}function h(){o.current=!1,c(),window.ontouchmove=null,window.ontouchend=null}return{handleStart:function(e){window.ontouchstart=m},handleElmTouchEnd:function(){o.current=!1,c(),window.ontouchstart=null,window.ontouchmove=null,window.ontouchend=null}}};var r=a(67294),n=a(81858)},73685:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openScreenCreateStoryMb=o;var r=a(67294),n=(c(r),c(a(45697)),a(15130)),l=c(a(15147));function c(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openScreenFloor,a=void 0===t?function(){}:t,r=e.has_history,n=void 0===r||r,c=e.hidden_before,o=void 0===c||c;a({FloorComponent:l.default,has_history:n,hidden_before:o})}function i(e){e.closeScreen;var t=(0,r.useContext)(n.context_api).openScreenFloor;return(0,r.useEffect)((function(){o({openScreenFloor:t})}),[]),null}i.propTypes={},t.default=i},12282:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(31716)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.effect_arr,a=e.effect_ix,l=e.pic,c=e.handleChangeEffect;return r.default.createElement("div",{className:"PicEffectList padding-4px"},r.default.createElement("div",{className:"display-flex"},t.map((function(e,t){return r.default.createElement("div",{key:""+t},r.default.createElement(n.default,{ix:t,is_active:a==t,effect:e,pic:l,handleChangeEffect:c}))}))))}c.propTypes={},t.default=c},31716:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.ix,a=e.is_active,n=e.pic,l=e.effect,c=e.handleChangeEffect;return r.default.createElement("div",{className:"PicEffectItem padding-4px",onClick:function(){c(t)}},r.default.createElement("img",{className:"wh-100 brs-8px "+(a?"PicEffectItem-active":""),src:n,alt:"",style:{filter:l}}))}n(a(45697)),a(85751),l.propTypes={},t.default=l},60356:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(39475)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.can_share,a=e.handleCreateStory;return r.default.createElement("div",{className:"StoryBtnShareMb padding-8px brs-5px cursor-pointer "+(t?"bg-blue":"bg-always-white pointer-events-none"),onClick:a},r.default.createElement("div",{className:"display-flex align-items-center"},r.default.createElement("div",null,r.default.createElement("span",{className:"label-field "+(t?"text-white":"text-secondary-50per")},"Share story")),r.default.createElement("div",{className:"margin-left-5px"},r.default.createElement(n.default,{x:200,y:200}))))}c.propTypes={},t.default=c},66025:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(37930)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.handleDiscard;return r.default.createElement("div",{className:"StoryIconCloseMb padding-4px",onClick:t},r.default.createElement(n.default,{y:400,size_icon:"1.5rem"}))}c.propTypes={},t.default=c},73246:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(67238)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.openPrivacy;return r.default.createElement("div",{className:"StoryBtnPrivacyMb padding-4px brs-5px cursor-pointer",onClick:t},r.default.createElement("div",{className:"display-flex flex-col align-items-center"},r.default.createElement("div",null,r.default.createElement(n.default,{stroke:"white"})),r.default.createElement("div",null,r.default.createElement("span",{className:"label-field text-white"},"Privacy"))))}c.propTypes={},t.default=c},15147:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=p(n),c=p(a(45697)),o=a(15130),i=a(39309),d=a(14927),u=a(30796),s=p(a(99801)),f=p(a(94834)),_=p(a(56346));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){e.closeScreen;var t=(0,n.useContext)(o.context_api).openScreenFloor,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({create_type:"",vid_pic:"",vid_pic_width:0,permission:0}),2),c=a[0],p=a[1],m=c.create_type,v=c.vid_pic,h=(c.vid_pic_width,c.permission);function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";p((function(t){return r({},t,{create_type:e})}))}function b(e){p(r({},c,{permission:e}))}function E(){(0,d.openScreenPermission)({openScreenFloor:t,permission:h,handleChoosePermission:b})}function g(e){console.log(e)}function x(){(0,i.openScreenConfirm)({openScreenFloor:t,title:"Discard story?",notification:"Are you sure that you want to discard this story? Your story won't be saved.",handleConfirm:y})}function P(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?x():y()}return(0,u.useMakeBodyHidden)({hidden_app:!0,hidden_header:!0,blur_header:!0}),(0,n.useEffect)((function(){document.title="Create story"}),[]),l.default.createElement("div",{className:"StoryCreateMb wh-100v"},""==m?l.default.createElement(s.default,{openScreenStoryText:function(){y("text")},openScreenStoryPic:function(e){var t=e.vid_pics[0].vid_pic,a=e.files;console.log(a),p(r({},c,{create_type:"pic",vid_pic:t}))}}):"text"==m?l.default.createElement(f.default,{handleCreateStory:g,openPrivacy:E,handleDiscard:P}):l.default.createElement(_.default,{vid_pic:v,handleCreateStory:g,openPrivacy:E,handleDiscard:P}))}m.propTypes={closeScreen:c.default.func},t.default=m},99801:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(21425)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.openScreenStoryText,a=e.openScreenStoryPic;return r.default.createElement("div",null,r.default.createElement("h2",{className:"padding-8px text-align-center"},"Create story"),r.default.createElement("div",null,r.default.createElement(n.default,{openScreenStoryText:t,openScreenStoryPic:a})),r.default.createElement("div",null))}c.propTypes={},t.default=c},21425:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=(c(a(45697)),c(a(79194))),l=c(a(64116));function c(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openScreenStoryText,a=e.openScreenStoryPic;return r.default.createElement("div",{className:"StoryCHHeadMb"},r.default.createElement("div",{className:"display-flex"},r.default.createElement("div",{className:"StoryCHHeadMb_item pos-rel"},r.default.createElement("div",{className:"pos-abs-100 padding-4px "},r.default.createElement("div",{className:"wh-100 brs-8px overflow-hidden"},r.default.createElement(n.default,{title:"Text",openScreenStoryText:t})))),r.default.createElement("div",{className:"StoryCHHeadMb_item pos-rel"},r.default.createElement("div",{className:"pos-abs-100 padding-4px"},r.default.createElement("div",{className:"wh-100 brs-8px overflow-hidden"},r.default.createElement(l.default,{title:"Photo",openScreenStoryPic:a}))))))}a(40570),o.propTypes={},t.default=o},56346:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=E(n),c=(E(a(45697)),a(55852)),o=(a(86449),a(98503)),i=E(a(66025)),d=E(a(73246)),u=E(a(60356)),s=E(a(83776)),f=E(a(56714)),_=E(a(21002)),p=E(a(46544)),m=E(a(89173)),v=E(a(28901)),h=E(a(35643)),y=E(a(19225)),b=E(a(22784));function E(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function x(e){var t=e.vid_pic,a=e.openPrivacy,E=e.handleCreateStory,x=e.handleDiscard,P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({story_width:0,vid_pic_obj:{vid_pic:t,mode:o.data_story_pic_edit_mode_arr[0],mode_ix:0,effect:o.data_story_effect_arr[0],effect_ix:0,trans_x:0,trans_y:0,scale:1,rotate:0},text_obj:{text:"",trans_x:0,trans_y:0,rotate:0,scale:1},tag_user_arr:[]||0,open_add_text:!1,open_effect_pic:!1,open_add_friend:!1,open_edit_pic:!1}),2),M=P[0],S=P[1],C=M.vid_pic_obj,N=M.text_obj,T=M.tag_user_arr,w=M.open_add_text,j=M.open_add_friend,A=M.open_effect_pic,O=M.open_edit_pic,k=(0,n.useRef)([{trans_x:0,trans_y:0,scale:1,rotate:0}]),R=(0,n.useRef)(0);function I(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];S((function(t){return R.current+=e?-1:1,r({},t,{vid_pic_obj:r({},t.vid_pic_obj,k.current[R.current])})}))}function F(){S(r({},M,{open_effect_pic:!1}))}function z(){S((function(e){var t=r({},e.vid_pic_obj),a=(t.mode_ix+1)%o.data_story_pic_edit_mode_arr.length;return t.mode_ix=a,t.mode=o.data_story_pic_edit_mode_arr[a],r({},e,{vid_pic_obj:t})}))}function D(){S(r({},M,{open_add_text:!0}))}function L(){S(r({},M,{open_add_text:!1}))}function X(){S(r({},M,{open_add_friend:!1}))}function B(e){var t=e.ix,a=e.client_x_change,n=e.client_y_change;S((function(e){var l=[].concat(g(e.tag_user_arr));return l[t].trans_x+=a,l[t].trans_y+=n,r({},e,{tag_user_arr:l})}))}function Y(e){var t=e.ix,a=e.client_change;S((function(e){var n=[].concat(g(e.tag_user_arr));return n[t].scale<=o.MIN_SCALE_TEXT_TAG&&a<0?n[t].scale=o.MIN_SCALE_TEXT_TAG:n[t].scale+=a/(4*c.SCALE_PIC_RATIO),r({},e,{tag_user_arr:n})}))}function H(e){S((function(t){var a=[].concat(g(t.tag_user_arr)),n=(a[e].bg_color_ix+1)%o.data_story_tag_bg_color_arr.length;return a[e].bg_color_ix=n,a[e].bg=o.data_story_tag_bg_color_arr[n].bg,a[e].color=o.data_story_tag_bg_color_arr[n].color,r({},t,{tag_user_arr:a})}))}function G(e){var t=[].concat(g(T));t.splice(e,1),S(r({},M,{tag_user_arr:t}))}return l.default.createElement("div",{className:"StoryCreatePicMb wh-100 pos-rel overflow-hidden"},l.default.createElement("img",{src:t,alt:"",className:"wh-100",style:{filter:"blur(100px)"}}),l.default.createElement(f.default,{vid_pic_obj:C,handleTouchEnd:function(){var e=C.trans_x,t=C.trans_y,a=C.scale,r=C.rotate,n=k.current[R.current],l=n.trans_x,c=n.trans_y,o=n.scale,i=n.rotate;e==l&&t==c&&a==o&&r==i||(R.current+=1,k.current.splice(R.current,k.current.length,{trans_x:e,trans_y:t,scale:a,rotate:r}))},handleResizePic:function(e){var t=e.client_change;S((function(e){var a=r({},e.vid_pic_obj);return a.scale<=.25&&t<0?a.scale=.25:a.scale+=t/(4*c.SCALE_PIC_RATIO),r({},e,{vid_pic_obj:a})}))},handleMovePic:function(e){var t=e.client_x_change,a=e.client_y_change;S((function(e){return r({},e,{vid_pic_obj:r({},e.vid_pic_obj,{trans_x:e.vid_pic_obj.trans_x+t,trans_y:e.vid_pic_obj.trans_y+a})})}))}}),w?l.default.createElement("div",{className:"pos-abs-100 z-index-lv1"},l.default.createElement("div",{className:"pos-abs-100 bg-loader",onClick:L}),l.default.createElement(p.default,{text:N.text,handleChange:function(e){S((function(t){var a=r({},t.text_obj);return a.text=e,r({},t,{text_obj:a})}))}}),l.default.createElement("div",{className:"pos-abs right-0 bottom-0"},l.default.createElement("div",{className:"padding-4px",onClick:L},l.default.createElement("span",{className:"label-field text-white"},"Done")))):N.text.trim()?l.default.createElement(s.default,{text_obj:N,openChangeText:D,handleResizeText:function(e){var t=e.client_change;S((function(e){var a=r({},e.text_obj);return a.scale<=o.MIN_SCALE_TEXT_TAG&&t<0?a.scale=o.MIN_SCALE_TEXT_TAG:a.scale+=t/(4*c.SCALE_PIC_RATIO),r({},e,{text_obj:a})}))},handleMoveText:function(e){var t=e.client_x_change,a=e.client_y_change;S((function(e){var n=r({},e.text_obj);return n.trans_x+=t,n.trans_y+=a,r({},e,{text_obj:n})}))}}):null,T.map((function(e,t){return l.default.createElement(v.default,{key:""+e.user.id,ix:t,tag_user_obj:e,changeBgColorIx:H,handleDelTag:G,handleResizeTag:Y,handleMoveTag:B})})),l.default.createElement("div",{className:"pos-abs right-0 top-0"},l.default.createElement("div",{className:"padding-4px"},l.default.createElement(_.default,{mode:C.mode,openAddText:D,changeModePic:z,openTagFriend:function(){S(r({},M,{open_add_friend:!0}))}}))),l.default.createElement("div",{className:"StoryCreatePicMb_edit_pic pos-abs left-0 "+(O?"w-100per":"")},l.default.createElement(y.default,{mode:C.mode,open_edit_pic:O,toggleEditPic:function(){S(r({},M,{open_edit_pic:!O}))},openEffectPic:function(){S(r({},M,{open_effect_pic:!0}))},undoEditPic:function(){0!=R.current&&I(!0)},redoEditPic:function(){R.current!=k.length-1&&I(!1)},changeModePic:z})),l.default.createElement("div",{className:"pos-abs left-0 top-0"},l.default.createElement(i.default,{handleDiscard:x})),l.default.createElement("div",{className:"pos-abs left-0 bottom-0"},l.default.createElement(d.default,{openPrivacy:a})),l.default.createElement("div",{className:"pos-abs right-0 bottom-0"},l.default.createElement("div",{className:"StoryCreatePicMb_share_contain"},l.default.createElement(u.default,{can_share:!0,handleCreateStory:function(){E(M)}}))),l.default.createElement("div",{className:"StoryCreatePicMb_rotate pos-abs left-0 w-100per bottom-0 "+("ROTATE"==C.mode.toUpperCase()?"StoryCreatePicMb_rotate-show":"StoryCreatePicMb_rotate-hide")},l.default.createElement("div",{className:"display-flex-center padding-4px bg-loader"},l.default.createElement(b.default,{handleRotate:function(){S((function(e){var t=r({},e.vid_pic_obj),a=t.rotate+90;return t.rotate=a>=360?0:a,r({},e,{vid_pic_obj:t})}))}}))),j?l.default.createElement("div",{className:"pos-abs-100"},l.default.createElement("div",{className:"pos-abs-100 bg-loader",onClick:X}),l.default.createElement("div",{className:"pos-abs-100"},l.default.createElement(h.default,{handleTagFriend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(r({},M,{tag_user_arr:[].concat(g(M.tag_user_arr),[r({user:e,bg_color_ix:0},o.data_story_tag_bg_color_arr[0],{trans_x:0,trans_y:0,rotate:0,scale:1})]),open_add_friend:!1}))}})),l.default.createElement("div",{className:"pos-abs right-0 bottom-0",onClick:X},l.default.createElement("div",{className:"padding-4px"},l.default.createElement("span",{className:"text-white label-field"},"Done")))):null,A?l.default.createElement("div",{className:"pos-abs-100"},l.default.createElement("div",{className:"pos-abs-100 bg-loader",onClick:F}),l.default.createElement(m.default,{pic:t,effect_arr:o.data_story_effect_arr,effect_ix:C.effect_ix,handleChangeEffectPic:function(e){S((function(t){var a=r({},t.vid_pic_obj);return a.effect_ix=e,a.effect=o.data_story_effect_arr[e],r({},t,{vid_pic_obj:a})}))}}),l.default.createElement("div",{className:"pos-abs right-0 top-0",onClick:F},l.default.createElement("div",{className:"padding-4px"},l.default.createElement("span",{className:"text-white label-field"},"Done")))):null)}a(54983),x.propTypes={},t.default=x},21002:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(75763)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.mode,a=e.openAddText,l=e.changeModePic,c=e.openTagFriend;return r.default.createElement("div",{className:"StoryCPActionsMb text-white label-field font-13px"},r.default.createElement("div",null),r.default.createElement("div",{className:"StoryCPActionsMb_part",onClick:a},r.default.createElement("div",{className:"display-flex flex-end align-items-center"},r.default.createElement("div",null,r.default.createElement("span",null,"Text")),r.default.createElement("div",{className:"StoryCPActionsMb_part_right"},r.default.createElement("span",null,"Aa")))),r.default.createElement("div",{className:"StoryCPActionsMb_part",onClick:l},r.default.createElement("div",{className:"display-flex flex-end align-items-center"},r.default.createElement("div",null,r.default.createElement("span",null,"Pic")),r.default.createElement("div",{className:"StoryCPActionsMb_part_right"},r.default.createElement("span",null,t)))),r.default.createElement("div",{className:"StoryCPActionsMb_part",onClick:c},r.default.createElement("div",{className:"display-flex flex-end align-items-center"},r.default.createElement("div",null,r.default.createElement("span",null,"Tag")),r.default.createElement("div",{className:"StoryCPActionsMb_part_right"},r.default.createElement(n.default,{size_icon:"1rem"})))))}a(57867),c.propTypes={},t.default=c},46544:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(85315)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.text,a=e.handleChange;return r.default.createElement(n.default,{name:"story_input",text:t,placeholder:"START TYPING",textarea_class:"StoryCPAddTextMb pos-abs-center overflow-y-auto scroll-thin text-align-center text-white label-field font-18px",onChange:a})}a(95684),c.propTypes={},t.default=c},19225:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=(c(a(45697)),c(a(37930))),l=c(a(24206));function c(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.open_edit_pic,a=e.mode,c=e.toggleEditPic,o=e.openEffectPic,i=e.undoEditPic,d=e.redoEditPic,u=e.changeModePic;return r.default.createElement("div",{className:"StoryCPEditPicMb pos-rel"},r.default.createElement("div",{className:"display-flex align-items-center"},r.default.createElement("div",{className:"StoryCPEditPicMb_toggle display-flex-center brs-50 bg-blue "+(t?"StoryCPEditPicMb_toggle-close":"StoryCPEditPicMb_toggle-open opacity-05"),onClick:c},r.default.createElement(n.default,{y:400,size_icon:"1rem"})),r.default.createElement("div",{className:"StoryCPEditPicMb_right overflow-hidden "+(t?"StoryCPEditPicMb_right-show flex-grow-1":"StoryCPEditPicMb_right-hide")},r.default.createElement("div",{className:"StoryCPEditPicMb_right_contain"},r.default.createElement(l.default,{mode:a,openEffectPic:o,undoEditPic:i,redoEditPic:d,changeModePic:u})))))}a(9893),o.propTypes={},t.default=o},24206:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(26804)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.mode,a=e.openEffectPic,l=e.undoEditPic,c=e.redoEditPic,o=e.changeModePic;return r.default.createElement("div",{className:"StoryCPEditPicActionsMb"},r.default.createElement("div",{className:"display-flex"},r.default.createElement("div",null,r.default.createElement("div",{className:"padding-4px",onClick:a},r.default.createElement("span",{className:"label-field text-white"},"Effect"))),r.default.createElement("div",null,r.default.createElement("div",{className:"padding-4px",onClick:l},r.default.createElement(n.default,null))),r.default.createElement("div",null,r.default.createElement("div",{className:"StoryCPEditPicActionsMb_redo_contain padding-4px",onClick:c},r.default.createElement(n.default,null))),r.default.createElement("div",null,r.default.createElement("div",{className:"padding-4px",onClick:o},r.default.createElement("span",{className:"label-field text-white"},t)))))}a(54039),c.propTypes={},t.default=c},89173:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(12282)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.pic,a=e.effect_arr,l=e.effect_ix,c=e.handleChangeEffectPic;return r.default.createElement("div",{className:"pos-abs bottom-0 w-100per"},r.default.createElement("div",{className:"w-100per overflow-x-auto scroll-height-0"},r.default.createElement(n.default,{pic:t,effect_arr:a,effect_ix:l,handleChangeEffect:c})))}c.propTypes={},t.default=c},56714:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=(c(a(45697)),a(96369)),l=a(51353);function c(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.vid_pic_obj,a=e.handleResizePic,c=e.handleMovePic,o=e.handleTouchEnd,i=t.vid_pic,d=t.mode,u=t.effect,s=t.trans_x,f=t.trans_y,_=t.rotate,p=t.scale,m=(0,n.use2FingersResize)({handleResize:a}).handleStart,v=(0,l.useMouseMoveXY)({handleMouseMove:c}).handleStart;return r.default.createElement("div",{className:"StoryCPPicMb pos-abs left-50per top-50per touch-action-none",style:{transform:"translate(-50%, -50%) translate("+s+"px, "+f+"px) rotate("+_+"deg) scale("+p+")"},onTouchStart:function(e){1==e.touches.length?"MOVE"==d.toUpperCase()&&v(e):"RESIZE"==d.toUpperCase()&&m(e)},onTouchEnd:o},r.default.createElement("img",{className:"StoryCPPicMb_img",src:i,alt:"",style:{filter:u}}),r.default.createElement("div",{className:"pos-abs-100"}))}a(88631),o.propTypes={},t.default=o},35643:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(67294),n=u(r),l=(u(a(45697)),a(10666)),c=a(84353),o=a(90663),i=u(a(11623)),d=u(a(88134));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.handleTagFriend,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)(""),2),u=a[0],s=a[1],f=(0,r.useRef)(""),_=(0,c.useDataShowMore)({initial_arr:[],handle_API_L:function(e){return(0,l.handle_API_Friend_L)({c_count:e,params:{search:f.current}})}}),p=_.data_state,m=_.refreshData_API,v=_.getData_API,h=p.data_arr,y=p.count,b=p.is_fetching,E=(p.has_fetched,(0,o.useWaitingLastAction)({time_waiting:500,callback:m}).handleWaitingLastAction);return(0,r.useEffect)((function(){v()}),[]),n.default.createElement("div",{className:"StoryCPAddTagFriendMb h-100per"},n.default.createElement("div",{className:"StoryCPAddTagFriendMb_head"},n.default.createElement("input",{className:"StoryCPAddTagFriendMb_input border-none w-100per padding-8px",type:"text",value:u,placeholder:"Search friend...",onChange:function(e){var t=e.target.value;s(t),t.trim()!=f.current.trim()&&(f.current=t,E())}})),n.default.createElement("div",{className:"StoryCPAddTagFriendMb_body bg-primary overflow-y-auto"},h.map((function(e){return n.default.createElement("div",{key:""+e.id},n.default.createElement(d.default,{user:e,handleTagFriend:t}))})),n.default.createElement(i.default,{is_show_more:h.length<y,is_fetching:b,handleShowMore:function(){v()}})))}a(8982),s.propTypes={},t.default=s},88134:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(44314)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.user,a=e.handleTagFriend;return r.default.createElement("div",{className:"padding-8px"},r.default.createElement(n.default,{user:t,handleClick:function(){a(t)}}))}c.propTypes={},t.default=c},28901:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=i(a(67294)),l=(i(a(45697)),a(96369)),c=a(51353),o=i(a(37930));function i(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.ix,a=e.tag_user_obj,i=e.changeBgColorIx,d=e.handleResizeTag,u=e.handleMoveTag,s=e.handleDelTag,f=a.user,_=a.bg,p=a.color,m=a.trans_x,v=a.trans_y,h=a.rotate,y=a.scale,b=(0,l.use2FingersResize)({handleResize:function(e){d(r({},e,{ix:t}))}}).handleStart,E=(0,c.useMouseMoveXY)({handleMouseMove:function(e){u(r({},e,{ix:t}))}}).handleStart;return n.default.createElement("div",{className:"StoryCPTagFriendItemMb pos-abs left-50per top-50per touch-action-none",style:{transform:"translate(-50%, -50%) translate("+m+"px, "+v+"px) rotate("+h+"deg) scale("+y+")"},onTouchStart:function(e){1==e.touches.length?E(e):b(e)}},n.default.createElement("div",{className:"padding-8px brs-8px text-nowrap",style:{backgroundColor:_,color:p},onClick:function(){i(t)}},n.default.createElement("span",{className:"label-field font-18px"},"@ ",f.first_name," ",f.last_name)),n.default.createElement("div",{className:"StoryCPTagFriendItemMb_close pos-abs left-100per bottom-100per display-none",style:{transform:"translate(-50%, 50%) scale("+1/y+")"}},n.default.createElement("div",{className:"StoryCPTagFriendItemMb_close_contain display-flex-center bg-always-white brs-50 box-shadow-1",onClick:function(){s(t)}},n.default.createElement(o.default,{y:400,size_icon:"1rem"}))))}a(18296),d.propTypes={},t.default=d},83776:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=(c(a(45697)),a(96369)),l=a(51353);function c(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text_obj,a=e.openChangeText,c=e.handleResizeText,o=e.handleMoveText,i=t.text,d=t.trans_x,u=t.trans_y,s=t.rotate,f=t.scale,_=(0,n.use2FingersResize)({handleResize:c}).handleStart,p=(0,l.useMouseMoveXY)({handleMouseMove:o}).handleStart;return r.default.createElement("div",{className:"StoryCPTextMb pos-abs left-50per top-50per padding-8px brs-8px bg-loader touch-action-none",style:{transform:"translate(-50%, -50%) translate("+d+"px, "+u+"px) rotate("+s+"deg) scale("+f+")"},onTouchStart:function(e){p(e),_(e)},onDoubleClick:a},r.default.createElement("span",{className:"StoryCPTextMb_text text-white label-field font-18px"},i))}o.propTypes={},t.default=o},94834:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=u(n),c=(u(a(45697)),a(98503)),o=u(a(66025)),i=u(a(15992)),d=u(a(29955));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.handleCreateStory,a=e.openPrivacy,u=e.handleDiscard,s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({active_bg_ix:0,text:""}),2),f=s[0],_=s[1],p=f.active_bg_ix,m=f.text;return l.default.createElement("div",{className:"StoryCreateTextMb wh-100"},l.default.createElement("img",{src:c.data_story_bg_arr[p],alt:"",className:"wh-100"}),l.default.createElement("div",{className:"pos-abs left-0 top-0"},l.default.createElement(o.default,{handleDiscard:function(){u(!!m.trim())}})),l.default.createElement("div",{className:"StoryCreateTextMb_input pos-abs-center"},l.default.createElement(d.default,{text:m,handleChange:function(e){_((function(t){return r({},t,{text:e})}))}})),l.default.createElement("div",{className:"pos-abs bottom-0 left-0 w-100per"},l.default.createElement(i.default,{active_bg_ix:p,bg_img_arr:c.data_story_bg_arr,can_share:m.trim(),handleChooseBg:function(e){_((function(t){return r({},t,{active_bg_ix:e})}))},openPrivacy:a,handleCreateStory:function(){t(f)}})))}a(80579),s.propTypes={},t.default=s},15992:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(64754))),l=o(a(73246)),c=o(a(60356));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.active_bg_ix,a=e.bg_img_arr,o=e.can_share,i=e.handleChooseBg,d=e.openPrivacy,u=e.handleCreateStory;return r.default.createElement("div",{className:"StoryCTFootMb padding-4px"},r.default.createElement("div",{className:"StoryCTFootMb_bg"},r.default.createElement(n.default,{active_ix:t,bg_img_arr:a,handleChooseBg:i})),r.default.createElement("div",{className:"flex-between-center"},r.default.createElement("div",null,r.default.createElement(l.default,{openPrivacy:d})),r.default.createElement("div",null,r.default.createElement(c.default,{can_share:o,handleCreateStory:u}))))}a(14682),i.propTypes={},t.default=i},29955:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(85315)));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.text,a=e.handleChange;return r.default.createElement(n.default,{name:"story_input",text:t,placeholder:"START TYPING",textarea_class:"StoryCTInputMb_textarea pos-abs-center overflow-y-auto scroll-thin text-align-center text-white label-field font-18px",onChange:a})}a(27541),c.propTypes={},t.default=c},85751:(e,t,a)=>{"use strict";a.r(t)},40570:(e,t,a)=>{"use strict";a.r(t)},54983:(e,t,a)=>{"use strict";a.r(t)},57867:(e,t,a)=>{"use strict";a.r(t)},95684:(e,t,a)=>{"use strict";a.r(t)},9893:(e,t,a)=>{"use strict";a.r(t)},54039:(e,t,a)=>{"use strict";a.r(t)},88631:(e,t,a)=>{"use strict";a.r(t)},8982:(e,t,a)=>{"use strict";a.r(t)},18296:(e,t,a)=>{"use strict";a.r(t)},80579:(e,t,a)=>{"use strict";a.r(t)},14682:(e,t,a)=>{"use strict";a.r(t)},27541:(e,t,a)=>{"use strict";a.r(t)}}]);
//# sourceMappingURL=3685.js.map