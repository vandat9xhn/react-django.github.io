(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[8759],{5306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useObserveVidPic=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)("vid_pic-observe opacity-0"),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){e.current&&(0,l.default)({elements:[e.current],callback:function(){a("vid_pic-observe opacity-1")}})}),[e]),r};var a,n=r(67294),l=(a=r(66810))&&a.__esModule?a:{default:a}},66810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elements,r=e.threshold,a=void 0===r?0:r,n=e.callback,l=void 0===n?function(){}:n,o=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.src=e.target.dataset.src,e.target.removeAttribute("data-src"),t.unobserve(e.target),l())}))}),{threshold:a});t.forEach((function(e){o.observe(e)}))}},58088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterClientRect=n,t.getAngleWithCenterRect=l,t.getLengthFrom2Point=o,t.handleResizeRect=function(e){var t=e.elm,r=e.old_client_x,l=e.old_client_y,i=e.new_client_x,c=e.new_client_y,s=n(t),u=s.x_center,d=s.y_center,f=o({x1:r,y1:l,x2:u,y2:d});return{scale_change:(o({x1:i,y1:c,x2:u,y2:d})-f)/a.ROTATE_RATIO}},t.handleRotateRect=function(e){var t=e.elm,r=e.old_client_x,a=e.old_client_y,o=e.new_client_x,i=e.new_client_y,c=n(t),s=c.x_center,u=c.y_center,d=l({x:r,y:a,x_center:s,y_center:u});return{rotate_change:l({x:o,y:i,x_center:s,y_center:u})-d}};var a=r(55852);function n(e){var t=e.getBoundingClientRect(),r=t.top,a=t.bottom;return{x_center:(t.left+t.right)/2,y_center:(r+a)/2}}function l(e){var t=e.x,r=void 0===t?0:t,a=e.y,n=void 0===a?0:a,l=e.x_center,o=void 0===l?0:l,i=e.y_center,c=void 0===i?0:i;return 180*Math.atan2(n-c,r-o)/Math.PI}function o(e){var t=e.x1,r=void 0===t?0:t,a=e.y1,n=void 0===a?0:a,l=e.x2,o=void 0===l?0:l,i=e.y2,c=void 0===i?0:i;return Math.pow(Math.pow(r-o,2)+Math.pow(n-c,2),.5)}},39665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(67294)),n=r(93191),l=(i(r(45697)),i(r(44620))),o=i(r(37930));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.handleClose;return a.default.createElement("div",{className:"FavTitle"},a.default.createElement("div",{className:"display-flex align-items-center"},a.default.createElement("div",{className:"FavTitle_close"},a.default.createElement("div",{className:"FavTitle_close_icon display-flex-center brs-50 cursor-pointer hv-opacity",onClick:t},a.default.createElement(o.default,{y:400,size_icon:"1.5rem"}))),a.default.createElement("div",{className:"FavTitle_fav"},a.default.createElement(n.Link,{to:"/new-feed"},a.default.createElement("div",{className:"padding-4px"},a.default.createElement(l.default,{size_icon:"3rem"}))))))}r(41286),c.propTypes={},t.default=c},64754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(5738)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.active_ix,r=e.bg_img_arr,l=e.handleChooseBg;return a.default.createElement("div",{className:"BgImgList"},a.default.createElement("div",{className:"BgImgList_row display-flex flex-wrap justify-content-center"},r.map((function(e,r){return a.default.createElement("div",{key:""+r,className:"BgImgList_item padding-4px"},a.default.createElement(n.default,{ix:r,is_active:t==r,bg_img:e,handleChooseBg:l}))}))))}r(56352),o.propTypes={},t.default=o},5738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(19400)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ix,r=e.is_active,l=e.bg_img,o=e.handleChooseBg;return a.default.createElement(n.default,{vid_pic:l,type:"img",img_props:{onClick:function(){o(t)},className:"BgImgItem wh-100 brs-50 "+(r?"BgImgItem-active pointer-events-none":"BgImgItem-inactive cursor-pointer")}})}r(59536),o.propTypes={},t.default=o},29274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(67294),n=i(a),l=(i(r(45697)),i(r(35214))),o=i(r(6692));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.active_ix,r=e.font_arr,i=e.handleChangeFont,c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)(!1),2),s=c[0],u=c[1];function d(){s&&u(!1)}function f(e){d(),t!=e&&i(e)}return n.default.createElement(l.default,{makeDivHidden:d},n.default.createElement("div",{className:"pos-rel"},n.default.createElement("div",{className:"SelectFont_current brs-8px"},n.default.createElement(o.default,{font_family:r[t],handleChangeFont:function(){u(!s)}})),n.default.createElement("div",{className:"SelectFont_list w-100per "+(s?"":"display-none")},n.default.createElement("div",{className:"SelectFont_list_contain bg-primary box-shadow-fb"},r.map((function(e,r){return n.default.createElement("div",{key:""+r,className:r==t?"display-none":""},n.default.createElement(o.default,{ix:r,font_family:e,handleChangeFont:f}))}))))))}r(79945),c.propTypes={},t.default=c},6692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=l(r(45697));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ix,r=e.font_family,n=e.handleChangeFont;return a.default.createElement("div",{className:"SelectFontItem cursor-pointer hv-bg-blur",onClick:function(){n(t)}},a.default.createElement("span",{className:"font-500",style:{fontFamily:r}},r))}r(69361),o.propTypes={font_family:n.default.string,handleChangeFont:n.default.func},t.default=o},78775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(67294),n=i(a),l=i(r(45697)),o=r(38669);function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.range,r=e.active_range,l=e.slider,i=e.value,c=e.handleMouseMove,s=e.handleMouseEnd,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)(!1),2),d=u[0],f=u[1],_=(0,a.useRef)(null),p=(0,o.useMouseMoveX)({handleMouseDown:function(){f(!0)},handleMouseMove:function(e){c(100*e/_.current.scrollWidth)},handleMouseEnd:function(){f(!1),s()}}).handleStart;return n.default.createElement("div",{ref:_,className:"InputRangeOneSlider pos-rel wh-100 "+(d?"input-range-running":"")},n.default.createElement("div",{className:"InputRangeOneSlider_range pos-abs left-0 y-center w-100per cursor-pointer",onClick:function(e){var t=_.current.getBoundingClientRect().x,r=100*(e.clientX-t)/_.current.scrollWidth-i;c(r)}},t),n.default.createElement("div",{className:"InputRangeOneSlider_active pos-abs left-0 y-center pointer-events-none",style:{width:i+"%"}},r),n.default.createElement("div",{className:"InputRangeOneSlider_slider pos-abs top-50per",style:{left:i+"%"},onMouseDown:p,onTouchStart:p},l))}r(49230),c.propTypes={range:l.default.element,active_range:l.default.element,slider:l.default.element,value:l.default.number},t.default=c},43658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children,r=e.title;return a.default.createElement("div",{className:"StoryCreateChoice wh-100 pos-rel cursor-pointer"},a.default.createElement("div",{className:"pos-abs-center w-100per"},a.default.createElement("div",{className:"display-flex justify-content-center"},a.default.createElement("div",{className:"StoryCreateChoice_icon display-flex-center bg-primary brs-50 box-shadow-fb"},t)),a.default.createElement("div",{className:"StoryCreateChoice_title padding-4px text-align-center"},a.default.createElement("span",{className:"font-700 text-white font-13px"},r))))}n(r(45697)),r(62180),l.propTypes={},t.default=l},79194:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=o(r(45697)),l=o(r(43658));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.title,r=e.openScreenStoryText;return a.default.createElement("div",{className:"StoryCreateTextChoice wh-100",onClick:r},a.default.createElement(l.default,{title:t},a.default.createElement("span",{className:"StoryCreateTextChoice_title font-500 font-18px"},"Aa")))}r(46281),i.propTypes={title:n.default.string,openScreenStoryText:n.default.func},l.default.defaultProps={title:"Create a Text Story"},t.default=i},64116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(r(67294)),n=c(r(45697)),l=c(r(86804)),o=c(r(37279)),i=c(r(43658));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.title,r=e.openScreenStoryPic;return a.default.createElement("div",{className:"StoryCreatePicChoice h-100per"},a.default.createElement(l.default,{name:"vid_pic",accept:"image/*",handleChange:function(e){r(e)}},a.default.createElement(i.default,{title:t},a.default.createElement(o.default,null))))}r(16833),s.propTypes={title:n.default.string,openScreenStoryText:n.default.func},s.defaultProps={title:"Create a Photo Story"},t.default=s},890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),o(r(85935))),l=o(r(87710));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.permission,r=e.show_fav,o=e.children_left,i=e.children_right,c=e.handleChoosePermission,s=e.handleCreate,u=e.handleDiscard,d=e.handleClose;return a.default.createElement("div",{className:"StoryCommonPcC h-100per"},a.default.createElement("div",{className:"StoryCommonPcC_row display-flex h-100per"},a.default.createElement("div",{className:"StoryCommonPcC_left story-create-left"},a.default.createElement(n.default,{permission:t,show_fav:r,is_home:!1,handleChoosePermission:c,handleCreate:s,handleDiscard:u,handleClose:d},o)),a.default.createElement("div",{className:"flex-grow-1 "+(r?"StoryCommonPcC_right-has_fav":"StoryCommonPcC_right-no_fav")},a.default.createElement(l.default,null,i))))}r(92778),i.propTypes={},t.default=i},85935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(67294),n=f(a),l=f(r(45697)),o=r(15130),i=r(14927),c=f(r(39665)),s=f(r(44314)),u=f(r(54548)),d=f(r(80617));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,r=e.permission,l=e.is_home,f=e.children,_=e.handleChoosePermission,p=e.handleCreate,m=e.handleDiscard,v=e.handleClose,h=(0,a.useContext)(o.context_api),y=h.user,x=h.openScreenFloor;return n.default.createElement("div",{className:"StoryLeftCommonPcC pos-fixed story-create-left h-100per display-flex flex-col "+(t?"":"StoryLeftCommonPcC-no_fav")},t?n.default.createElement("div",{className:"StoryLeftCommonPcC_fav"},n.default.createElement(c.default,{handleClose:v})):null,n.default.createElement("div",{className:"StoryLeftCommonPcC_main flex-grow-1 display-flex flex-col overflow-hidden"},n.default.createElement("div",{className:"StoryLeftCommonPcC_title"},n.default.createElement(u.default,{openChangeSetting:function(){(0,i.openScreenPermission)({permission:r,openScreenFloor:x,handleChoosePermission:_})}})),n.default.createElement("div",{className:"StoryLeftCommonPcC_body flex-grow-1 overflow-y-auto scroll-thin"},n.default.createElement("div",{className:"StoryLeftCommonPcC_user font-17px"},n.default.createElement(s.default,{user:y})),l?null:n.default.createElement("div",null,f)),l?null:n.default.createElement("div",{className:"StoryLeftCommonPcC_foot"},n.default.createElement(d.default,{handleCreate:p,handleDiscard:m}))))}r(59917),_.propTypes={show_fav:l.default.bool,is_home:l.default.bool,children:l.default.element,handleClose:l.default.func},_.defaultProps={show_fav:!1,is_home:!0,children:n.default.createElement("div",null)},t.default=_},80617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.handleCreate,r=e.handleDiscard;return a.default.createElement("div",{className:"StoryLeftPcCommonBtnC"},a.default.createElement("div",{className:"StoryLeftPcCommonBtnC_row display-flex space-around"},a.default.createElement("div",{className:"StoryLeftPcCommonBtnC_col"},a.default.createElement("button",{className:"wh-100 padding-4px btn btn-hv btn-active bg-ccc brs-5px text-align-center font-500 cursor-pointer",onClick:r},"Discard")),a.default.createElement("div",{className:"StoryLeftPcCommonBtnC_col"},a.default.createElement("button",{className:"wh-100 padding-4px btn btn-hv btn-active bg-blue brs-5px text-align-center font-500 text-white cursor-pointer",onClick:t},"Create story"))))}n(r(45697)),r(68378),l.propTypes={},t.default=l},54548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(67238)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openChangeSetting;return a.default.createElement("div",{className:"StoryLeftPcCommonTitleC"},a.default.createElement("div",{className:"flex-between-center"},a.default.createElement("h1",{className:"font-24px"},"Your story"),a.default.createElement("div",null,a.default.createElement("div",{className:"StoryLeftPcCommonTitleC_setting_contain display-flex-center bg-ccc brs-50 cursor-pointer hv-bg-hv",onClick:t},a.default.createElement(n.default,{size_icon:"1.25rem",fill:"none"})))))}r(65071),o.propTypes={},t.default=o},87710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children;return a.default.createElement("div",{className:"StoryCreatePreviewPcCommon h-100per padding-8px bg-primary brs-8px box-shadow-fb"},a.default.createElement("h2",{className:"StoryCreatePreviewPcCommon_title font-16px font-500"},"Preview"),a.default.createElement("div",{className:"flex-grow-1 "},a.default.createElement("div",{className:"StoryCreatePreviewPcCommon_body_contain wh-100 bg-shadow-9 brs-8px"},t)))}n(r(45697)),r(3355),l.propTypes={},t.default=l},22784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),o(r(2760))),l=o(r(57108));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.handleRotate;return a.default.createElement("button",{className:"btn btn-hv btn-active padding-8px bg-always-white cursor-pointer brs-8px",onClick:t},a.default.createElement(l.default,{Icon:n.default},a.default.createElement("span",{className:"font-500"},"Rotate")))}i.propTypes={},t.default=i},34762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=f(n),o=(f(r(45697)),r(55852)),i=r(58088),c=f(r(51360)),s=f(r(23497)),u=f(r(45702)),d=f(r(5872));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.ix,r=e.text_obj,f=e.show_action,_=e.openChangeText,p=e.handleMove,m=e.handleResize,v=e.handleRotate,h=e.handleDelete,y=r.text,x=r.color,b=r.font,g=r.trans_x,C=r.trans_y,E=r.rotate,P=r.scale,S=(0,n.useRef)(null);function w(){return S.current}return l.default.createElement("div",{ref:S,className:"StoryTextPicC pos-abs max-w-100per",style:{transform:"translate(-50%, -50%) translate("+g+"px, "+C+"px) rotate("+E+"deg)"}},l.default.createElement("div",{className:"StoryTextPicC_content padding-8px "+(f?"StoryTextPicC_content-active brs-5px":""),style:{fontSize:14*P+2+"px"}},l.default.createElement(d.default,{text:y,color:x,font:b,openChangeText:function(){_(t)},handleMouseMove:function(e){var r=e.client_x_change,a=e.client_y_change;p({ix:t,client_x_change:r,client_y_change:a})}})),l.default.createElement("div",{className:f?"":"display-none"},l.default.createElement("div",{className:"StoryTextPicC_del pos-abs top-left-center"},l.default.createElement(c.default,{handleDelete:function(){h(t)}})),l.default.createElement("div",null,o.IS_MOBILE?null:l.default.createElement("div",{className:"StoryTextPicC_resize pos-abs bottom-right-center"},l.default.createElement(s.default,{handleResize:function(e){var r=e.old_client_x,n=e.old_client_y,l=e.new_client_x,o=e.new_client_y;m(a({ix:t},(0,i.handleResizeRect)({elm:w(),old_client_x:r,old_client_y:n,new_client_x:l,new_client_y:o})))}})),l.default.createElement("div",{className:"StoryTextPicC_rotate pos-abs top-right-center "},l.default.createElement(u.default,{handleRotate:function(e){var r=e.old_client_x,n=e.old_client_y,l=e.new_client_x,o=e.new_client_y;v(a({ix:t},(0,i.handleRotateRect)({elm:w(),old_client_x:r,old_client_y:n,new_client_x:l,new_client_y:o})))}})))))}r(64827),_.propTypes={},t.default=_},51360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(37930)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.handleDelete;return a.default.createElement("div",{className:"StoryTextPicDel display-flex-center bg-primary brs-50 cursor-pointer",onClick:t},a.default.createElement(n.default,{y:400,size_icon:"1rem"}))}r(70233),o.propTypes={},t.default=o},5872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),r(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text,r=e.color,l=e.font,o=e.openChangeText,i=e.handleMouseMove,c=(0,n.useMouseMoveXY)({handleMouseMove:i}).handleStart;return a.default.createElement("div",{className:"StoryTextContentPicC pos-rel cursor-move",onDoubleClick:o,onMouseDown:c},a.default.createElement("div",{className:"text-align-center pointer-events-none"},a.default.createElement("span",{className:"font-500",style:{fontFamily:l,color:r}},t)),a.default.createElement("div",{className:"pos-abs-100"}))}r(66088),o.propTypes={},t.default=o},23497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),r(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.handleResize,r=(0,n.useMouseMoveXY)({handleMouseMove:t}).handleStart;return a.default.createElement("div",{className:"StoryTextResizePicC padding-4px brs-50 bg-always-white",onMouseDown:r})}r(78702),o.propTypes={},t.default=o},45702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),r(51353)),l=o(r(2760));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.handleRotate,r=(0,n.useMouseMoveXY)({handleMouseMove:t}).handleStart;return a.default.createElement("div",{className:"StoryTextRotatePicC display-flex-center bg-primary brs-50 cursor-pointer",onMouseDown:r,onTouchStart:r},a.default.createElement(l.default,{size_icon:"1rem"}))}r(13946),i.propTypes={},t.default=i},94588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=c(r(67294)),n=(c(r(45697)),c(r(78775))),l=c(r(46198)),o=c(r(42709)),i=c(r(34857));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.value,r=e.handleMouseMove,c=e.handleMouseEnd;return a.default.createElement("div",{className:"StoryZoomPic"},a.default.createElement("div",{className:"flex-between-center"},a.default.createElement("div",{className:"padding-4px "+(t<=0?"cursor-not-allowed":"cursor-pointer"),onClick:function(){t>0&&r(-5)}},a.default.createElement("span",{className:"StoryZoomPic_btn text-white font-500"},"-")),a.default.createElement("div",{className:"StoryZoomPic_center flex-grow-1"},a.default.createElement(n.default,{range:a.default.createElement(l.default,null),active_range:a.default.createElement(o.default,null),slider:a.default.createElement(i.default,null),value:t,handleMouseMove:r,handleMouseEnd:c})),a.default.createElement("div",{className:"padding-4px "+(t>=100?"cursor-not-allowed":"cursor-pointer"),onClick:function(){t<100&&r(5)}},a.default.createElement("span",{className:"StoryZoomPic_btn text-white font-500"},"+"))))}r(87922),s.propTypes={},t.default=s},42709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return a.default.createElement("div",{className:"StoryZoomActive padding-4px bg-blue brs-5px"})}n(r(45697)),l.propTypes={},t.default=l},46198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return a.default.createElement("div",{className:"StoryZoomRange padding-4px bg-always-white brs-5px"})}n(r(45697)),l.propTypes={},t.default=l},34857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(){return a.default.createElement("div",{className:"StoryZoomSlider padding-8px bg-always-white brs-50 cursor-pointer"})}n(r(45697)),r(9440),l.propTypes={},t.default=l},56022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=c(n),o=(c(r(45697)),r(82403)),i=c(r(37930));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.vid_pic,r=e.text,c=e.font_family,s=e.scale,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({is_show_more:!1}),2),d=u[0],f=u[1],_=d.is_show_more,p=(0,n.useRef)(null),m=(0,n.useRef)(!1),v=(0,o.useForceUpdate)();return(0,n.useEffect)((function(){var e=r.trim()&&p.current.scrollHeight>=22*s*5;m.current!=e&&(m.current=e,v())}),[r]),l.default.createElement("div",{className:"wh-100 pos-rel"},l.default.createElement("img",{src:t,alt:"",className:"wh-100"}),l.default.createElement("div",{className:"StoryTextContentC_text pos-abs-center display-flex flex-col justify-content-center w-100per text-white",style:{fontFamily:c,fontSize:22*s+"px",lineHeight:22*s+"px"}},l.default.createElement("div",{ref:p,className:"StoryTextContentC_text_contain text-align-center "+(_?"overflow-y-auto scroll-thin max-h-100per":"StoryTextContentC_text_contain-less overflow-hidden")},l.default.createElement("span",{className:"StoryTextContentC_text_contain_item font-700"},r||"START TYPING")),m.current?l.default.createElement("div",{className:"width-fit-content padding-8px cursor-pointer",onClick:function(){p.current.scrollTop=0,f((function(e){return a({},e,{is_show_more:!_})}))}},l.default.createElement("div",{className:"display-flex align-items-center"},l.default.createElement("div",{className:"font-14px font-500"},_?"See less":"See more"),l.default.createElement("div",{className:"StoryTextContentC_icon_more display-flex-center brs-50 bg-primary "+(_?"StoryTextContentC_icon_more-less":"StoryTextContentC_icon_more-more")},l.default.createElement(i.default,{x:200,size_icon:"0.75rem"})))):null))}r(14493),s.propTypes={},t.default=s},48759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=f(n),o=f(r(45697)),i=r(15130),c=r(39309);r(16458);var s=f(r(64838)),u=f(r(56235)),d=f(r(23802));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,r=(e.closeScreen,(0,n.useContext)(i.context_api).openScreenFloor),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({create_type:"",vid_pic:"",vid_pic_width:0,permission:0}),2),f=o[0],_=o[1],p=f.create_type,m=f.vid_pic,v=f.vid_pic_width,h=f.permission;function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_((function(t){return a({},t,{create_type:e})}))}function x(e){_(a({},f,{permission:e}))}function b(e){console.log(e)}function g(){(0,c.openScreenConfirm)({openScreenFloor:r,title:"Discard story?",notification:"Are you sure that you want to discard this story? Your story won't be saved.",handleConfirm:y})}function C(){history.back()}function E(){""!=p?(0,c.openScreenConfirm)({openScreenFloor:r,title:"Discard story?",notification:"Are you sure that you want to discard this story? Your story won't be saved.",handleConfirm:C}):C()}return(0,n.useEffect)((function(){document.title="Create story"}),[]),l.default.createElement("div",{className:"StoryCreatePc "+(t?"StoryCreatePc_has_fav":"StoryCreatePc_not_fav")},""==p?l.default.createElement(s.default,{show_fav:t,permission:h,handleChoosePermission:x,openScreenStoryText:function(){y("text")},openScreenStoryPic:function(e){var t=e.vid_pics[0].vid_pic,r=e.files;console.log(r),_(a({},f,{create_type:"pic",vid_pic:t}))},handleCloseScreen:E}):"text"==p?l.default.createElement(u.default,{show_fav:t,permission:h,handleChoosePermission:x,handleCreate:b,handleDiscard:g,handleClose:E}):l.default.createElement(d.default,{show_fav:t,vid_pic:m,vid_pic_width:v,permission:h,handleChoosePermission:x,handleCreate:b,handleDiscard:g,handleClose:E}))}r(5868),_.propTypes={show_fav:o.default.bool,closeScreen:o.default.func},_.defaultProps={show_fav:!1},t.default=_},64838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(67294)),n=(i(r(45697)),i(r(85935))),l=i(r(64116)),o=i(r(79194));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.permission,r=e.show_fav,i=e.handleChoosePermission,c=e.openScreenStoryText,s=e.openScreenStoryPic,u=e.handleCloseScreen;return a.default.createElement("div",{className:"StoryCreateHomePc h-100per"},a.default.createElement("div",{className:"display-flex h-100per"},a.default.createElement("div",{className:"StoryCreateHomePc_left story-create-left bg-primary"},a.default.createElement(n.default,{permission:t,show_fav:r,is_home:!0,handleChoosePermission:i,handleClose:u})),a.default.createElement("div",{className:"StoryCreateHomePc_right flex-grow-1 display-flex-center "+(r?"StoryCreateHomePc_right-has_fav":"StoryCreateHomePc_right-no_fav")},a.default.createElement("div",{className:"StoryCreateHomePc_choice"},a.default.createElement(l.default,{openScreenStoryPic:s})),a.default.createElement("div",{className:"StoryCreateHomePc_choice"},a.default.createElement(o.default,{openScreenStoryText:c})))))}r(16169),c.propTypes={},t.default=c},23802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=f(n),o=(f(r(45697)),r(55852)),i=r(98503),c=r(22391),s=f(r(890)),u=f(r(9647)),d=f(r(73408));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e){e.vid_pic_width;var t=e.vid_pic,r=e.show_fav,f=e.permission,p=e.handleChoosePermission,m=e.handleCreate,v=e.handleDiscard,h=e.handleClose,y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({story_width:0,vid_pic_obj:{vid_pic:t,trans_x:0,trans_y:0,scale:1,rotate:0},text_arr:[]||0,add_text_obj:{is_open:!1,text:"",active_font_ix:0,active_color_ix:0,num:0}}),2),x=y[0],b=y[1],g=x.story_width,C=x.vid_pic_obj,E=x.text_arr,P=x.add_text_obj,S=C.rotate,w=P.num,M=(0,n.useRef)(null);function T(){return M.current.offsetHeight*o.STORY_WIDTH_HEIGHT_RATIO||.1}return(0,c.useWaitingResize)({handleResize:function(){b((function(e){var t=T(),r=t/e.story_width,n=a({},e.vid_pic_obj),l=[].concat(_(e.text_arr));return n.trans_x*=r,n.trans_y*=r,l.forEach((function(e){return e.trans_x*=r,e.trans_y*=r,e.scale*=r,e})),a({},e,{story_width:t,vid_pic_obj:n})}))}}),(0,n.useEffect)((function(){b(a({},x,{story_width:T()}))}),[]),l.default.createElement(s.default,{show_fav:r,permission:f,handleChoosePermission:p,handleCreate:function(){m(a({},x))},handleDiscard:v,handleClose:h,children_left:l.default.createElement(u.default,{openAddText:function(e){e.stopPropagation(),!P.is_open&&b((function(e){return a({},e,{add_text_obj:{is_open:!0,text:"",active_font_ix:0,active_color_ix:0,num:E.length}})}))},is_open:P.is_open}),children_right:l.default.createElement(d.default,{ref_body_elm:M,story_width:g,vid_pic_obj:C,text_arr:E,add_text_obj:P,value_zoom_pic:C.scale*o.SCALE_PIC_RATIO,openChangeText:function(e){!P.is_open&&b(a({},x,{add_text_obj:{is_open:!0,text:E[e].text,active_font_ix:i.data_story_font_arr.findIndex((function(t){return t==E[e].font})),active_color_ix:i.data_story_text_color_arr.findIndex((function(t){return t==E[e].color})),num:e}}))},handleAddText:function(e){var t=e.text,r=e.active_color_ix,n=e.active_font_ix;if(t.trim()){var l=[].concat(_(E)),o=i.data_story_font_arr[n],c=i.data_story_text_color_arr[r];w==E.length?l.push({key:Math.floor(1e5*Math.random()),text:t,color:c,font:o,trans_x:0,trans_y:0,rotate:0,scale:g/200}):(l[w].text=t,l[w].color=c,l[w].font=o),b(a({},x,{text_arr:l,add_text_obj:{is_open:!1,text:"",active_color_ix:0,active_font_ix:0,num:0}}))}else if(w==E.length)b((function(e){return a({},e,{add_text_obj:{is_open:!1,text:"",active_font_ix:0,active_color_ix:0,num:0}})}));else{var s=[].concat(_(E));s.splice(P.num,1),b(a({},x,{text_arr:s,add_text_obj:{is_open:!1,text:"",active_color_ix:0,active_font_ix:0,num:0}}))}},handleMovePic:function(e){var t=e.client_x_change,r=e.client_y_change;b((function(e){return a({},e,{vid_pic_obj:a({},e.vid_pic_obj,{trans_x:e.vid_pic_obj.trans_x+t,trans_y:e.vid_pic_obj.trans_y+r})})}))},handleMoveText:function(e){var t=e.ix,r=e.client_x_change,n=e.client_y_change;b((function(e){var l=[].concat(_(e.text_arr));return l[t].trans_x+=r,l[t].trans_y+=n,a({},e,{text_arr:l})}))},handleResizeText:function(e){var t=e.ix,r=e.scale_change;b((function(e){var n=[].concat(_(e.text_arr));return n[t].scale+=r,n[t].scale<=0&&(n[t].scale=0),a({},e,{text_arr:n})}))},handleRotateText:function(e){var t=e.ix,r=e.rotate_change;b((function(e){var n=[].concat(_(e.text_arr));return n[t].rotate+=r,a({},e,{text_arr:n})}))},handleDeleteText:function(e){var t=[].concat(_(E));t.splice(e,1),b(a({},x,{text_arr:t}))},handleMouseMoveZoom:function(e){b((function(t){var r=t.vid_pic_obj.scale+e/o.SCALE_PIC_RATIO;return r<=0?r=0:r>=100/o.SCALE_PIC_RATIO&&(r=100/o.SCALE_PIC_RATIO),a({},t,{vid_pic_obj:a({},t.vid_pic_obj,{scale:r})})}))},handleMouseEndZoom:function(){},handleRotatePic:function(){b((function(e){return a({},e,{vid_pic_obj:a({},C,{rotate:S+90==360?0:S+90})})}))}})})}p.propTypes={},t.default=p},9647:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=l(r(45697));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openAddText,r=e.is_open;return a.default.createElement("div",{className:"StoryPicLeftPcC padding-8px brs-8px "+(r?"bg-fb-active":"cursor-pointer hv-bg-hv"),onClick:t},a.default.createElement("div",{className:"display-flex align-items-center"},a.default.createElement("div",null,a.default.createElement("div",{className:"StoryPicLeftPcC_left_contain display-flex-center brs-50 bg-ccc"},a.default.createElement("span",{className:"font-12px"},"Aa"))),a.default.createElement("div",{className:"StoryPicLeftPcC_right"},a.default.createElement("div",{className:"StoryPicLeftPcC_right_contain"},a.default.createElement("span",{className:"font-17px font-500"},"Add Text")))))}r(40569),o.propTypes={openAddText:n.default.func},t.default=o},73408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(67294)),n=(i(r(45697)),i(r(56016))),l=i(r(32496)),o=i(r(71709));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.ref_body_elm,r=e.story_width,i=e.vid_pic_obj,c=e.text_arr,s=e.add_text_obj,u=e.value_zoom_pic,d=e.openChangeText,f=e.handleAddText,_=e.handleMovePic,p=e.handleMoveText,m=e.handleResizeText,v=e.handleRotateText,h=e.handleDeleteText,y=e.handleMouseMoveZoom,x=e.handleMouseEndZoom,b=e.handleRotatePic;return a.default.createElement("div",{className:"StoryPicRightPcC display-flex flex-col h-100per"},a.default.createElement("div",{ref:t,className:"flex-grow-1 display-flex-center overflow-hidden"},a.default.createElement("div",{className:"pos-rel h-100per",style:{width:r+"px"}},a.default.createElement(n.default,{vid_pic_obj:i,text_arr:c,add_text_obj:s,openChangeText:d,handleMovePic:_,handleMoveText:p,handleResizeText:m,handleRotateText:v,handleDeleteText:h}),s.is_open?a.default.createElement("div",{className:"pos-abs-100 bg-shadow-5"},a.default.createElement(o.default,{add_text_obj:s,handleAddText:f})):null)),a.default.createElement("div",null,a.default.createElement(l.default,{value_zoom:u,handleMouseMoveZoom:y,handleMouseEndZoom:x,handleRotatePic:b})))}r(73516),c.propTypes={},t.default=c},71709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=u(n),o=(u(r(45697)),r(98503)),i=u(r(35214)),c=u(r(15636)),s=u(r(82319));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.add_text_obj,r=e.handleAddText,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({text:t.text,active_font_ix:t.active_font_ix,active_color_ix:t.active_color_ix}),2),d=u[0],f=u[1],_=d.text,p=d.active_color_ix,m=d.active_font_ix;return l.default.createElement(i.default,{makeDivHidden:function(){r({text:_,active_color_ix:p,active_font_ix:m})}},l.default.createElement("div",{className:"StoryAddTextPcC pos-abs-100"},l.default.createElement("div",{className:"pos-abs-center w-100per max-h-100per overflow-y-auto scroll-thin"},l.default.createElement(c.default,{text:_,font:o.data_story_font_arr[m],color:o.data_story_text_color_arr[p],handleChange:function(e){f(a({},d,{text:e}))}})),l.default.createElement("div",{className:"pos-abs left-100per y-center"},l.default.createElement(s.default,{font_arr:o.data_story_font_arr,color_arr:o.data_story_text_color_arr,active_font_ix:m,active_color_ix:p,handleChangeFont:function(e){f(a({},d,{active_font_ix:e}))},handleChangeColor:function(e){f(a({},d,{active_color_ix:e}))}}))))}d.propTypes={},t.default=d},82319:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),o(r(29274))),l=o(r(37768));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.font_arr,r=e.color_arr,o=e.active_font_ix,i=e.active_color_ix,c=e.handleChangeFont,s=e.handleChangeColor;return a.default.createElement("div",{className:"StoryAddTextFontColorPcC display-flex flex-col padding-8px bg-primary brs-8px"},a.default.createElement("div",{className:"padding-4px"},a.default.createElement(n.default,{active_ix:o,font_arr:t,handleChangeFont:c})),a.default.createElement("div",{className:"flex-grow-1 padding-4px"},a.default.createElement(l.default,{color_arr:r,active_ix:i,handleChange:s})))}r(35002),i.propTypes={},t.default=i},37768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(93884)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.color_arr,r=e.active_ix,l=e.handleChange;return a.default.createElement("div",{className:"StoryAddTextColorPcC h-100per padding-4px brs-5px"},a.default.createElement("ul",{className:"list-none display-flex justify-content-center flex-wrap"},t.map((function(e,t){return a.default.createElement("li",{key:""+t,className:"StoryAddTextColorPcC_item"},a.default.createElement(n.default,{ix:t,is_active:r==t,color:e,handleChange:l}))}))))}r(61908),o.propTypes={},t.default=o},93884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.ix,r=e.is_active,n=e.color,l=e.handleChange;return a.default.createElement("div",{className:"StoryAddTextColorItemPcC brs-50 "+(r?"StoryAddTextColorItemPcC_active pointer-events-none":"StoryAddTextColorItemPcC_inactive cursor-pointer"),style:{backgroundColor:n},onClick:function(){l(t)}})}n(r(45697)),r(10792),l.propTypes={},t.default=l},15636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),r(66878));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text,r=e.font,l=e.color,o=e.handleChange;return a.default.createElement("textarea",{className:"StoryAddTextInputPcC w-100per padding-8px overflow-hidden text-align-center font-20px font-700",name:"add_text",value:t,rows:1,placeholder:"Start typing",style:{fontFamily:r,color:l},onChange:function(e){o(e.target.value),(0,n.makeAutoHeight)(e)}})}r(89350),o.propTypes={},t.default=o},56016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),o(r(52386))),l=o(r(54272));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.vid_pic_obj,r=e.text_arr,o=e.add_text_obj,i=e.openChangeText,c=e.handleMovePic,s=e.handleMoveText,u=e.handleResizeText,d=e.handleRotateText,f=e.handleDeleteText;return a.default.createElement("div",{className:"StoryPicBdPcC pos-rel wh-100 user-select-none"},a.default.createElement("div",{className:"StoryPicBdPcC_bg pos-abs-100",style:{backgroundImage:"url("+t.vid_pic+")"}}),a.default.createElement("div",{className:"pos-abs-center w-100per"},a.default.createElement(l.default,{vid_pic_obj:t,handleMove:c})),r.map((function(e,t){return a.default.createElement("div",{key:""+e.key,className:"pos-abs-center w-100per z-index-lv1 "+(o.is_open&&o.num==t?"display-none":"")},a.default.createElement(n.default,{ix:t,text_obj:e,openChangeText:i,handleMove:s,handleResize:u,handleRotate:d,handleDelete:f}))})),a.default.createElement("div",{className:"pos-abs-center crop-border pointer-events-none"}))}r(29852),i.propTypes={},t.default=i},54272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),r(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.vid_pic_obj,r=e.handleMove,l=t.vid_pic,o=t.trans_x,i=t.trans_y,c=t.scale,s=t.rotate,u=(0,n.useMouseMoveXY)({handleMouseMove:r}).handleStart;return a.default.createElement("div",{className:"StoryPicBdPicPcC pos-abs cursor-move w-100per left-50per top-50per",style:{transform:"translate(-50%, -50%) translate("+o+"px, "+i+"px) rotate("+s+"deg) scale("+c+")"},onMouseDown:u},a.default.createElement("img",{className:"StoryPicBdPicPcC_img pointer-events-none w-100per",src:l,alt:""}),a.default.createElement("div",{className:"pos-abs-100"}))}r(30760),o.propTypes={},t.default=o},52386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(67294),n=o(a),l=(o(r(45697)),o(r(34762)));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.ix,r=e.text_obj,o=e.openChangeText,i=e.handleMove,c=e.handleResize,s=e.handleRotate,u=e.handleDelete,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)(!1),2),f=d[0],_=d[1];return n.default.createElement("div",{className:"StoryPicBdTextPcC",onMouseEnter:function(){_(!0)},onMouseLeave:function(){_(!1)}},n.default.createElement(l.default,{ix:t,show_action:f,text_obj:r,openChangeText:o,handleMove:i,handleResize:c,handleRotate:s,handleDelete:u}))}i.propTypes={},t.default=i},32496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),n=(o(r(45697)),o(r(94588))),l=o(r(22784));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.value_zoom,r=e.handleMouseMoveZoom,o=e.handleMouseEndZoom,i=e.handleRotatePic;return a.default.createElement("div",{className:"StoryPicFootPcC padding-4px user-select-none"},a.default.createElement("div",{className:"display-flex-center"},a.default.createElement("div",{className:"StoryPicFootPcC_left"},a.default.createElement(n.default,{value:t,handleMouseMove:r,handleMouseEnd:o})),a.default.createElement("div",{className:"StoryPicFootPcC_right"},a.default.createElement(l.default,{handleRotate:i}))))}r(41873),i.propTypes={},t.default=i},56235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=f(n),o=(f(r(45697)),r(55852)),i=r(98503),c=r(22391),s=f(r(890)),u=f(r(28378)),d=f(r(21183));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,r=e.permission,f=e.handleChoosePermission,_=e.handleCreate,p=e.handleDiscard,m=e.handleClose,v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({text:"",bg_ix:0,font_ix:0,story_width:0}),2),h=v[0],y=v[1],x=h.text,b=h.bg_ix,g=h.font_ix,C=h.story_width,E=i.data_story_bg_arr[b],P=i.data_story_font_arr[g],S=(0,n.useRef)(null);function w(){y((function(e){return a({},e,{story_width:S.current.scrollHeight*o.STORY_WIDTH_HEIGHT_RATIO})}))}return(0,c.useWaitingResize)({handleResize:w}),(0,n.useEffect)((function(){w()}),[]),l.default.createElement(s.default,{show_fav:t,permission:r,handleChoosePermission:f,handleCreate:function(){_(a({},h))},handleDiscard:p,handleClose:m,children_left:l.default.createElement(u.default,{font_arr:i.data_story_font_arr,bg_arr:i.data_story_bg_arr,text:x,active_font_ix:g,active_bg_ix:b,handleChange:function(e){y((function(t){return a({},t,{text:e.target.value})}))},handleChangeFont:function(e){y((function(t){return a({},t,{font_ix:e})}))},handleChooseBg:function(e){y((function(t){return a({},t,{bg_ix:e})}))}}),children_right:l.default.createElement(d.default,{ref_body_elm:S,bg:E,text:x,font_family:P,story_width:C})})}_.propTypes={},t.default=_},28378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(67294)),n=(i(r(45697)),i(r(96337))),l=i(r(73869)),o=i(r(71775));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.font_arr,r=e.bg_arr,i=e.text,c=e.active_font_ix,s=e.active_bg_ix,u=e.handleChange,d=e.handleChangeFont,f=e.handleChooseBg;return a.default.createElement("div",{className:"StoryCreateTextLeftPc"},a.default.createElement("div",{className:"StoryCreateTextLeftPc_part padding-4px"},a.default.createElement(n.default,{text:i,handleChange:u})),a.default.createElement("div",{className:"StoryCreateTextLeftPc_part"},a.default.createElement(l.default,{font_arr:t,active_ix:c,handleChangeFont:d})),a.default.createElement("div",{className:"StoryCreateTextLeftPc_part"},a.default.createElement(o.default,{active_ix:s,bg_arr:r,handleChooseBg:f})))}r(49502),c.propTypes={},t.default=c},71775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(64754)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.bg_arr,r=e.active_ix,l=e.handleChooseBg;return a.default.createElement("div",{className:"StoryBgPcC padding-8px brs-8px"},a.default.createElement(n.default,{bg_img_arr:t,active_ix:r,handleChooseBg:l}))}r(80102),o.propTypes={},t.default=o},73869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(29274)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.font_arr,r=e.active_ix,l=e.handleChangeFont;return a.default.createElement("div",{className:"StoryFontPcC"},a.default.createElement(n.default,{active_ix:r,font_arr:t,handleChangeFont:l}))}o.propTypes={},t.default=o},96337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.text,r=e.handleChange;return a.default.createElement("div",{className:"StoryTextPcC pos-rel brs-5px"},a.default.createElement("textarea",{className:"StoryTextPcC_textarea overflow-y-auto scroll-thin wh-100",rows:"1",value:t,placeholder:"Start typing",spellCheck:!1,onChange:r}),a.default.createElement("div",{className:"StoryTextPcC_title"},a.default.createElement("div",null,a.default.createElement("span",{className:"font-12px"},"Text"))))}n(r(45697)),r(53107),l.propTypes={},t.default=l},21183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(67294)),n=(l(r(45697)),l(r(56022)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ref_body_elm,r=e.bg,l=e.text,o=e.font_family,i=e.story_width;return a.default.createElement("div",{className:"StoryCreateTextRightPc pos-rel wh-100 padding-8px"},a.default.createElement("div",{className:"display-flex-center h-100per"},a.default.createElement("div",{ref:t,className:"StoryCreateTextRightPc_item pos-rel h-100per brs-8px overflow-hidden",style:{width:i+"px"}},a.default.createElement(n.default,{vid_pic:r,text:l,font_family:o,scale:i/200}))))}r(28752),o.propTypes={},t.default=o},19400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=r(67294),l=s(n),o=s(r(45697)),i=r(5306),c=r(32006);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.vid_pic,r=e.type,o=e.video_props,s=e.img_props,u=(0,c.getTypeVidOrPic)(t,r),d=(0,n.useRef)(null),f=(0,i.useObserveVidPic)(d);return(0,n.useEffect)((function(){d.current&&d.current.src&&(d.current.src=t)}),[t]),"img"==u?l.default.createElement("img",a({ref:d,className:""+f,"data-src":t,alt:""},s)):"video"==u?l.default.createElement("video",a({ref:d,className:""+f,"data-src":t},o)):null}u.propTypes={vid_pic:o.default.string,type:o.default.string,video_props:o.default.object,img_props:o.default.object},u.defaultProps={video_props:{},img_props:{}},t.default=u},41286:(e,t,r)=>{"use strict";r.r(t)},56352:(e,t,r)=>{"use strict";r.r(t)},59536:(e,t,r)=>{"use strict";r.r(t)},79945:(e,t,r)=>{"use strict";r.r(t)},69361:(e,t,r)=>{"use strict";r.r(t)},49230:(e,t,r)=>{"use strict";r.r(t)},62180:(e,t,r)=>{"use strict";r.r(t)},46281:(e,t,r)=>{"use strict";r.r(t)},16833:(e,t,r)=>{"use strict";r.r(t)},92778:(e,t,r)=>{"use strict";r.r(t)},59917:(e,t,r)=>{"use strict";r.r(t)},68378:(e,t,r)=>{"use strict";r.r(t)},65071:(e,t,r)=>{"use strict";r.r(t)},3355:(e,t,r)=>{"use strict";r.r(t)},64827:(e,t,r)=>{"use strict";r.r(t)},70233:(e,t,r)=>{"use strict";r.r(t)},66088:(e,t,r)=>{"use strict";r.r(t)},78702:(e,t,r)=>{"use strict";r.r(t)},13946:(e,t,r)=>{"use strict";r.r(t)},87922:(e,t,r)=>{"use strict";r.r(t)},9440:(e,t,r)=>{"use strict";r.r(t)},14493:(e,t,r)=>{"use strict";r.r(t)},5868:(e,t,r)=>{"use strict";r.r(t)},16458:(e,t,r)=>{"use strict";r.r(t)},16169:(e,t,r)=>{"use strict";r.r(t)},40569:(e,t,r)=>{"use strict";r.r(t)},73516:(e,t,r)=>{"use strict";r.r(t)},35002:(e,t,r)=>{"use strict";r.r(t)},61908:(e,t,r)=>{"use strict";r.r(t)},10792:(e,t,r)=>{"use strict";r.r(t)},89350:(e,t,r)=>{"use strict";r.r(t)},29852:(e,t,r)=>{"use strict";r.r(t)},30760:(e,t,r)=>{"use strict";r.r(t)},41873:(e,t,r)=>{"use strict";r.r(t)},49502:(e,t,r)=>{"use strict";r.r(t)},80102:(e,t,r)=>{"use strict";r.r(t)},53107:(e,t,r)=>{"use strict";r.r(t)},28752:(e,t,r)=>{"use strict";r.r(t)}}]);
//# sourceMappingURL=8759.js.map