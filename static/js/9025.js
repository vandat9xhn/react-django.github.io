(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[9025],{6171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handle_API_ShortVideo_R=void 0;var n=r(28206),a=r(69565);t.handle_API_ShortVideo_R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout((function(){t({short_video_obj:(0,n.default_short_video_obj)(e),next_id:(0,a.getRandomId)()})}),250)}))}},83501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useShortVideoMain=function(e){var t=e.initial_is_play,r=void 0===t||t,a=e.initial_ref_video,i=void 0===a?{current:null}:a,l=e.currentTime,o=void 0===l?0:l,s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)(r),2),c=s[0],u=s[1],d=i||(0,n.useRef)(null);return(0,n.useEffect)((function(){o&&(d.current.currentTime=o)}),[]),{ref_video:d,is_play:c,togglePlay:function(){u((function(e){var t=!e;return t?d.current.play():d.current.pause(),t}))},setIsPlay:u}};var n=r(67294)},34951:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(67294)),a=(o(r(45697)),o(r(26277))),i=o(r(82866)),l=o(r(25580));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.video,r=e.currentTime,o=e.paused,s=e.thumb,c=e.interacts,u=e.name,d=e.picture,f=e.content,h=e.link_to,p=e.is_fetching,m=e.show_screen_title,_=e.is_has_next,v=e.is_has_prev,y=e.handleAction,x=e.closeScreenTitle,g=e.handleNext,b=e.handlePrev;return n.default.createElement(a.default,{is_fetching:p,show_screen_title:m,is_has_next:_,is_has_prev:v,handleNext:g,handlePrev:b,closeScreenTitle:x},n.default.createElement("div",{className:"ShortVideoFullPc pos-rel"},n.default.createElement("div",{className:"ShortVideoFullPc_bg pos-abs-100",style:{backgroundImage:"url("+s+")"}}),n.default.createElement("div",{className:"pos-abs-100 bg-shadow-8"}),n.default.createElement("div",{className:"ShortVideoFullPc_contain pos-rel display-flex-center wh-100 padding-y-10px text-white"},n.default.createElement("div",{className:"padding-20px"},n.default.createElement("div",{className:"padding-10px"})),n.default.createElement("div",{className:"ShortVideoFullPc_video brs-10px-pc overflow-hidden"},n.default.createElement(l.default,{video:t,initial_is_play:!o,currentTime:r,name:u,picture:d,link_to:h,content:f})),n.default.createElement("div",{className:"h-100per"},n.default.createElement(i.default,{interacts:c,handleAction:y})))))}r(29101),s.propTypes={},t.default=s},26277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(67294)),a=(o(r(45697)),o(r(1320))),i=o(r(98989)),l=o(r(61498));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.is_fetching,r=e.show_screen_title,o=e.is_has_next,s=e.is_has_prev,c=e.children,u=e.handleNext,d=e.handlePrev,f=e.closeScreenTitle;return n.default.createElement(n.default.Fragment,null,t?n.default.createElement("div",{className:"pos-fixed-100per bg-black"},n.default.createElement("div",{className:"pos-abs-center"},n.default.createElement(i.default,{is_fetching:!0}))):c,n.default.createElement("div",{className:"pos-abs left-0 top-0 padding-left-8px"},n.default.createElement(a.default,{show_screen_title:r,has_download:!1,tooltipCloseElm:"Close",closeScreenTitle:f})),n.default.createElement("div",{className:"pos-abs top-50per left-0 w-100per"},n.default.createElement("div",{className:"NextPrevDivScreen pos-rel margin-auto w-620px max-w-100per"},n.default.createElement(l.default,{is_btn_circle:!0,is_has_next:o&&!t,is_has_prev:s,handleNext:u,handlePrev:d}))))}s.propTypes={},t.default=s},25580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(67294)),a=r(93191),i=(o(r(45697)),r(83501)),l=o(r(37709));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.video,r=e.initial_is_play,o=e.currentTime,s=e.name,c=e.picture,u=e.link_to,d=e.content,f=(0,i.useShortVideoMain)({initial_is_play:r,currentTime:o}),h=f.ref_video,p=f.is_play,m=f.togglePlay;return n.default.createElement("div",{className:"ShortVideoFullMainPc pos-rel wh-100 font-14px bg-black"},n.default.createElement("div",{className:"display-flex align-items-center wh-100"},n.default.createElement("video",{ref:h,className:"w-100per max-h-100per object-fit-cover",src:t,autoPlay:r,loop:!0})),n.default.createElement("div",{className:"ShortVideoFullMainPc_user pos-abs-0 w-100per"},n.default.createElement("div",{className:"display-flex align-items-center padding-12px bg-shadow-05"},n.default.createElement(a.Link,{to:u,className:"display-block hv-after-shadow-05"},n.default.createElement("img",{className:"brs-50 object-fit-cover",src:c,alt:"",width:42,height:42})),n.default.createElement("div",{className:"margin-left-12px"},n.default.createElement(a.Link,{to:u,className:"text-white"},s)),n.default.createElement("div",{className:"margin-x-6px"},"Â·"),n.default.createElement("div",{className:"cursor-pointer",onClick:m,title:p?"Pause":"Play"},n.default.createElement(l.default,{x:p?200:0,size_icon:"16px"})))),n.default.createElement("div",{className:"ShortVideoFullMainPc_content pos-abs left-0 bottom-0 padding-12px bg-shadow-05 min-w-100per"},n.default.createElement("div",{className:"wk-box-vertical line-clamp-2 overflow-hidden"},d)))}r(18546),s.propTypes={},t.default=s},59025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(67294),i=u(a),l=r(93191),o=(u(r(45697)),r(6171)),s=r(30796),c=u(r(34951));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function f(e){var t=this,r=e.show_screen_title,u=void 0!==r&&r,f=e.closeScreenTitle,h=(0,l.useParams)().id,p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,a.useState)({list:[],ix:-1,next_id:0,is_fetching:!1}),2),m=p[0],_=p[1],v=m.list,y=m.ix,x=m.next_id,g=m.is_fetching,b=(0,a.useRef)(null),w=(0,a.useRef)([]);!u&&(0,s.useMakeBodyHidden)({hidden_header:!0,hidden_scroll:!0}),(0,a.useEffect)((function(){P(h)}),[]);var E,N,P=(E=regeneratorRuntime.mark((function e(){var r,a,i,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _((function(e){return n({},e,{is_fetching:!0})})),e.next=3,(0,o.handle_API_ShortVideo_R)(l);case 3:r=e.sent,a=r.short_video_obj,i=r.next_id,w.current.push({currentTime:0,paused:!1}),_((function(e){return{list:[].concat(d(e.list),[a]),ix:e.ix+1,next_id:i,is_fetching:!1}}));case 8:case"end":return e.stop()}}),e,t)})),N=function(){var e=E.apply(this,arguments);return new Promise((function(t,r){return function n(a,i){try{var l=e[a](i),o=l.value}catch(e){return void r(e)}if(!l.done)return Promise.resolve(o).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(o)}("next")}))},function(){return N.apply(this,arguments)}),S=function(){return b.current.getElementsByTagName("video")[0]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=S();w.current[e].currentTime=t.currentTime,w.current[e].paused=t.paused};return y<0?null:i.default.createElement("div",{ref:b},i.default.createElement(c.default,{key:v[y].id,video:v[y].video,currentTime:w.current[y].currentTime,paused:w.current[y].paused,thumb:v[y].thumb,interacts:v[y].interacts,name:v[y].name,picture:v[y].picture,content:v[y].content,link_to:v[y].link_to,is_fetching:g,show_screen_title:u,is_has_next:!0,is_has_prev:y>0,handleAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log(e)},closeScreenTitle:function(){f&&f()},handleNext:function(){T(y),v.length-1>y?(history.replaceState("","","/short-video/"+v[y+1].id),_((function(e){return n({},e,{ix:e.ix+1})}))):(history.replaceState("","","/short-video/"+x),P(x))},handlePrev:function(){0!==y&&(history.replaceState("","","/short-video/"+v[y-1].id),T(m.ix),_((function(e){return n({},e,{ix:e.ix-1})})))}}))}f.propTypes={},t.default=f},29101:(e,t,r)=>{"use strict";r.r(t)},18546:(e,t,r)=>{"use strict";r.r(t)}}]);
//# sourceMappingURL=9025.js.map