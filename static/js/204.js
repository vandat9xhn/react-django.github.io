(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[204],{82702:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(a(67294)),r=n(a(45697));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.size_icon,a=e.x,r=e.y,n=e.close_eye;return l.default.createElement("svg",{className:"IconsEye",height:t,width:t,viewBox:a+" "+r+" 200 200",stroke:"var(--black-brown)",fill:"var(--black-brown)",strokeLinecap:"round"},l.default.createElement("path",{d:"M200,300 Q300,200 400,300 Q300,400 200,300",fill:"none",strokeWidth:"10"}),l.default.createElement("circle",{className:n?"display-none":"",cx:"300",cy:"300",r:"30"}),l.default.createElement("g",{className:n?"":"display-none"},l.default.createElement("path",{d:"M200,300 Q300,350 400,300",fill:"none",strokeWidth:"20"}),l.default.createElement("line",{x1:"210",y1:"210",x2:"390",y2:"390",strokeWidth:"30"})))}i.propTypes={size_icon:r.default.string,color:r.default.string,x:r.default.number,y:r.default.number,close_eye:r.default.bool},i.defaultProps={x:0,y:0,size_icon:"1.5rem",close_eye:!0},t.default=i},54902:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignupRequest=void 0;var l,r=(l=a(62667))&&l.__esModule?l:{default:l},n=a(50918),i=a(7572);t.SignupRequest=function(e){return(0,n.API_FakeReal)(i.default_login,(0,r.default)({method:"POST",data:e,url:"/registration/sign-up/",headers:{"X-CSRFToken":(0,n.csrftoken)()}}))}},4124:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(a(67294)),r=n(a(45697));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,a=e.onClick,r=e.type,n=e.disabled,i=e.ripple_type,s=e.title;return l.default.createElement("button",{className:"ButtonRipple label-field "+(n?"opacity-5 pointer-events-none":"cursor-pointer"),type:r,title:s,disabled:n,onClick:a},l.default.createElement("div",{className:"ButtonRipple_common ButtonRipple_"+i+" "+(n?"display-none":"")}),t)}a(40824),i.propTypes={type:r.default.string,title:r.default.string,disabled:r.default.bool,ripple_type:r.default.string,children:r.default.any,onClick:r.default.func},i.defaultProps={title:"",type:"text",ripple_type:"right",disabled:!1},t.default=i},3028:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(67294),n=d(r),i=d(a(45697)),s=d(a(82702)),u=d(a(39475)),o=d(a(57108));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)(!0),2),a=t[0],i=t[1],d=e.field,c=e.form,f=e.label,m=e.placeholder,p=e.max_length,_=e.help,h=d.name,v=c.touched,y=c.errors,b=v[h]&&y[h];return n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("label",{className:"label-field",htmlFor:h},f)),n.default.createElement("div",{className:"InputPassword_password"},n.default.createElement("input",l({className:"InputPassword_input brs-5px "+(v[h]&&!y[h]?"InputPassword_valid":"")+" "+(v[h]&&y[h]?"InputPassword_invalid":"")},d,{maxLength:p,placeholder:m,type:a?"password":"text"})),n.default.createElement("div",{className:"InputPassword__eye"},n.default.createElement("div",{onClick:function(){i(!a)}},n.default.createElement(s.default,{x:200,y:200,close_eye:a})))),_&&n.default.createElement("div",{className:"help-text"},n.default.createElement(o.default,{Icon:u.default,x:600},"* ",_)),b&&n.default.createElement("div",{className:"error-field"},n.default.createElement(o.default,{Icon:u.default,x:400,y:400},y[h])))}a(38093),c.propTypes={field:i.default.object,form:i.default.object,label:i.default.string,max_length:i.default.number,placeholder:i.default.string},c.defaultProps={max_length:15},t.default=c},22607:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=u(a(67294)),n=u(a(45697)),i=u(a(57108)),s=u(a(39475));function u(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.field,a=e.form,n=e.type,u=e.label,o=e.placeholder,d=e.dataList,c=e.help,f=e.max_length,m=t.name,p=a.touched,_=a.errors,h=p[m]&&_[m],v="list_"+m+"_"+u;return r.default.createElement("div",{className:"InputText"},r.default.createElement("div",null,r.default.createElement("label",{className:"label-field",htmlFor:m},u)),r.default.createElement("div",null,r.default.createElement("input",l({className:"InputText_input brs-5px "+(p[m]&&!_[m]?"InputText_valid":"")+" "+(p[m]&&_[m]?"InputText_invalid":"")},t,{placeholder:o,type:n,list:v,maxLength:f}))),r.default.createElement("datalist",{id:v},d.map((function(e,t){return r.default.createElement("option",{key:"InputText_"+t},e)}))),c&&r.default.createElement("div",{className:"help-text"},r.default.createElement(i.default,{Icon:s.default,x:600},"* ",c)),h&&r.default.createElement("div",{className:"error-field"},r.default.createElement(i.default,{Icon:s.default,x:400,y:400},_[m])))}a(17727),o.propTypes={field:n.default.object,form:n.default.object,type:n.default.string,label:n.default.string,placeholder:n.default.string,dataList:n.default.array,help:n.default.string,max_length:n.default.number},o.defaultProps={dataList:[],type:"text"},t.default=o},55927:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fields=t.validationSchema=t.initialValues=void 0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(57503));t.initialValues={username:"",password:"",password_confirm:"",email:"",first_name:"",last_name:""},t.validationSchema=l.object().shape({username:l.string().matches(/^[a-zA-Z0-9]{5,15}$/,"Username is invalid").required(),password:l.string().matches(/[A-Z]/,"Password is invalid").required(),password_confirm:l.string().oneOf([l.ref("password"),null],"Password is not right").required(),email:l.string().email("Invalid email").matches(/^\S{3,10}@[a-z]mail\.com$/,"Invalid email").required(),first_name:l.string().matches(/^[a-zA-Z]{1}[a-zA-Z ]{1,20}$/,"First name is invalid").required().trim("First name is invalid"),last_name:l.string().matches(/^[a-zA-Z]{1}[a-zA-Z ]{1,14}$/,"Last name is invalid").required().trim("First name is invalid")}),t.fields=[{name:"username",type:"text",label:"Username",help:"5-15 letters and no space",max_length:15},{name:"password",type:"password",label:"Password",help:"5-15 letters, no space and at least 1 uppercase letter",max_length:15},{name:"password_confirm",type:"password",label:"Password confirm",help:"Confirm your password",max_length:15},{name:"email",type:"email",label:"Email",help:"***@*mail.com"},{name:"first_name",type:"text",label:"First name",help:"1-20 letters, spaces and start with a letter",max_length:20},{name:"last_name",type:"text",label:"Last name",help:"1-15 letters, spaces and start with a letter",max_length:15}]},6204:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(67294),n=y(r),i=a(93191),s=(y(a(45697)),a(18948)),u=a(54902),o=y(a(48321)),d=y(a(4124)),c=y(a(11781)),f=y(a(57108)),m=y(a(39475)),p=y(a(27883)),_=a(55927),h=y(a(22607)),v=y(a(3028));function y(e){return e&&e.__esModule?e:{default:e}}function b(e){var t,a,y=(t=regeneratorRuntime.mark((function e(t){var a,l,r,n,i,s,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,l=t.password,r=t.first_name,n=t.last_name,i=t.email,window.scroll(0,0),w(!0),s=(0,o.default)({username:a,password:l,email:i,first_name:r,last_name:n}),e.prev=4,e.next=7,(0,u.SignupRequest)(s);case 7:d=e.sent,"username_existed"==(c=d.data)?(S(!0),w(!1)):"email_existed"==c?(O(!0),w(!1)):(sessionStorage.new_member=1,setDataUser({id:c.user_id,first_name:c.first_name,last_name:c.last_name,picture:c.picture})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0),alert("Something was wrong"),w(!1);case 17:case"end":return e.stop()}}),e,this,[[4,12]])})),a=function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function l(r,n){try{var i=e[r](n),s=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(s).then((function(e){l("next",e)}),(function(e){l("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)}),b=(0,r.useState)(!1),g=l(b,2),x=g[0],w=g[1],E=(0,r.useState)(!1),P=l(E,2),k=P[0],S=P[1],N=(0,r.useState)(!1),I=l(N,2),j=I[0],O=I[1];function A(){k&&S(!1),j&&O(!1)}return(0,r.useEffect)((function(){document.title="Registration"}),[]),1==localStorage.is_login?n.default.createElement(i.Redirect,{to:"/home"}):n.default.createElement("div",null,n.default.createElement(s.Formik,{initialValues:_.initialValues,validationSchema:_.validationSchema,onSubmit:function(e,t){y(e)}},(function(e){return n.default.createElement(s.Form,{autoComplete:"off",className:"Registration_form App_Form brs-5px App_box_shadow",onClick:A},n.default.createElement("div",{className:"App_title"},"Sign up"),n.default.createElement("hr",{className:"App_hr-bg"}),n.default.createElement("div",{className:"Registration_error text-red "+(k||j?"":"display-none")},n.default.createElement(f.default,{Icon:m.default,x:400,y:400},k?"Username":"Email"," was existed")),_.fields.map((function(e,t){return n.default.createElement("div",{key:"Registration_"+t,className:"Registration_input"},n.default.createElement(s.FastField,{name:e.name,component:e.name.startsWith("password")?v.default:h.default,label:e.label,placeholder:e.label+"...",help:e.help,max_length:e.max_length}))})),")",n.default.createElement("div",{className:"App_submit"},n.default.createElement(d.default,{type:"submit",title:"Sign up",disabled:x},"Sign up")))})),n.default.createElement(c.default,{FetchingComponent:p.default,open_fetching:x}))}a(3912),b.propTypes={},t.default=b},40824:(e,t,a)=>{"use strict";a.r(t)},38093:(e,t,a)=>{"use strict";a.r(t)},17727:(e,t,a)=>{"use strict";a.r(t)},3912:(e,t,a)=>{"use strict";a.r(t)}}]);
//# sourceMappingURL=204.js.map