(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[330],{5306:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.useObserveVidPic=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)("vid_pic-observe opacity-0"),2),a=t[0],r=t[1];return(0,n.useEffect)((function(){e.current&&(0,l.default)({elements:[e.current],callback:function(){r("vid_pic-observe opacity-1")}})}),[e]),a};var r,n=a(67294),l=(r=a(66810))&&r.__esModule?r:{default:r}},3791:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=l(a(45697));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.size_icon,a=e.stroke;return r.default.createElement("svg",{width:t,height:t,viewBox:"0 0 200 200",stroke:a,strokeLinejoin:"round"},r.default.createElement("path",{d:"M35 185V83.2216H165V185H35Z",fill:a,strokeWidth:"15"}),r.default.createElement("path",{d:"M139.342 83.2217C139.342 83.2217 139.342 65.5908 139.342 49.5627C139.342 33.0701 119.263\r 16.3218 101.711 15.1023C81.8786 13.7244 57.2368 26.3219 57.2368 49.5627C57.2368 67.0889\r 57.2368 83.2217 57.2368 83.2217",strokeWidth:"20",fill:"none"}),r.default.createElement("path",{d:"M80.2326 158L90.876 136.877C90.876 136.877 78.1384 126.503 80.2326 119.004C82.3196\r 111.531 89.3841 106.21 99.3907 106.006C109.712 105.795 116.989 111.382 119.613\r 119.004C122.052  126.088 109.5 136.877 109.5 136.877L119.613 158H80.2326Z",fill:"white"}))}o.propTypes={size_icon:n.default.string,stroke:n.default.string},o.defaultProps={size_icon:"1rem",stroke:"var(--md-color)"},t.default=o},66810:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.elements,a=e.threshold,r=void 0===a?0:a,n=e.callback,l=void 0===n?function(){}:n,o=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.src=e.target.dataset.src,e.target.removeAttribute("data-src"),t.unobserve(e.target),l())}))}),{threshold:r});t.forEach((function(e){o.observe(e)}))}},58088:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCenterClientRect=n,t.getAngleWithCenterRect=l,t.getLengthFrom2Point=o,t.handleResizeRect=function(e){var t=e.elm,a=e.old_client_x,l=e.old_client_y,i=e.new_client_x,c=e.new_client_y,s=n(t),u=s.x_center,d=s.y_center,f=o({x1:a,y1:l,x2:u,y2:d});return{scale_change:(o({x1:i,y1:c,x2:u,y2:d})-f)/r.ROTATE_RATIO}},t.handleRotateRect=function(e){var t=e.elm,a=e.old_client_x,r=e.old_client_y,o=e.new_client_x,i=e.new_client_y,c=n(t),s=c.x_center,u=c.y_center,d=l({x:a,y:r,x_center:s,y_center:u});return{rotate_change:l({x:o,y:i,x_center:s,y_center:u})-d}};var r=a(55852);function n(e){var t=e.getBoundingClientRect(),a=t.top,r=t.bottom;return{x_center:(t.left+t.right)/2,y_center:(a+r)/2}}function l(e){var t=e.x,a=void 0===t?0:t,r=e.y,n=void 0===r?0:r,l=e.x_center,o=void 0===l?0:l,i=e.y_center,c=void 0===i?0:i;return 180*Math.atan2(n-c,a-o)/Math.PI}function o(e){var t=e.x1,a=void 0===t?0:t,r=e.y1,n=void 0===r?0:r,l=e.x2,o=void 0===l?0:l,i=e.y2,c=void 0===i?0:i;return Math.pow(Math.pow(a-o,2)+Math.pow(n-c,2),.5)}},39665:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(67294)),n=a(93191),l=(i(a(45697)),i(a(44620))),o=i(a(37930));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.handleClose;return r.default.createElement("div",{className:"FavTitle"},r.default.createElement("div",{className:"display-flex align-items-center"},r.default.createElement("div",{className:"FavTitle_close"},r.default.createElement("div",{className:"FavTitle_close_icon display-flex-center brs-50 cursor-pointer hv-opacity",onClick:t},r.default.createElement(o.default,{y:400,size_icon:"1.5rem"}))),r.default.createElement("div",{className:"FavTitle_fav"},r.default.createElement(n.Link,{to:"/new-feed"},r.default.createElement("div",{className:"padding-4px"},r.default.createElement(l.default,{size_icon:"3rem"}))))))}a(41286),c.propTypes={},t.default=c},64754:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(5738)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.active_ix,a=e.bg_img_arr,l=e.handleChooseBg;return r.default.createElement("div",{className:"BgImgList"},r.default.createElement("div",{className:"BgImgList_row display-flex flex-wrap justify-content-center"},a.map((function(e,a){return r.default.createElement("div",{key:""+a,className:"BgImgList_item padding-4px"},r.default.createElement(n.default,{ix:a,is_active:t==a,bg_img:e,handleChooseBg:l}))}))))}a(56352),o.propTypes={},t.default=o},5738:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(19400)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ix,a=e.is_active,l=e.bg_img,o=e.handleChooseBg;return r.default.createElement(n.default,{vid_pic:l,type:"img",img_props:{onClick:function(){o(t)},className:"BgImgItem wh-100 brs-50 "+(a?"BgImgItem-active pointer-events-none":"BgImgItem-inactive cursor-pointer")}})}a(59536),o.propTypes={},t.default=o},29274:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(67294),n=i(r),l=(i(a(45697)),i(a(35214))),o=i(a(6692));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.active_ix,a=e.font_arr,i=e.handleChangeFont,c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)(!1),2),s=c[0],u=c[1];function d(){s&&u(!1)}function f(e){d(),t!=e&&i(e)}return n.default.createElement(l.default,{makeDivHidden:d},n.default.createElement("div",{className:"pos-rel"},n.default.createElement("div",{className:"SelectFont_current brs-8px"},n.default.createElement(o.default,{font_family:a[t],handleChangeFont:function(){u(!s)}})),n.default.createElement("div",{className:"SelectFont_list w-100per "+(s?"":"display-none")},n.default.createElement("div",{className:"SelectFont_list_contain bg-primary box-shadow-fb"},a.map((function(e,a){return n.default.createElement("div",{key:""+a,className:a==t?"display-none":""},n.default.createElement(o.default,{ix:a,font_family:e,handleChangeFont:f}))}))))))}a(79945),c.propTypes={},t.default=c},6692:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=l(a(45697));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ix,a=e.font_family,n=e.handleChangeFont;return r.default.createElement("div",{className:"SelectFontItem cursor-pointer hv-bg-blur",onClick:function(){n(t)}},r.default.createElement("span",{className:"font-500",style:{fontFamily:a}},a))}a(69361),o.propTypes={font_family:n.default.string,handleChangeFont:n.default.func},t.default=o},43658:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children,a=e.title;return r.default.createElement("div",{className:"StoryCreateChoice wh-100 pos-rel cursor-pointer"},r.default.createElement("div",{className:"pos-abs-center w-100per"},r.default.createElement("div",{className:"display-flex justify-content-center"},r.default.createElement("div",{className:"StoryCreateChoice_icon display-flex-center bg-primary brs-50 box-shadow-fb"},t)),r.default.createElement("div",{className:"StoryCreateChoice_title padding-4px text-align-center"},r.default.createElement("span",{className:"font-700 text-white font-13px"},a))))}n(a(45697)),a(62180),l.propTypes={},t.default=l},79194:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=o(a(45697)),l=o(a(43658));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.title,a=e.openScreenStoryText;return r.default.createElement("div",{className:"StoryCreateTextChoice wh-100",onClick:a},r.default.createElement(l.default,{title:t},r.default.createElement("span",{className:"StoryCreateTextChoice_title font-500 font-18px"},"Aa")))}a(46281),i.propTypes={title:n.default.string,openScreenStoryText:n.default.func},l.default.defaultProps={title:"Create a Text Story"},t.default=i},64116:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=c(a(45697)),l=c(a(86804)),o=c(a(37279)),i=c(a(43658));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.title,a=e.openScreenStoryPic;return r.default.createElement("div",{className:"StoryCreatePicChoice h-100per"},r.default.createElement(l.default,{name:"vid_pic",accept:"image/*",handleChange:function(e){a(e)}},r.default.createElement(i.default,{title:t},r.default.createElement(o.default,null))))}a(16833),s.propTypes={title:n.default.string,openScreenStoryText:n.default.func},s.defaultProps={title:"Create a Photo Story"},t.default=s},890:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(85935))),l=o(a(87710));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.permission,a=e.show_fav,o=e.children_left,i=e.children_right,c=e.handleChoosePermission,s=e.handleCreate,u=e.handleDiscard,d=e.handleClose;return r.default.createElement("div",{className:"StoryCommonPcC h-100per"},r.default.createElement("div",{className:"StoryCommonPcC_row display-flex h-100per"},r.default.createElement("div",{className:"StoryCommonPcC_left story-create-left"},r.default.createElement(n.default,{permission:t,show_fav:a,is_home:!1,handleChoosePermission:c,handleCreate:s,handleDiscard:u,handleClose:d},o)),r.default.createElement("div",{className:"flex-grow-1 "+(a?"StoryCommonPcC_right-has_fav":"StoryCommonPcC_right-no_fav")},r.default.createElement(l.default,null,i))))}a(92778),i.propTypes={},t.default=i},85935:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(67294),n=f(r),l=f(a(45697)),o=a(15130),i=a(14927),c=f(a(39665)),s=f(a(44314)),u=f(a(54548)),d=f(a(80617));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,a=e.permission,l=e.is_home,f=e.children,_=e.handleChoosePermission,p=e.handleCreate,m=e.handleDiscard,v=e.handleClose,h=(0,r.useContext)(o.context_api),y=h.user,x=h.openScreenFloor;return n.default.createElement("div",{className:"StoryLeftCommonPcC pos-fixed story-create-left h-100per display-flex flex-col "+(t?"":"StoryLeftCommonPcC-no_fav")},t?n.default.createElement("div",{className:"StoryLeftCommonPcC_fav"},n.default.createElement(c.default,{handleClose:v})):null,n.default.createElement("div",{className:"StoryLeftCommonPcC_main flex-grow-1 display-flex flex-col overflow-hidden"},n.default.createElement("div",{className:"StoryLeftCommonPcC_title"},n.default.createElement(u.default,{openChangeSetting:function(){(0,i.openScreenPermission)({permission:a,openScreenFloor:x,handleChoosePermission:_})}})),n.default.createElement("div",{className:"StoryLeftCommonPcC_body flex-grow-1 overflow-y-auto scroll-thin"},n.default.createElement("div",{className:"StoryLeftCommonPcC_user font-17px"},n.default.createElement(s.default,{user:y})),l?null:n.default.createElement("div",null,f)),l?null:n.default.createElement("div",{className:"StoryLeftCommonPcC_foot"},n.default.createElement(d.default,{handleCreate:p,handleDiscard:m}))))}a(59917),_.propTypes={show_fav:l.default.bool,is_home:l.default.bool,children:l.default.element,handleClose:l.default.func},_.defaultProps={show_fav:!1,is_home:!0,children:n.default.createElement("div",null)},t.default=_},80617:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.handleCreate,a=e.handleDiscard;return r.default.createElement("div",{className:"StoryLeftPcCommonBtnC"},r.default.createElement("div",{className:"StoryLeftPcCommonBtnC_row display-flex space-around"},r.default.createElement("div",{className:"StoryLeftPcCommonBtnC_col"},r.default.createElement("button",{className:"wh-100 padding-4px btn btn-hv btn-active bg-ccc brs-5px text-align-center font-500 cursor-pointer",onClick:a},"Discard")),r.default.createElement("div",{className:"StoryLeftPcCommonBtnC_col"},r.default.createElement("button",{className:"wh-100 padding-4px btn btn-hv btn-active bg-blue brs-5px text-align-center font-500 text-white cursor-pointer",onClick:t},"Create story"))))}n(a(45697)),a(68378),l.propTypes={},t.default=l},54548:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(67238)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openChangeSetting;return r.default.createElement("div",{className:"StoryLeftPcCommonTitleC"},r.default.createElement("div",{className:"flex-between-center"},r.default.createElement("h1",{className:"font-24px"},"Your story"),r.default.createElement("div",null,r.default.createElement("div",{className:"StoryLeftPcCommonTitleC_setting_contain display-flex-center bg-ccc brs-50 cursor-pointer hv-bg-hv",onClick:t},r.default.createElement(n.default,{size_icon:"1.25rem",fill:"none"})))))}a(65071),o.propTypes={},t.default=o},87710:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children;return r.default.createElement("div",{className:"StoryCreatePreviewPcCommon h-100per padding-8px bg-primary brs-8px box-shadow-fb"},r.default.createElement("h2",{className:"StoryCreatePreviewPcCommon_title font-16px font-500"},"Preview"),r.default.createElement("div",{className:"flex-grow-1 "},r.default.createElement("div",{className:"StoryCreatePreviewPcCommon_body_contain wh-100 bg-shadow-9 brs-8px"},t)))}n(a(45697)),a(3355),l.propTypes={},t.default=l},22784:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(2760))),l=o(a(57108));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.handleRotate;return r.default.createElement("button",{className:"btn btn-hv btn-active padding-8px bg-always-white cursor-pointer brs-8px",onClick:t},r.default.createElement(l.default,{Icon:n.default},r.default.createElement("span",{className:"font-500"},"Rotate")))}i.propTypes={},t.default=i},34762:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=f(n),o=(f(a(45697)),a(55852)),i=a(58088),c=f(a(51360)),s=f(a(23497)),u=f(a(45702)),d=f(a(5872));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.ix,a=e.text_obj,f=e.show_action,_=e.openChangeText,p=e.handleMove,m=e.handleResize,v=e.handleRotate,h=e.handleDelete,y=a.text,x=a.color,b=a.font,g=a.trans_x,C=a.trans_y,E=a.rotate,P=a.scale,w=(0,n.useRef)(null);function S(){return w.current}return l.default.createElement("div",{ref:w,className:"StoryTextPicC pos-abs max-w-100per",style:{transform:"translate(-50%, -50%) translate("+g+"px, "+C+"px) rotate("+E+"deg)"}},l.default.createElement("div",{className:"StoryTextPicC_content padding-8px "+(f?"StoryTextPicC_content-active brs-5px":""),style:{fontSize:14*P+2+"px"}},l.default.createElement(d.default,{text:y,color:x,font:b,openChangeText:function(){_(t)},handleMouseMove:function(e){var a=e.client_x_change,r=e.client_y_change;p({ix:t,client_x_change:a,client_y_change:r})}})),l.default.createElement("div",{className:f?"":"display-none"},l.default.createElement("div",{className:"StoryTextPicC_del pos-abs top-left-center"},l.default.createElement(c.default,{handleDelete:function(){h(t)}})),l.default.createElement("div",null,o.IS_MOBILE?null:l.default.createElement("div",{className:"StoryTextPicC_resize pos-abs bottom-right-center"},l.default.createElement(s.default,{handleResize:function(e){var a=e.old_client_x,n=e.old_client_y,l=e.new_client_x,o=e.new_client_y;m(r({ix:t},(0,i.handleResizeRect)({elm:S(),old_client_x:a,old_client_y:n,new_client_x:l,new_client_y:o})))}})),l.default.createElement("div",{className:"StoryTextPicC_rotate pos-abs top-right-center "},l.default.createElement(u.default,{handleRotate:function(e){var a=e.old_client_x,n=e.old_client_y,l=e.new_client_x,o=e.new_client_y;v(r({ix:t},(0,i.handleRotateRect)({elm:S(),old_client_x:a,old_client_y:n,new_client_x:l,new_client_y:o})))}})))))}a(64827),_.propTypes={},t.default=_},51360:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(37930)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.handleDelete;return r.default.createElement("div",{className:"StoryTextPicDel display-flex-center bg-primary brs-50 cursor-pointer",onClick:t},r.default.createElement(n.default,{y:400,size_icon:"1rem"}))}a(70233),o.propTypes={},t.default=o},5872:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),a(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text,a=e.color,l=e.font,o=e.openChangeText,i=e.handleMouseMove,c=(0,n.useMouseMoveXY)({handleMouseMove:i}).handleStart;return r.default.createElement("div",{className:"StoryTextContentPicC pos-rel cursor-move",onDoubleClick:o,onMouseDown:c},r.default.createElement("div",{className:"text-align-center pointer-events-none"},r.default.createElement("span",{className:"font-500",style:{fontFamily:l,color:a}},t)),r.default.createElement("div",{className:"pos-abs-100"}))}a(66088),o.propTypes={},t.default=o},23497:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),a(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.handleResize,a=(0,n.useMouseMoveXY)({handleMouseMove:t}).handleStart;return r.default.createElement("div",{className:"StoryTextResizePicC padding-4px brs-50 bg-always-white",onMouseDown:a})}a(78702),o.propTypes={},t.default=o},45702:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),a(51353)),l=o(a(2760));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.handleRotate,a=(0,n.useMouseMoveXY)({handleMouseMove:t}).handleStart;return r.default.createElement("div",{className:"StoryTextRotatePicC display-flex-center bg-primary brs-50 cursor-pointer",onMouseDown:a,onTouchStart:a},r.default.createElement(l.default,{size_icon:"1rem"}))}a(13946),i.propTypes={},t.default=i},94588:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(a(67294)),n=(c(a(45697)),c(a(45111))),l=c(a(46198)),o=c(a(42709)),i=c(a(34857));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.value,a=e.handleChange,c=e.afterMouseUp;return r.default.createElement("div",{className:"StoryZoomPic"},r.default.createElement("div",{className:"flex-between-center"},r.default.createElement("div",{className:"padding-4px "+(t<=0?"cursor-not-allowed":"cursor-pointer"),onClick:function(){a(t-5)}},r.default.createElement("span",{className:"StoryZoomPic_btn text-white font-500"},"-")),r.default.createElement("div",{className:"StoryZoomPic_center flex-grow-1"},r.default.createElement(n.default,{range:r.default.createElement(l.default,null),active_range:r.default.createElement(o.default,null),slider:r.default.createElement(i.default,null),value:t,handleChange:a,afterMouseUp:c})),r.default.createElement("div",{className:"padding-4px "+(t>=100?"cursor-not-allowed":"cursor-pointer"),onClick:function(){a(t+5)}},r.default.createElement("span",{className:"StoryZoomPic_btn text-white font-500"},"+"))))}a(87922),s.propTypes={},t.default=s},42709:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return r.default.createElement("div",{className:"StoryZoomActive h-100per bg-blue brs-5px"})}n(a(45697)),l.propTypes={},t.default=l},46198:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return r.default.createElement("div",{className:"StoryZoomRange h-100per bg-always-white brs-5px"})}n(a(45697)),l.propTypes={},t.default=l},34857:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(){return r.default.createElement("div",{className:"StoryZoomSlider padding-8px bg-always-white brs-50 cursor-pointer"})}n(a(45697)),a(9440),l.propTypes={},t.default=l},56022:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=c(n),o=(c(a(45697)),a(15138),a(82403)),i=c(a(37930));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.vid_pic,a=e.text,c=e.font_family,s=e.scale,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({is_show_more:!1}),2),d=u[0],f=u[1],_=d.is_show_more,p=(0,n.useRef)(null),m=(0,n.useRef)(!1),v=((0,n.useRef)(!1),(0,o.useForceUpdate)());return(0,n.useEffect)((function(){var e=a.trim()&&p.current.scrollHeight>=22*s*5;m.current!=e&&(m.current=e,v())}),[a]),l.default.createElement("div",{className:"wh-100 pos-rel"},l.default.createElement("img",{className:"wh-100",src:t,alt:""}),l.default.createElement("div",{className:"StoryTextContentC_text pos-abs-center display-flex flex-col justify-content-center w-100per text-white",style:{fontFamily:c,fontSize:22*s+"px",lineHeight:22*s+"px"}},l.default.createElement("div",{ref:p,className:"StoryTextContentC_text_contain padding-x-8px text-align-center "+(_?"overflow-y-auto scroll-thin max-h-100per":"StoryTextContentC_text_contain-less wk-box-vertical line-clamp-4 overflow-hidden")},l.default.createElement("span",{className:"StoryTextContentC_text_contain_item font-700"},a||"START TYPING")),m.current?l.default.createElement("div",{className:"width-fit-content padding-8px cursor-pointer",onClick:function(){p.current.scrollTop=0,f((function(e){return r({},e,{is_show_more:!_})}))}},l.default.createElement("div",{className:"display-flex align-items-center"},l.default.createElement("div",{className:"font-14px font-500"},_?"See less":"See more"),l.default.createElement("div",{className:"StoryTextContentC_icon_more display-flex-center margin-left-5px wh-16px brs-50 bg-primary "+(_?"rotate--90":"rotate-90")},l.default.createElement(i.default,{x:200,size_icon:"12px"})))):null))}a(14493),s.propTypes={},t.default=s},48759:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=f(n),o=f(a(45697)),i=a(15130),c=a(39309);a(16458);var s=f(a(64838)),u=f(a(56235)),d=f(a(23802));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,a=(e.closeScreen,(0,n.useContext)(i.context_api).openScreenFloor),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({create_type:"",vid_pic:"",vid_pic_width:0,permission:0}),2),f=o[0],_=o[1],p=f.create_type,m=f.vid_pic,v=f.vid_pic_width,h=f.permission;function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_((function(t){return r({},t,{create_type:e})}))}function x(e){_(r({},f,{permission:e}))}function b(e){console.log(e)}function g(){(0,c.openScreenConfirm)({openScreenFloor:a,title:"Discard story?",notification:"Are you sure that you want to discard this story? Your story won't be saved.",handleConfirm:y})}function C(){history.back()}function E(){""!=p?(0,c.openScreenConfirm)({openScreenFloor:a,title:"Discard story?",notification:"Are you sure that you want to discard this story? Your story won't be saved.",handleConfirm:C}):C()}return(0,n.useEffect)((function(){document.title="Create story"}),[]),l.default.createElement("div",{className:"StoryCreatePc "+(t?"StoryCreatePc_has_fav":"StoryCreatePc_not_fav")},""==p?l.default.createElement(s.default,{show_fav:t,permission:h,handleChoosePermission:x,openScreenStoryText:function(){y("text")},openScreenStoryPic:function(e){var t=e.vid_pics[0].vid_pic,a=e.files;console.log(a),_(r({},f,{create_type:"pic",vid_pic:t}))},handleCloseScreen:E}):"text"==p?l.default.createElement(u.default,{show_fav:t,permission:h,handleChoosePermission:x,handleCreate:b,handleDiscard:g,handleClose:E}):l.default.createElement(d.default,{show_fav:t,vid_pic:m,vid_pic_width:v,permission:h,handleChoosePermission:x,handleCreate:b,handleDiscard:g,handleClose:E}))}a(5868),_.propTypes={show_fav:o.default.bool,closeScreen:o.default.func},_.defaultProps={show_fav:!1},t.default=_},64838:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(67294)),n=(i(a(45697)),i(a(85935))),l=i(a(64116)),o=i(a(79194));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.permission,a=e.show_fav,i=e.handleChoosePermission,c=e.openScreenStoryText,s=e.openScreenStoryPic,u=e.handleCloseScreen;return r.default.createElement("div",{className:"StoryCreateHomePc h-100per"},r.default.createElement("div",{className:"display-flex h-100per"},r.default.createElement("div",{className:"StoryCreateHomePc_left story-create-left bg-primary"},r.default.createElement(n.default,{permission:t,show_fav:a,is_home:!0,handleChoosePermission:i,handleClose:u})),r.default.createElement("div",{className:"StoryCreateHomePc_right flex-grow-1 display-flex-center "+(a?"StoryCreateHomePc_right-has_fav":"StoryCreateHomePc_right-no_fav")},r.default.createElement("div",{className:"StoryCreateHomePc_choice"},r.default.createElement(l.default,{openScreenStoryPic:s})),r.default.createElement("div",{className:"StoryCreateHomePc_choice"},r.default.createElement(o.default,{openScreenStoryText:c})))))}a(16169),c.propTypes={},t.default=c},23802:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=f(n),o=(f(a(45697)),a(55852)),i=a(98503),c=a(22391),s=f(a(890)),u=f(a(9647)),d=f(a(73408));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function p(e){e.vid_pic_width;var t=e.vid_pic,a=e.show_fav,f=e.permission,p=e.handleChoosePermission,m=e.handleCreate,v=e.handleDiscard,h=e.handleClose,y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({story_width:0,vid_pic_obj:{vid_pic:t,trans_x:0,trans_y:0,scale:1,rotate:0},text_arr:[]||0,add_text_obj:{is_open:!1,text:"",active_font_ix:0,active_color_ix:0,num:0}}),2),x=y[0],b=y[1],g=x.story_width,C=x.vid_pic_obj,E=x.text_arr,P=x.add_text_obj,w=C.rotate,S=P.num,T=(0,n.useRef)(null);function M(){return T.current.offsetHeight*o.STORY_WIDTH_HEIGHT_RATIO||.1}return(0,c.useWaitingResize)({handleResize:function(){b((function(e){var t=M(),a=t/e.story_width,n=r({},e.vid_pic_obj),l=[].concat(_(e.text_arr));return n.trans_x*=a,n.trans_y*=a,l.forEach((function(e){return e.trans_x*=a,e.trans_y*=a,e.scale*=a,e})),r({},e,{story_width:t,vid_pic_obj:n})}))}}),(0,n.useEffect)((function(){b(r({},x,{story_width:M()}))}),[]),l.default.createElement(s.default,{show_fav:a,permission:f,handleChoosePermission:p,handleCreate:function(){m(r({},x))},handleDiscard:v,handleClose:h,children_left:l.default.createElement(u.default,{openAddText:function(e){e.stopPropagation(),!P.is_open&&b((function(e){return r({},e,{add_text_obj:{is_open:!0,text:"",active_font_ix:0,active_color_ix:0,num:E.length}})}))},is_open:P.is_open}),children_right:l.default.createElement(d.default,{ref_body_elm:T,story_width:g,vid_pic_obj:C,text_arr:E,add_text_obj:P,value_zoom_pic:C.scale*o.SCALE_PIC_RATIO,openChangeText:function(e){!P.is_open&&b(r({},x,{add_text_obj:{is_open:!0,text:E[e].text,active_font_ix:i.data_story_font_arr.findIndex((function(t){return t==E[e].font})),active_color_ix:i.data_story_text_color_arr.findIndex((function(t){return t==E[e].color})),num:e}}))},handleAddText:function(e){var t=e.text,a=e.active_color_ix,n=e.active_font_ix;if(t.trim()){var l=[].concat(_(E)),o=i.data_story_font_arr[n],c=i.data_story_text_color_arr[a];S==E.length?l.push({key:Math.floor(1e5*Math.random()),text:t,color:c,font:o,trans_x:0,trans_y:0,rotate:0,scale:g/200}):(l[S].text=t,l[S].color=c,l[S].font=o),b(r({},x,{text_arr:l,add_text_obj:{is_open:!1,text:"",active_color_ix:0,active_font_ix:0,num:0}}))}else if(S==E.length)b((function(e){return r({},e,{add_text_obj:{is_open:!1,text:"",active_font_ix:0,active_color_ix:0,num:0}})}));else{var s=[].concat(_(E));s.splice(P.num,1),b(r({},x,{text_arr:s,add_text_obj:{is_open:!1,text:"",active_color_ix:0,active_font_ix:0,num:0}}))}},handleMovePic:function(e){var t=e.client_x_change,a=e.client_y_change;b((function(e){return r({},e,{vid_pic_obj:r({},e.vid_pic_obj,{trans_x:e.vid_pic_obj.trans_x+t,trans_y:e.vid_pic_obj.trans_y+a})})}))},handleMoveText:function(e){var t=e.ix,a=e.client_x_change,n=e.client_y_change;b((function(e){var l=[].concat(_(e.text_arr));return l[t].trans_x+=a,l[t].trans_y+=n,r({},e,{text_arr:l})}))},handleResizeText:function(e){var t=e.ix,a=e.scale_change;b((function(e){var n=[].concat(_(e.text_arr));return n[t].scale+=a,n[t].scale<=0&&(n[t].scale=0),r({},e,{text_arr:n})}))},handleRotateText:function(e){var t=e.ix,a=e.rotate_change;b((function(e){var n=[].concat(_(e.text_arr));return n[t].rotate+=a,r({},e,{text_arr:n})}))},handleDeleteText:function(e){var t=[].concat(_(E));t.splice(e,1),b(r({},x,{text_arr:t}))},handleChangeZoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;b((function(t){var a=e/o.SCALE_PIC_RATIO;return a<=0?a=0:a>=100/o.SCALE_PIC_RATIO&&(a=100/o.SCALE_PIC_RATIO),r({},t,{vid_pic_obj:r({},t.vid_pic_obj,{scale:a})})}))},afterMouseUpZoom:function(){},handleRotatePic:function(){b((function(e){return r({},e,{vid_pic_obj:r({},C,{rotate:w+90==360?0:w+90})})}))}})})}p.propTypes={},t.default=p},9647:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=l(a(45697));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.openAddText,a=e.is_open;return r.default.createElement("div",{className:"StoryPicLeftPcC padding-8px brs-8px "+(a?"bg-fb-active":"cursor-pointer hv-bg-hv"),onClick:t},r.default.createElement("div",{className:"display-flex align-items-center"},r.default.createElement("div",null,r.default.createElement("div",{className:"StoryPicLeftPcC_left_contain display-flex-center brs-50 bg-ccc"},r.default.createElement("span",{className:"font-12px"},"Aa"))),r.default.createElement("div",{className:"StoryPicLeftPcC_right"},r.default.createElement("div",{className:"StoryPicLeftPcC_right_contain"},r.default.createElement("span",{className:"font-17px font-500"},"Add Text")))))}a(40569),o.propTypes={openAddText:n.default.func},t.default=o},73408:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(67294)),n=(i(a(45697)),i(a(56016))),l=i(a(32496)),o=i(a(71709));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.ref_body_elm,a=e.story_width,i=e.vid_pic_obj,c=e.text_arr,s=e.add_text_obj,u=e.value_zoom_pic,d=e.openChangeText,f=e.handleAddText,_=e.handleMovePic,p=e.handleMoveText,m=e.handleResizeText,v=e.handleRotateText,h=e.handleDeleteText,y=e.handleChangeZoom,x=e.afterMouseUpZoom,b=e.handleRotatePic;return r.default.createElement("div",{className:"StoryPicRightPcC display-flex flex-col h-100per"},r.default.createElement("div",{ref:t,className:"flex-grow-1 display-flex-center overflow-hidden"},r.default.createElement("div",{className:"pos-rel h-100per",style:{width:a+"px"}},r.default.createElement(n.default,{vid_pic_obj:i,text_arr:c,add_text_obj:s,openChangeText:d,handleMovePic:_,handleMoveText:p,handleResizeText:m,handleRotateText:v,handleDeleteText:h}),s.is_open?r.default.createElement("div",{className:"pos-abs-100 bg-shadow-5"},r.default.createElement(o.default,{add_text_obj:s,handleAddText:f})):null)),r.default.createElement("div",null,r.default.createElement(l.default,{value_zoom:u,handleChangeZoom:y,afterMouseUpZoom:x,handleRotatePic:b})))}a(73516),c.propTypes={},t.default=c},71709:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=u(n),o=(u(a(45697)),a(98503)),i=u(a(35214)),c=u(a(15636)),s=u(a(82319));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.add_text_obj,a=e.handleAddText,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({text:t.text,active_font_ix:t.active_font_ix,active_color_ix:t.active_color_ix}),2),d=u[0],f=u[1],_=d.text,p=d.active_color_ix,m=d.active_font_ix;return l.default.createElement(i.default,{makeDivHidden:function(){a({text:_,active_color_ix:p,active_font_ix:m})}},l.default.createElement("div",{className:"StoryAddTextPcC pos-abs-100"},l.default.createElement("div",{className:"pos-abs-center w-100per max-h-100per overflow-y-auto scroll-thin"},l.default.createElement(c.default,{text:_,font:o.data_story_font_arr[m],color:o.data_story_text_color_arr[p],handleChange:function(e){f(r({},d,{text:e}))}})),l.default.createElement("div",{className:"pos-abs left-100per y-center"},l.default.createElement(s.default,{font_arr:o.data_story_font_arr,color_arr:o.data_story_text_color_arr,active_font_ix:m,active_color_ix:p,handleChangeFont:function(e){f(r({},d,{active_font_ix:e}))},handleChangeColor:function(e){f(r({},d,{active_color_ix:e}))}}))))}d.propTypes={},t.default=d},82319:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(29274))),l=o(a(37768));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.font_arr,a=e.color_arr,o=e.active_font_ix,i=e.active_color_ix,c=e.handleChangeFont,s=e.handleChangeColor;return r.default.createElement("div",{className:"StoryAddTextFontColorPcC display-flex flex-col padding-8px bg-primary brs-8px"},r.default.createElement("div",{className:"padding-4px"},r.default.createElement(n.default,{active_ix:o,font_arr:t,handleChangeFont:c})),r.default.createElement("div",{className:"flex-grow-1 padding-4px"},r.default.createElement(l.default,{color_arr:a,active_ix:i,handleChange:s})))}a(35002),i.propTypes={},t.default=i},37768:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(93884)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.color_arr,a=e.active_ix,l=e.handleChange;return r.default.createElement("div",{className:"StoryAddTextColorPcC h-100per padding-4px brs-5px"},r.default.createElement("ul",{className:"list-none display-flex justify-content-center flex-wrap"},t.map((function(e,t){return r.default.createElement("li",{key:""+t,className:"StoryAddTextColorPcC_item"},r.default.createElement(n.default,{ix:t,is_active:a==t,color:e,handleChange:l}))}))))}a(61908),o.propTypes={},t.default=o},93884:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.ix,a=e.is_active,n=e.color,l=e.handleChange;return r.default.createElement("div",{className:"StoryAddTextColorItemPcC brs-50 "+(a?"StoryAddTextColorItemPcC_active pointer-events-none":"StoryAddTextColorItemPcC_inactive cursor-pointer"),style:{backgroundColor:n},onClick:function(){l(t)}})}n(a(45697)),a(10792),l.propTypes={},t.default=l},15636:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),a(66878));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.text,a=e.font,l=e.color,o=e.handleChange;return r.default.createElement("textarea",{className:"StoryAddTextInputPcC w-100per padding-8px overflow-hidden text-align-center font-20px font-700",name:"add_text",value:t,rows:1,placeholder:"Start typing",style:{fontFamily:a,color:l},onChange:function(e){o(e.target.value),(0,n.makeAutoHeight)(e)}})}a(89350),o.propTypes={},t.default=o},56016:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(52386))),l=o(a(54272));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.vid_pic_obj,a=e.text_arr,o=e.add_text_obj,i=e.openChangeText,c=e.handleMovePic,s=e.handleMoveText,u=e.handleResizeText,d=e.handleRotateText,f=e.handleDeleteText;return r.default.createElement("div",{className:"StoryPicBdPcC pos-rel wh-100 user-select-none"},r.default.createElement("div",{className:"StoryPicBdPcC_bg pos-abs-100",style:{backgroundImage:"url("+t.vid_pic+")"}}),r.default.createElement("div",{className:"pos-abs-center w-100per"},r.default.createElement(l.default,{vid_pic_obj:t,handleMove:c})),a.map((function(e,t){return r.default.createElement("div",{key:""+e.key,className:"pos-abs-center w-100per z-index-lv1 "+(o.is_open&&o.num==t?"display-none":"")},r.default.createElement(n.default,{ix:t,text_obj:e,openChangeText:i,handleMove:s,handleResize:u,handleRotate:d,handleDelete:f}))})),r.default.createElement("div",{className:"pos-abs-center crop-border pointer-events-none"}))}a(12670),i.propTypes={},t.default=i},54272:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),a(51353));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.vid_pic_obj,a=e.handleMove,l=t.vid_pic,o=t.trans_x,i=t.trans_y,c=t.scale,s=t.rotate,u=(0,n.useMouseMoveXY)({handleMouseMove:a}).handleStart;return r.default.createElement("div",{className:"StoryPicBdPicPcC pos-abs cursor-move w-100per left-50per top-50per",style:{transform:"translate(-50%, -50%) translate("+o+"px, "+i+"px) rotate("+s+"deg) scale("+c+")"},onMouseDown:u},r.default.createElement("img",{className:"StoryPicBdPicPcC_img pointer-events-none w-100per",src:l,alt:""}),r.default.createElement("div",{className:"pos-abs-100"}))}a(30760),o.propTypes={},t.default=o},52386:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(67294),n=o(r),l=(o(a(45697)),o(a(34762)));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.ix,a=e.text_obj,o=e.openChangeText,i=e.handleMove,c=e.handleResize,s=e.handleRotate,u=e.handleDelete,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,r.useState)(!1),2),f=d[0],_=d[1];return n.default.createElement("div",{className:"StoryPicBdTextPcC",onMouseEnter:function(){_(!0)},onMouseLeave:function(){_(!1)}},n.default.createElement(l.default,{ix:t,show_action:f,text_obj:a,openChangeText:o,handleMove:i,handleResize:c,handleRotate:s,handleDelete:u}))}i.propTypes={},t.default=i},32496:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(a(67294)),n=(o(a(45697)),o(a(94588))),l=o(a(22784));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.value_zoom,a=e.handleChangeZoom,o=e.afterMouseUpZoom,i=e.handleRotatePic;return r.default.createElement("div",{className:"StoryPicFootPcC padding-4px user-select-none"},r.default.createElement("div",{className:"display-flex-center"},r.default.createElement("div",{className:"StoryPicFootPcC_left"},r.default.createElement(n.default,{value:t,handleChange:a,afterMouseUp:o})),r.default.createElement("div",{className:"StoryPicFootPcC_right"},r.default.createElement(l.default,{handleRotate:i}))))}a(41873),i.propTypes={},t.default=i},56235:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=f(n),o=(f(a(45697)),a(55852)),i=a(98503),c=a(22391),s=f(a(890)),u=f(a(28378)),d=f(a(21183));function f(e){return e&&e.__esModule?e:{default:e}}function _(e){var t=e.show_fav,a=e.permission,f=e.handleChoosePermission,_=e.handleCreate,p=e.handleDiscard,m=e.handleClose,v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,n.useState)({text:"",bg_ix:0,font_ix:0,story_width:0}),2),h=v[0],y=v[1],x=h.text,b=h.bg_ix,g=h.font_ix,C=h.story_width,E=i.data_story_bg_arr[b],P=i.data_story_font_arr[g],w=(0,n.useRef)(null);function S(){y((function(e){return r({},e,{story_width:w.current.scrollHeight*o.STORY_WIDTH_HEIGHT_RATIO})}))}return(0,c.useWaitingResize)({handleResize:S}),(0,n.useEffect)((function(){S()}),[]),l.default.createElement(s.default,{show_fav:t,permission:a,handleChoosePermission:f,handleCreate:function(){_(r({},h))},handleDiscard:p,handleClose:m,children_left:l.default.createElement(u.default,{font_arr:i.data_story_font_arr,bg_arr:i.data_story_bg_arr,text:x,active_font_ix:g,active_bg_ix:b,handleChange:function(e){y((function(t){return r({},t,{text:e.target.value})}))},handleChangeFont:function(e){y((function(t){return r({},t,{font_ix:e})}))},handleChooseBg:function(e){y((function(t){return r({},t,{bg_ix:e})}))}}),children_right:l.default.createElement(d.default,{ref_body_elm:w,bg:E,text:x,font_family:P,story_width:C})})}_.propTypes={},t.default=_},28378:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(a(67294)),n=(i(a(45697)),i(a(96337))),l=i(a(73869)),o=i(a(71775));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.font_arr,a=e.bg_arr,i=e.text,c=e.active_font_ix,s=e.active_bg_ix,u=e.handleChange,d=e.handleChangeFont,f=e.handleChooseBg;return r.default.createElement("div",{className:"StoryCreateTextLeftPc"},r.default.createElement("div",{className:"StoryCreateTextLeftPc_part padding-4px"},r.default.createElement(n.default,{text:i,handleChange:u})),r.default.createElement("div",{className:"StoryCreateTextLeftPc_part"},r.default.createElement(l.default,{font_arr:t,active_ix:c,handleChangeFont:d})),r.default.createElement("div",{className:"StoryCreateTextLeftPc_part"},r.default.createElement(o.default,{active_ix:s,bg_arr:a,handleChooseBg:f})))}a(49502),c.propTypes={},t.default=c},71775:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(64754)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.bg_arr,a=e.active_ix,l=e.handleChooseBg;return r.default.createElement("div",{className:"StoryBgPcC padding-8px brs-8px"},r.default.createElement(n.default,{bg_img_arr:t,active_ix:a,handleChooseBg:l}))}a(80102),o.propTypes={},t.default=o},73869:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(29274)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.font_arr,a=e.active_ix,l=e.handleChangeFont;return r.default.createElement("div",{className:"StoryFontPcC"},r.default.createElement(n.default,{active_ix:a,font_arr:t,handleChangeFont:l}))}o.propTypes={},t.default=o},96337:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294));function n(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.text,a=e.handleChange;return r.default.createElement("div",{className:"StoryTextPcC pos-rel brs-5px"},r.default.createElement("textarea",{className:"StoryTextPcC_textarea overflow-y-auto scroll-thin wh-100",rows:"1",value:t,placeholder:"Start typing",spellCheck:!1,onChange:a}),r.default.createElement("div",{className:"StoryTextPcC_title"},r.default.createElement("div",null,r.default.createElement("span",{className:"font-12px"},"Text"))))}n(a(45697)),a(53107),l.propTypes={},t.default=l},21183:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(a(67294)),n=(l(a(45697)),l(a(56022)));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.ref_body_elm,a=e.bg,l=e.text,o=e.font_family,i=e.story_width;return r.default.createElement("div",{className:"StoryCreateTextRightPc pos-rel wh-100 padding-8px"},r.default.createElement("div",{className:"display-flex-center h-100per"},r.default.createElement("div",{ref:t,className:"StoryCreateTextRightPc_item pos-rel h-100per brs-8px overflow-hidden",style:{width:i+"px"}},r.default.createElement(n.default,{vid_pic:a,text:l,font_family:o,scale:i/200}))))}a(28752),o.propTypes={},t.default=o},19400:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=a(67294),l=s(n),o=s(a(45697)),i=a(5306),c=a(32006);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.vid_pic,a=e.type,o=e.video_props,s=e.img_props,u=(0,c.getTypeVidOrPic)(t,a),d=(0,n.useRef)(null),f=(0,i.useObserveVidPic)(d);return(0,n.useEffect)((function(){d.current&&d.current.src&&(d.current.src=t)}),[t]),"img"==u?l.default.createElement("img",r({ref:d,className:""+f,"data-src":t,alt:""},s)):"video"==u?l.default.createElement("video",r({ref:d,className:""+f,"data-src":t},o)):null}u.propTypes={vid_pic:o.default.string,type:o.default.string,video_props:o.default.object,img_props:o.default.object},u.defaultProps={video_props:{},img_props:{}},t.default=u},41286:(e,t,a)=>{"use strict";a.r(t)},56352:(e,t,a)=>{"use strict";a.r(t)},59536:(e,t,a)=>{"use strict";a.r(t)},79945:(e,t,a)=>{"use strict";a.r(t)},69361:(e,t,a)=>{"use strict";a.r(t)},62180:(e,t,a)=>{"use strict";a.r(t)},46281:(e,t,a)=>{"use strict";a.r(t)},16833:(e,t,a)=>{"use strict";a.r(t)},92778:(e,t,a)=>{"use strict";a.r(t)},59917:(e,t,a)=>{"use strict";a.r(t)},68378:(e,t,a)=>{"use strict";a.r(t)},65071:(e,t,a)=>{"use strict";a.r(t)},3355:(e,t,a)=>{"use strict";a.r(t)},64827:(e,t,a)=>{"use strict";a.r(t)},70233:(e,t,a)=>{"use strict";a.r(t)},66088:(e,t,a)=>{"use strict";a.r(t)},78702:(e,t,a)=>{"use strict";a.r(t)},13946:(e,t,a)=>{"use strict";a.r(t)},87922:(e,t,a)=>{"use strict";a.r(t)},9440:(e,t,a)=>{"use strict";a.r(t)},14493:(e,t,a)=>{"use strict";a.r(t)},5868:(e,t,a)=>{"use strict";a.r(t)},16458:(e,t,a)=>{"use strict";a.r(t)},16169:(e,t,a)=>{"use strict";a.r(t)},40569:(e,t,a)=>{"use strict";a.r(t)},73516:(e,t,a)=>{"use strict";a.r(t)},35002:(e,t,a)=>{"use strict";a.r(t)},61908:(e,t,a)=>{"use strict";a.r(t)},10792:(e,t,a)=>{"use strict";a.r(t)},89350:(e,t,a)=>{"use strict";a.r(t)},12670:(e,t,a)=>{"use strict";a.r(t)},30760:(e,t,a)=>{"use strict";a.r(t)},41873:(e,t,a)=>{"use strict";a.r(t)},49502:(e,t,a)=>{"use strict";a.r(t)},80102:(e,t,a)=>{"use strict";a.r(t)},53107:(e,t,a)=>{"use strict";a.r(t)},28752:(e,t,a)=>{"use strict";a.r(t)}}]);
//# sourceMappingURL=330.js.map