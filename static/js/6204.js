(self.webpackChunkmy_webpack=self.webpackChunkmy_webpack||[]).push([[6204],{82702:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294)),l=n(a(45697));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.size_icon,a=e.x,l=e.y,n=e.close_eye;return r.default.createElement("svg",{className:"IconsEye",height:t,width:t,viewBox:a+" "+l+" 200 200",stroke:"var(--black-brown)",fill:"var(--black-brown)",strokeLinecap:"round"},r.default.createElement("path",{d:"M200,300 Q300,200 400,300 Q300,400 200,300",fill:"none",strokeWidth:"10"}),r.default.createElement("circle",{className:n?"display-none":"",cx:"300",cy:"300",r:"30"}),r.default.createElement("g",{className:n?"":"display-none"},r.default.createElement("path",{d:"M200,300 Q300,350 400,300",fill:"none",strokeWidth:"20"}),r.default.createElement("line",{x1:"210",y1:"210",x2:"390",y2:"390",strokeWidth:"30"})))}i.propTypes={size_icon:l.default.string,color:l.default.string,x:l.default.number,y:l.default.number,close_eye:l.default.bool},i.defaultProps={x:0,y:0,size_icon:"1.5rem",close_eye:!0},t.default=i},54902:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignupRequest=void 0;var r,l=(r=a(62667))&&r.__esModule?r:{default:r},n=a(50918),i=a(7572);t.SignupRequest=function(e){return(0,n.API_FakeReal)(i.default_login,(function(){return(0,l.default)({method:"POST",data:e,url:"/registration/sign-up/"})}))}},4124:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(67294)),l=n(a(45697));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,a=e.onClick,l=e.type,n=e.disabled,i=e.ripple_type,s=e.title;return r.default.createElement("button",{className:"ButtonRipple label-field "+(n?"opacity-5 pointer-events-none":"cursor-pointer"),type:l,title:s,disabled:n,onClick:a},r.default.createElement("div",{className:"ButtonRipple_common ButtonRipple_"+i+" "+(n?"display-none":"")}),t)}a(40824),i.propTypes={type:l.default.string,title:l.default.string,disabled:l.default.bool,ripple_type:l.default.string,children:l.default.any,onClick:l.default.func},i.defaultProps={title:"",type:"text",ripple_type:"right",disabled:!1},t.default=i},3028:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=a(67294),n=d(l),i=d(a(45697)),s=d(a(82702)),u=d(a(39475)),o=d(a(57108));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.field,a=e.form,i=e.label,d=e.placeholder,c=e.max_length,f=e.help,p=t.name,m=a.touched,_=a.errors,h=m[p]&&_[p],v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,l=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(l)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}((0,l.useState)(!0),2),y=v[0],b=v[1];return n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("label",{className:"label-field"},i)),n.default.createElement("div",{className:"InputPassword_password position-rel"},n.default.createElement("input",r({className:"InputPassword_input w-100per padding-8px brs-5px "+(m[p]&&!_[p]?"InputPassword_valid":"")+" "+(m[p]&&_[p]?"InputPassword_invalid":"")},t,{maxLength:c,placeholder:d,type:y?"password":"text"})),n.default.createElement("div",{className:"InputPassword__eye"},n.default.createElement("div",{onClick:function(){b(!y)}},n.default.createElement(s.default,{x:200,y:200,close_eye:y})))),f&&n.default.createElement("div",{className:"help-text"},n.default.createElement(o.default,{Icon:u.default,x:600},"* ",f)),h&&n.default.createElement("div",{className:"error-field"},n.default.createElement(o.default,{Icon:u.default,x:400,y:400},_[p])))}a(38093),c.propTypes={field:i.default.object,form:i.default.object,label:i.default.string,max_length:i.default.number,placeholder:i.default.string},c.defaultProps={max_length:15},t.default=c},22607:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l=o(a(67294)),n=o(a(45697)),i=o(a(57108)),s=o(a(39475));o(a(85315)),a(17727);var u=a(66878);function o(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.field,a=e.form,n=e.is_textarea,o=e.type,d=e.label,c=e.placeholder,f=e.dataList,p=e.help,m=e.max_length,_=t.name,h=t.onChange,v=a.touched,y=a.errors,b=v[_]&&y[_],x="list_"+_+"_"+d;return l.default.createElement("div",{className:"InputText"},l.default.createElement("div",null,l.default.createElement("label",{className:"label-field"},d)),l.default.createElement("div",null,n?l.default.createElement("textarea",r({className:"InputText_input InputText_textarea scroll-thin brs-5px "+(v[_]&&!y[_]?"InputText_valid":"")+" "+(v[_]&&y[_]?"InputText_invalid":"")},t,{onChange:function(e){h(e),(0,u.makeAutoHeight)(e)},placeholder:c,type:o,maxLength:m})):l.default.createElement("input",r({className:"InputText_input brs-5px "+(v[_]&&!y[_]?"InputText_valid":"")+" "+(v[_]&&y[_]?"InputText_invalid":"")},t,{placeholder:c,type:o,list:x,maxLength:m}))),l.default.createElement("datalist",{id:x},f.map((function(e,t){return l.default.createElement("option",{key:"InputText_"+t},e)}))),p&&l.default.createElement("div",{className:"help-text"},l.default.createElement(i.default,{Icon:s.default,x:600},"* ",p)),b&&l.default.createElement("div",{className:"error-field"},l.default.createElement(i.default,{Icon:s.default,x:400,y:400},y[_])))}d.propTypes={field:n.default.object,form:n.default.object,is_textarea:n.default.bool,type:n.default.string,label:n.default.string,placeholder:n.default.string,dataList:n.default.array,help:n.default.string,max_length:n.default.number},d.defaultProps={is_textarea:!1,dataList:[],type:"text"},t.default=d},55927:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fields=t.validationSchema=t.initialValues=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(57503));t.initialValues={username:"",password:"",password_confirm:"",email:"",first_name:"",last_name:""},t.validationSchema=r.object().shape({username:r.string().matches(/^[a-zA-Z0-9]{5,15}$/,"Username is invalid").required(),password:r.string().matches(/[A-Z]/,"Password is invalid").required(),password_confirm:r.string().oneOf([r.ref("password"),null],"Password is not right").required(),email:r.string().email("Invalid email").matches(/^\S{3,10}@[a-z]mail\.com$/,"Invalid email").required(),first_name:r.string().matches(/^[a-zA-Z]{1}[a-zA-Z ]{1,20}$/,"First name is invalid").required().trim("First name is invalid"),last_name:r.string().matches(/^[a-zA-Z]{1}[a-zA-Z ]{1,14}$/,"Last name is invalid").required().trim("First name is invalid")}),t.fields=[{name:"username",type:"text",label:"Username",help:"5-15 letters and no space",max_length:15},{name:"password",type:"password",label:"Password",help:"5-15 letters, no space and at least 1 uppercase letter",max_length:15},{name:"password_confirm",type:"password",label:"Password confirm",help:"Confirm your password",max_length:15},{name:"email",type:"email",label:"Email",help:"***@*mail.com"},{name:"first_name",type:"text",label:"First name",help:"1-20 letters, spaces and start with a letter",max_length:20},{name:"last_name",type:"text",label:"Last name",help:"1-15 letters, spaces and start with a letter",max_length:15}]},6204:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,l=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){l=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(l)throw n}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=a(67294),n=g(l),i=a(93191),s=a(18948),u=a(12520),o=(g(a(45697)),a(15130)),d=a(54902),c=g(a(48321)),f=g(a(39475)),p=g(a(4124)),m=g(a(57108)),_=g(a(27883)),h=g(a(22607)),v=g(a(3028)),y=a(55927);a(3912);var b=a(13221),x=a(37121);function g(e){return e&&e.__esModule?e:{default:e}}function w(e){var t,a,g=(t=regeneratorRuntime.mark((function e(t){var a,r,l,n,i,s,u,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scroll(0,0),a=t.username,r=t.password,l=t.first_name,n=t.last_name,i=t.email,s=(0,c.default)({username:a,password:r,email:i,first_name:l,last_name:n}),e.prev=3,e.next=6,R((function(){return(0,d.SignupRequest)(s)}),_.default);case 6:u=e.sent,"username_existed"==(o=u.data)?j(!0):"email_existed"==o?M(!0):(sessionStorage.new_member=1,P({id:o.id,first_name:o.first_name,last_name:o.last_name,picture:o.picture})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,11]])})),a=function(){var e=t.apply(this,arguments);return new Promise((function(t,a){return function r(l,n){try{var i=e[l](n),s=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)}),w=(0,l.useContext)(o.context_api),E=w.user,P=w.setDataUser,I=(0,u.useDispatch)(),k=(0,l.useState)(!1),N=r(k,2),S=N[0],j=N[1],O=(0,l.useState)(!1),T=r(O,2),A=T[0],M=T[1],R=(0,b.useScreenFetching)();function C(){S&&j(!1),A&&M(!1)}return(0,l.useEffect)((function(){return document.title="Registration",I((0,x.actionLocation)(!0)),function(){I((0,x.actionLocation)(!1))}}),[]),E.id?n.default.createElement(i.Redirect,{to:"/home"}):n.default.createElement("div",null,n.default.createElement(s.Formik,{initialValues:y.initialValues,validationSchema:y.validationSchema,onSubmit:function(e,t){g(e)}},(function(e){return n.default.createElement(s.Form,{autoComplete:"off",className:"Registration_form App_Form brs-5px App_box_shadow",onClick:C},n.default.createElement("h2",{className:"App_title margin-0"},"Sign up")," ",n.default.createElement("hr",{className:"App_hr-bg"}),n.default.createElement("div",{className:"Registration_error text-red "+(S||A?"":"display-none")},n.default.createElement(m.default,{Icon:f.default,x:400,y:400},S?"Username":"Email"," was existed")),y.fields.map((function(e,t){return n.default.createElement("div",{key:"Registration_"+t,className:"Registration_input"},n.default.createElement(s.FastField,{name:e.name,component:e.name.startsWith("password")?v.default:h.default,label:e.label,placeholder:e.label+"...",help:e.help,max_length:e.max_length}))})),n.default.createElement("div",{className:"App_submit display-flex-center"},n.default.createElement(p.default,{type:"submit"},"Sign up")))})))}w.propTypes={},t.default=w},37121:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:"REGISTER",payload:e}}},40824:(e,t,a)=>{"use strict";a.r(t)},38093:(e,t,a)=>{"use strict";a.r(t)},17727:(e,t,a)=>{"use strict";a.r(t)},3912:(e,t,a)=>{"use strict";a.r(t)}}]);
//# sourceMappingURL=6204.js.map